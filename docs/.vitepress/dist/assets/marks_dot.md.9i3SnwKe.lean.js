import{k as D,J as E,m as q,p as S,G as B,c as I,L as n,s as k,q as s,a as i,w as V,a8 as j,t as O,a6 as a,o as N}from"./chunks/framework.Bev6ATEH.js";import{bm as R,c as d,b as c,z as Y,e as p,w as m,G as F,bn as z,h as X,t as M,bo as W,az as T,bp as U,B as H,bq as L,ay as x}from"./chunks/theme.DAWdUpF4.js";import{f as $}from"./chunks/feature.DXDMwmIR.js";import{m as G}from"./chunks/mesh.DUGB6pHu.js";import{a as _}from"./chunks/alphabet.Chdqe_eo.js";import{c as A}from"./chunks/cars.Do83JJ0T.js";import{p as J}from"./chunks/penguins.C-n8z74Q.js";const Q=a("",2),K=a("",3),Z=a("",3),ss=a("",3),is=a("",3),as=a("",4),ts=a("",3),ns=a("",3),es=a("",5),ls=a("",3),hs=a("",2),ps=a("",3),ks=a("",4),os=s("strong",null,"sort",-1),rs={class:"label-input"},Es=s("a",{class:"plot-fork no-icon",href:"https://observablehq.com/@observablehq/plot-dot-sort?intent=fork",target:"_blank",title:"Open on Observable"},"Fork",-1),ds={class:"language-js vp-adaptive-theme"},gs=s("button",{title:"Copy Code",class:"copy"},null,-1),cs=s("span",{class:"lang"},"js",-1),ys={class:"shiki shiki-themes github-light github-dark vp-code"},us=s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"Plot."),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"plot"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"({")],-1),ms=s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  projection: "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"albers-usa"'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},",")],-1),Fs=s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  marks: [")],-1),_s=a("",1),bs=a("",1),Cs=a("",1),fs=s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"      fill: "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"currentColor"'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},",")],-1),vs={class:"line"},qs=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"      stroke: ",-1),Bs={style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},Ts=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},",",-1),xs=s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"      strokeWidth: "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"1"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},",")],-1),As=a("",1),Ps=s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    }))")],-1),ws=s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  ]")],-1),Ds=s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"})")],-1),Ss=s("p",null,[i("The dot mark can also be used to construct a "),s("a",{href:"https://observablehq.com/@observablehq/qq-plot",target:"_blank",rel:"noreferrer"},"quantile-quantile (QQ) plot"),i(" for comparing two univariate distributions.")],-1),Is=s("h2",{id:"dot-options",tabindex:"-1"},[i("Dot options "),s("a",{class:"header-anchor",href:"#dot-options","aria-label":'Permalink to "Dot options"'},"​")],-1),Vs=s("p",null,[i("In addition to the "),s("a",{href:"./../features/marks#mark-options"},"standard mark options"),i(", the following optional channels are supported:")],-1),js=a("",4),Os=s("strong",null,"symbol",-1),Ns=s("em",null,"symbol",-1),Rs=s("p",null,[i("If either of the "),s("strong",null,"x"),i(" or "),s("strong",null,"y"),i(" channels are not specified, the corresponding position is controlled by the "),s("strong",null,"frameAnchor"),i(" option.")],-1),Ys=s("p",null,"The following dot-specific constant options are also supported:",-1),zs=s("li",null,[s("strong",null,"r"),i(" - the effective radius (length); a number in pixels")],-1),Xs=s("li",null,[s("strong",null,"rotate"),i(" - the rotation angle in degrees clockwise; defaults to 0")],-1),Ms=s("strong",null,"symbol",-1),Ws=s("em",null,"circle",-1),Us=s("li",null,[s("strong",null,"frameAnchor"),i(" - how to position the dot within the frame; defaults to "),s("em",null,"middle")],-1),Hs=a("",13),Ls={id:"circle",tabindex:"-1"},$s=s("em",null,"data",-1),Gs=s("em",null,"options",-1),Js=s("a",{class:"header-anchor",href:"#circle","aria-label":'Permalink to "circle(*data*, *options*) <VersionBadge version="0.5.0" /> {#circle}"'},"​",-1),Qs=s("p",null,[i("Equivalent to "),s("a",{href:"#dot"},"dot"),i(" except that the "),s("strong",null,"symbol"),i(" option is set to "),s("em",null,"circle"),i(".")],-1),Ks={id:"hexagon",tabindex:"-1"},Zs=s("em",null,"data",-1),si=s("em",null,"options",-1),ii=s("a",{class:"header-anchor",href:"#hexagon","aria-label":'Permalink to "hexagon(*data*, *options*) <VersionBadge version="0.5.0" /> {#hexagon}"'},"​",-1),ai=s("p",null,[i("Equivalent to "),s("a",{href:"#dot"},"dot"),i(" except that the "),s("strong",null,"symbol"),i(" option is set to "),s("em",null,"hexagon"),i(".")],-1),Ei=JSON.parse('{"title":"Dot mark","description":"","frontmatter":{},"headers":[],"relativePath":"marks/dot.md","filePath":"marks/dot.md"}'),ti={name:"marks/dot.md"},di=Object.assign(ti,{setup(ni){const y=D(!0),b=E([]),C=E([]),f=E([]),v=E([{Date:new Date("1880-01-01"),Anomaly:-.78},{Date:new Date("2016-12-01"),Anomaly:1.35}]),g=E([]),o=E(null),P=q(()=>o.value?G(o.value,o.value.objects.states):{type:null}),w=q(()=>o.value?$(o.value,o.value.objects.counties).features:[]),u=R({basis:"sum",z:"state",x:"population",y:"state"});return S(()=>{d("../data/aapl.csv",c).then(e=>b.value=e),d("../data/us-congress-2023.csv",c).then(e=>C.value=e),d("../data/diamonds.csv",c).then(e=>f.value=e),d("../data/gistemp.csv",c).then(e=>v.value=e),Promise.all([Y("../data/us-counties-10m.json"),d("../data/us-county-population.csv")]).then(([e,r])=>{const t=new Map(r.map(l=>[l.state+l.county,+l.population]));e.objects.counties.geometries.forEach(l=>l.properties.population=t.get(l.id)),o.value=e}),d("../data/us-population-state-age.csv",c).then(e=>{const r=e.columns.slice(1);g.value=Object.assign(r.flatMap(t=>e.map(l=>({state:l.name,age:t,population:l[t]}))),{ages:r})})}),(e,r)=>{const t=B("PlotRender"),l=B("VersionBadge");return N(),I("div",null,[Q,n(t,{mark:p(k(A),{x:"economy (mpg)",y:"power (hp)"}),options:{grid:!0}},null,8,["mark"]),K,n(t,{options:{grid:!0,inset:10,x:{label:"Fuel consumption (gallons per 100 miles)"},y:{label:"Horsepower"},marks:[p(k(A),{x:h=>100/h["economy (mpg)"],y:"power (hp)"})]}},null,8,["options"]),Z,n(t,{defer:"",options:{y:{grid:!0,tickFormat:"+f",label:"Surface temperature anomaly (°F)"},color:{scheme:"BuRd"},marks:[m([0]),p(v.value,{x:"Date",y:"Anomaly",stroke:"Anomaly"})]}},null,8,["options"]),ss,n(t,{defer:"",options:{grid:!0,x:{label:"Daily change (%)",tickFormat:"+f",percent:!0},y:{type:"log",label:"Daily trading volume"},marks:[F([0]),p(b.value,{x:h=>(h.Close-h.Open)/h.Open,y:"Volume",r:"Volume"})]}},null,8,["options"]),is,n(t,{defer:"",options:{height:640,marginLeft:60,grid:!0,x:{label:"Carats"},y:{label:"Price ($)"},r:{range:[0,20]},marks:[p(f.value,z({r:"count"},{x:"carat",y:"price",thresholds:100}))]}},null,8,["options"]),as,n(t,{mark:p(k(_),{x:"letter",r:"frequency"}),options:{}},null,8,["mark"]),ts,n(t,{options:{x:{label:null,tickPadding:6,tickSize:0},y:{percent:!0},marks:[F(k(_),{x:"letter",y:"frequency",strokeWidth:2}),p(k(_),{x:"letter",y:"frequency",fill:"currentColor",r:4})]}},null,8,["options"]),ns,n(t,{defer:"",options:{height:660,axis:null,grid:!0,x:{axis:"top",label:"Population (%)",percent:!0},color:{scheme:"spectral",domain:g.value.ages,legend:!0},marks:[F([0]),m(g.value,X({x1:"min",x2:"max"},{...k(u),sort:{y:"x1"}})),p(g.value,{...k(u),fill:"age",title:"age"}),M(g.value,W({...k(u),textAnchor:"end",dx:-6,text:"state"}))]}},null,8,["options"]),es,n(t,{defer:"",options:{grid:!0,x:{label:"Body mass (g)"},y:{label:"Flipper length (mm)"},symbol:{legend:!0},marks:[p(k(J),{x:"body_mass_g",y:"flipper_length_mm",stroke:"species",symbol:"species"})]}},null,8,["options"]),ls,n(t,{mark:T(["circle","cross","diamond","square","star","triangle","wye"],{fill:"currentColor",symbol:x}),options:{}},null,8,["mark"]),hs,n(t,{mark:T(["circle","plus","times","triangle2","asterisk","square2","diamond2"],{stroke:"currentColor",symbol:x}),options:{}},null,8,["mark"]),ps,n(t,{defer:"",options:{aspectRatio:1,x:{label:"Age (years)"},y:{grid:!0,label:"← Women · Men →",labelAnchor:"center",tickFormat:Math.abs},marks:[p(C.value,U({x:h=>2023-h.birthday.getUTCFullYear(),y:h=>h.gender==="M"?1:-1,fill:"gender",title:"full_name"})),m([0])]}},null,8,["options"]),ks,s("p",null,[i("Dots are sorted by descending radius by default "),n(l,{version:"0.5.0"}),i(" to mitigate occlusion; the smallest dots are drawn on top. Set the "),os,i(" option to null to draw them in input order. Use the checkbox below to see the effect of sorting on a bubble map of U.S. county population.")]),s("p",null,[s("label",rs,[i(" Use default sort: "),V(s("input",{type:"checkbox","onUpdate:modelValue":r[0]||(r[0]=h=>y.value=h)},null,512),[[j,y.value]])])]),n(t,{defer:"",options:{projection:"albers-usa",marks:[H(P.value,{strokeOpacity:.4}),p(w.value,L({r:h=>h.properties.population,fill:"currentColor",stroke:"var(--vp-c-bg)",strokeWidth:1,sort:y.value?void 0:null}))]}},null,8,["options"]),Es,s("div",ds,[gs,cs,s("pre",ys,[s("code",null,[us,i(`
`),ms,i(`
`),Fs,i(`
`),_s,i(`
`),bs,i(`
`),Cs,i(`
`),fs,i(`
`),s("span",vs,[qs,s("span",Bs,'"'+O(e.$dark?"black":"white")+'"',1),Ts]),i(`
`),xs,i(`
`),As,i(`
`),Ps,i(`
`),ws,i(`
`),Ds])])]),Ss,Is,Vs,s("ul",null,[js,s("li",null,[Os,i(" - the categorical symbol; bound to the "),Ns,i(" scale "),n(l,{version:"0.4.0"})])]),Rs,Ys,s("ul",null,[zs,Xs,s("li",null,[Ms,i(" - the categorical symbol; defaults to "),Ws,i(),n(l,{version:"0.4.0"})]),Us]),Hs,s("h2",Ls,[i("circle("),$s,i(", "),Gs,i(") "),n(l,{version:"0.5.0"}),i(),Js]),Qs,s("h2",Ks,[i("hexagon("),Zs,i(", "),si,i(") "),n(l,{version:"0.5.0"}),i(),ii]),ai])}}});export{Ei as __pageData,di as default};
