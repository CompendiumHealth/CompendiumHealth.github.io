import{k as v,m as C,J as B,p as q,G as y,c as T,L as n,q as s,a as i,t as d,w as m,aa as F,a6 as t,o as x}from"./chunks/framework.Bev6ATEH.js";import{c as w,b as P,y as k,M as h,w as p,bG as g,bN as A,bO as S,G as I,bn as u,e as c,j,a as Y,bP as V,bQ as X}from"./chunks/theme.DAWdUpF4.js";const D=t("",4),O=t("",4),N=s("a",{class:"plot-fork no-icon",href:"https://observablehq.com/@observablehq/plot-color-bins?intent=fork",target:"_blank",title:"Open on Observable"},"Fork",-1),R={class:"language-js vp-adaptive-theme"},z=s("button",{title:"Copy Code",class:"copy"},null,-1),G=s("span",{class:"lang"},"js",-1),M={class:"shiki shiki-themes github-light github-dark vp-code"},$=s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"Plot")],-1),L=t("",1),W={class:"line"},H=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  .",-1),U=s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"plot",-1),J=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"({color: {scheme: ",-1),Q={style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},K=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}})",-1),Z=s("p",null,[i("You can partition bins using "),s("strong",null,"z"),i(". If "),s("strong",null,"z"),i(" is undefined, it defaults to "),s("strong",null,"fill"),i(" or "),s("strong",null,"stroke"),i(", if any. In conjunction with the rectY markâ€™s implicit "),s("a",{href:"./stack"},"stackY transform"),i(", this will produce a stacked histogram.")],-1),ss=t("",4),is=s("a",{class:"plot-fork no-icon",href:"https://observablehq.com/@observablehq/plot-overlapping-histogram?intent=fork",target:"_blank",title:"Open on Observable"},"Fork",-1),ts={class:"language-js vp-adaptive-theme"},as=s("button",{title:"Copy Code",class:"copy"},null,-1),ns=s("span",{class:"lang"},"js",-1),es={class:"shiki shiki-themes github-light github-dark vp-code"},ls=s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"Plot."),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"plot"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"({")],-1),hs=s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  y: {grid: "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"true"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"},")],-1),os=s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  marks: [")],-1),ps={class:"line"},rs=t("",11),ks={style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},Es=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"})),",-1),ds=t("",1),gs=s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  ]")],-1),us=s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"})")],-1),cs=t("",4),ys=t("",3),ms=s("a",{class:"plot-fork no-icon",href:"https://observablehq.com/@observablehq/plot-olympians-heatmap?intent=fork",target:"_blank",title:"Open on Observable"},"Fork",-1),Fs={class:"language-js vp-adaptive-theme"},bs=s("button",{title:"Copy Code",class:"copy"},null,-1),_s=s("span",{class:"lang"},"js",-1),fs={class:"shiki shiki-themes github-light github-dark vp-code"},vs=s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"Plot")],-1),Cs=t("",1),Bs={class:"line"},qs=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  .",-1),Ts=s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"plot",-1),xs=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"({color: {scheme: ",-1),ws={style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},Ps=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}})",-1),As=s("p",null,[i("The bin transform also outputs "),s("strong",null,"x"),i(" and "),s("strong",null,"y"),i(" channels representing bin centers. These can be used to place a "),s("a",{href:"./../marks/dot"},"dot mark"),i(" whose size again represents the number of athletes in each bin.")],-1),Ss=t("",3),Is=t("",3),js=t("",3),Ys=t("",3),Vs={class:"label-input"},Xs={style:{"margin-left":"0.5em","font-variant":"tabular-nums"}},Ds={style:{"margin-left":"0.5em","font-variant":"tabular-nums"}},Os=t("",2),Ns={class:"language-js vp-adaptive-theme"},Rs=s("button",{title:"Copy Code",class:"copy"},null,-1),zs=s("span",{class:"lang"},"js",-1),Gs={class:"shiki shiki-themes github-light github-dark vp-code"},Ms=s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"Plot."),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"plot"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"({")],-1),$s=s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  marginLeft: "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"100"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},",")],-1),Ls=s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  padding: "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"0"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},",")],-1),Ws=s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  x: {grid: "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"true"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"},")],-1),Hs=t("",1),Us={class:"line"},Js=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  color: {scheme: ",-1),Qs={style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},Ks=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"},",-1),Zs=t("",1),si=s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"})")],-1),ii=s("p",null,[i("The bin transform sets default insets for a one-pixel gap between rects. You can set explicit insets if you prefer, say if you want the rects to touch. In this case we recommend rounding on the "),s("em",null,"x"),i(" scale to avoid antialiasing artifacts between rects.")],-1),ti=t("",10),ai=t("",24),ni=s("em",null,"z",-1),ei=s("em",null,"z",-1),li=s("em",null,"z",-1),hi=s("em",null,"fill",-1),oi=s("em",null,"stroke",-1),pi=t("",33),gi=JSON.parse('{"title":"Bin transform","description":"","frontmatter":{},"headers":[],"relativePath":"transforms/bin.md","filePath":"transforms/bin.md"}'),ri={name:"transforms/bin.md"},ui=Object.assign(ri,{setup(ki){const r=v("+1"),b=C(()=>+r.value),a=B([{weight:31,height:1.21,sex:"female"},{weight:170,height:2.21,sex:"male"}]);return q(()=>{w("../data/athletes.csv",P).then(l=>a.value=l)}),(l,E)=>{const e=y("PlotRender"),_=y("VersionBadge");return x(),T("div",null,[D,n(e,{defer:"",options:{y:{grid:!0},marks:[k(a.value,h({y:"count"},{x:"weight"})),p([0])]}},null,8,["options"]),O,n(e,{defer:"",mark:g(a.value,h({fill:"count"},{x:"weight"})),options:{color:{scheme:l.$dark?"turbo":"YlGnBu"}}},null,8,["mark","options"]),N,s("div",R,[z,G,s("pre",M,[s("code",null,[$,i(`
`),L,i(`
`),s("span",W,[H,U,J,s("span",Q,'"'+d(l.$dark?"turbo":"YlGnBu")+'"',1),K])])])]),Z,n(e,{defer:"",options:{y:{grid:!0},color:{legend:!0},marks:[k(a.value,h({y:"count"},{x:"weight",fill:"sex"})),p([0])]}},null,8,["options"]),ss,n(e,{defer:"",options:{y:{grid:!0},marks:[k(a.value,h({y2:"count"},{x:"weight",fill:"sex",mixBlendMode:l.$dark?"screen":"multiply"})),p([0])]}},null,8,["options"]),is,s("div",ts,[as,ns,s("pre",es,[s("code",null,[ls,i(`
`),hs,i(`
`),os,i(`
`),s("span",ps,[rs,s("span",ks,'"'+d(l.$dark?"screen":"multiply")+'"',1),Es]),i(`
`),ds,i(`
`),gs,i(`
`),us])])]),cs,n(e,{defer:"",options:{x:{grid:!0},marks:[A(a.value,S({x:"count"},{y:"weight"})),I([0])]}},null,8,["options"]),ys,n(e,{defer:"",mark:g(a.value,u({fill:"count"},{x:"weight",y:"height"})),options:{color:{scheme:l.$dark?"turbo":"YlGnBu"}}},null,8,["mark","options"]),ms,s("div",Fs,[bs,_s,s("pre",fs,[s("code",null,[vs,i(`
`),Cs,i(`
`),s("span",Bs,[qs,Ts,xs,s("span",ws,'"'+d(l.$dark?"turbo":"YlGnBu")+'"',1),Ps])])])]),As,n(e,{defer:"",options:{r:{range:[0,6]},marks:[c(a.value,u({r:"count"},{x:"weight",y:"height"}))]}},null,8,["options"]),Ss,n(e,{options:{r:{range:[0,6]},marks:[c(a.value,u({r:"count"},{x:"weight",y:"height",stroke:"sex"}))]}},null,8,["options"]),Is,n(e,{options:{r:{range:[0,14]},marks:[c(a.value,h({r:"count"},{x:"weight"}))]}},null,8,["options"]),js,n(e,{defer:"",options:{y:{grid:!0},marks:[j(a.value,h({y:"count",filter:null},{x:"weight",fillOpacity:.2})),Y(a.value,h({y:"count",filter:null},{x:"weight"})),p([0])]}},null,8,["options"]),Ys,s("p",null,[s("span",Vs,[i(" Cumulative: "),s("label",Xs,[m(s("input",{type:"radio",name:"cumulative",value:"-1","onUpdate:modelValue":E[0]||(E[0]=o=>r.value=o)},null,512),[[F,r.value]]),i(" -1 (reverse)")]),s("label",Ds,[m(s("input",{type:"radio",name:"cumulative",value:"+1","onUpdate:modelValue":E[1]||(E[1]=o=>r.value=o)},null,512),[[F,r.value]]),i(" +1 (true)")])])]),n(e,{options:{marginLeft:60,y:{grid:!0},marks:[k(a.value,h({y:"count"},{x:"weight",cumulative:b.value})),p([0])]}},null,8,["options"]),Os,n(e,{defer:"",options:{marginLeft:100,padding:0,x:{grid:!0},fy:{domain:V(a.value.filter(o=>o.weight),o=>X(o,f=>f.weight),o=>o.sport)},color:{scheme:l.$dark?"turbo":"YlGnBu"},marks:[g(a.value,h({fill:"proportion-facet"},{x:"weight",fy:"sport",inset:.5}))]}},null,8,["options"]),s("div",Ns,[Rs,zs,s("pre",Gs,[s("code",null,[Ms,i(`
`),$s,i(`
`),Ls,i(`
`),Ws,i(`
`),Hs,i(`
`),s("span",Us,[Js,s("span",Qs,'"'+d(l.$dark?"turbo":"YlGnBu")+'"',1),Ks]),i(`
`),Zs,i(`
`),si])])]),ii,n(e,{defer:"",options:{x:{round:!0},y:{grid:!0},marks:[k(a.value,h({y:"count"},{x:"weight",inset:0})),p([0])]}},null,8,["options"]),ti,s("ul",null,[ai,s("li",null,[ni,i(),n(_,{version:"0.6.14",pr:"1959"}),i(" - the binâ€™s "),ei,i(" value ("),li,i(", "),hi,i(", or "),oi,i(")")])]),pi])}}});export{gi as __pageData,ui as default};
