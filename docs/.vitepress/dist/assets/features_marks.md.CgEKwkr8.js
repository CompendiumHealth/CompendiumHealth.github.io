import{k as Us,J,p as Ls,G as ds,c as Ys,L as p,s as O,q as y,a as f,w as Gs,a8 as Ws,a6 as h,o as zs}from"./chunks/framework.Bev6ATEH.js";import{c as Z,b as K,e as ss,a as F,k as N,w as is,j as gs,x as as,y as Hs}from"./chunks/theme.DAWdUpF4.js";import{a as cs}from"./chunks/alphabet.Chdqe_eo.js";import{g as L}from"./chunks/gistemp.COkDWNKX.js";function ys(a){const e=document.createElement("template");return e.innerHTML=a,document.importNode(e.content,!0)}function us(a){const e=document.createElementNS("http://www.w3.org/2000/svg","g");return e.innerHTML=a,e}Object.assign(Q(ys,a=>{if(a.firstChild===null)return null;if(a.firstChild===a.lastChild)return a.removeChild(a.firstChild);const e=document.createElement("span");return e.appendChild(a),e}),{fragment:Q(ys,a=>a)});const Xs=Object.assign(Q(us,a=>a.firstChild===null?null:a.firstChild===a.lastChild?a.removeChild(a.firstChild):a),{fragment:Q(us,a=>{const e=document.createDocumentFragment();for(;a.firstChild;)e.appendChild(a.firstChild);return e})}),$s=9,Qs=10,Js=12,Zs=13,Ks=32,si=65,ii=90,ai=97,ti=122,Y=60,u=62,A=47,_=45,ts=33,es=61,ms=34,fs=39,ei=63,c=1,Fs=2,bs=3,ns=4,G=5,S=6,ls=7,W=8,z=9,hs=10,rs=11,H=12,ps=13,V=14,_s=15,vs=16,B=17,Cs=18,Ts=19,Bs=20,qs=21,os=22,M=23,As=24,Ss=25,v=26,ws=27,xs=28,Ps=29,ni=128,Ds=1,li=8,hi=1,Vs="http://www.w3.org/2000/svg",x="http://www.w3.org/1999/xlink",Os="http://www.w3.org/XML/1998/namespace",Ns="http://www.w3.org/2000/xmlns/",Ms=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(a=>[a.toLowerCase(),a])),$=new Map([["xlink:actuate",x],["xlink:arcrole",x],["xlink:href",x],["xlink:role",x],["xlink:show",x],["xlink:title",x],["xlink:type",x],["xml:lang",Os],["xml:space",Os],["xmlns",Ns],["xmlns:xlink",Ns]]);function Q(a,e){return function({raw:k}){let s=c,o="",b,g,m,C,l=0;for(let n=0,T=arguments.length;n<T;++n){const r=k[n];if(n>0){const i=arguments[n];switch(s){case v:{if(i!=null){const E=`${i}`;if(Rs(g))o+=E.replace(/[<]/g,j);else{if(new RegExp(`</${g}[\\s>/]`,"i").test(o.slice(-g.length-2)+E))throw new Error("unsafe raw text");o+=E}}break}case c:{i==null||(i instanceof Node||typeof i!="string"&&i[Symbol.iterator]||/(?:^|>)$/.test(k[n-1])&&/^(?:<|$)/.test(r)?(o+="<!--::"+n+"-->",l|=ni):o+=`${i}`.replace(/[<&]/g,j));break}case z:{s=H;let E;if(/^[\s>]/.test(r)){if(i==null||i===!1){o=o.slice(0,m-k[n-1].length);break}if(i===!0||(E=`${i}`)==""){o+="''";break}if(k[n-1].slice(m,C)==="style"&&ks(i)||typeof i=="function"){o+="::"+n,l|=Ds;break}}if(E===void 0&&(E=`${i}`),E==="")throw new Error("unsafe unquoted empty string");o+=E.replace(/^['"]|[\s>&]/g,j);break}case H:{o+=`${i}`.replace(/[\s>&]/g,j);break}case rs:{o+=`${i}`.replace(/['&]/g,j);break}case hs:{o+=`${i}`.replace(/["&]/g,j);break}case S:{if(ks(i)){o+="::"+n+"=''",l|=Ds;break}throw new Error("invalid binding")}case B:break;default:throw new Error("invalid binding")}}for(let i=0,E=r.length;i<E;++i){const t=r.charCodeAt(i);switch(s){case c:{t===Y&&(s=Fs);break}case Fs:{t===ts?s=Ss:t===A?s=bs:X(t)?(b=i,g=void 0,s=ns,--i):t===ei?(s=G,--i):(s=c,--i);break}case bs:{X(t)?(s=ns,--i):t===u?s=c:(s=G,--i);break}case ns:{w(t)?(s=S,g=U(r,b,i)):t===A?s=V:t===u&&(g=U(r,b,i),s=R(g)?v:c);break}case S:{w(t)||(t===A||t===u?(s=ls,--i):t===es?(s=W,m=i+1,C=void 0):(s=W,--i,m=i+1,C=void 0));break}case W:{w(t)||t===A||t===u?(s=ls,--i,C=i):t===es&&(s=z,C=i);break}case ls:{w(t)||(t===A?s=V:t===es?s=z:t===u?s=R(g)?v:c:(s=W,--i,m=i+1,C=void 0));break}case z:{w(t)||(t===ms?s=hs:t===fs?s=rs:t===u?s=R(g)?v:c:(s=H,--i));break}case hs:{t===ms&&(s=ps);break}case rs:{t===fs&&(s=ps);break}case H:{w(t)?s=S:t===u&&(s=R(g)?v:c);break}case ps:{w(t)?s=S:t===A?s=V:t===u?s=R(g)?v:c:(s=S,--i);break}case V:{t===u?s=c:(s=S,--i);break}case G:{t===u&&(s=c);break}case _s:{t===_?s=vs:t===u?s=c:(s=B,--i);break}case vs:{t===_?s=M:t===u?s=c:(s=B,--i);break}case B:{t===Y?s=Cs:t===_&&(s=os);break}case Cs:{t===ts?s=Ts:t!==Y&&(s=B,--i);break}case Ts:{t===_?s=Bs:(s=B,--i);break}case Bs:{t===_?s=qs:(s=M,--i);break}case qs:{s=M,--i;break}case os:{t===_?s=M:(s=B,--i);break}case M:{t===u?s=c:t===ts?s=As:t!==_&&(s=B,--i);break}case As:{t===_?s=os:t===u?s=c:(s=B,--i);break}case Ss:{t===_&&r.charCodeAt(i+1)===_?(s=_s,++i):(s=G,--i);break}case v:{t===Y&&(s=ws);break}case ws:{t===A?s=xs:(s=v,--i);break}case xs:{X(t)?(b=i,s=Ps,--i):(s=v,--i);break}case Ps:{w(t)&&g===U(r,b,i)?s=S:t===A&&g===U(r,b,i)?s=V:t===u&&g===U(r,b,i)?s=c:X(t)||(s=v,--i);break}default:{s=void 0;break}}}o+=r}const P=a(o),d=document.createTreeWalker(P,l,null,!1),Es=[];for(;d.nextNode();){const n=d.currentNode;switch(n.nodeType){case hi:{const T=n.attributes;for(let r=0,i=T.length;r<i;++r){const{name:E,value:t}=T[r];if(/^::/.test(E)){const D=arguments[+E.slice(2)];js(n,E),--r,--i;for(const I in D){const q=D[I];q==null||q===!1||(typeof q=="function"?n[I]=q:I==="style"&&ks(q)?Is(n[I],q):ri(n,I,q===!0?"":q))}}else if(/^::/.test(t)){const D=arguments[+t.slice(2)];js(n,E),--r,--i,typeof D=="function"?n[E]=D:Is(n[E],D)}}break}case li:{if(/^::/.test(n.data)){const T=n.parentNode,r=arguments[+n.data.slice(2)];if(r instanceof Node)T.insertBefore(r,n);else if(typeof r!="string"&&r[Symbol.iterator])if(r instanceof NodeList||r instanceof HTMLCollection)for(let i=r.length-1,E=n;i>=0;--i)E=T.insertBefore(r[i],E);else for(const i of r)i!=null&&T.insertBefore(i instanceof Node?i:document.createTextNode(i),n);else T.insertBefore(document.createTextNode(r),n);Es.push(n)}break}}}for(const n of Es)n.parentNode.removeChild(n);return e(P)}}function j(a){return`&#${a.charCodeAt(0).toString()};`}function X(a){return si<=a&&a<=ii||ai<=a&&a<=ti}function w(a){return a===$s||a===Qs||a===Js||a===Ks||a===Zs}function ks(a){return a&&a.toString===Object.prototype.toString}function R(a){return a==="script"||a==="style"||Rs(a)}function Rs(a){return a==="textarea"||a==="title"}function U(a,e,k){return a.slice(e,k).toLowerCase()}function ri(a,e,k){if(a.namespaceURI===Vs&&(e=e.toLowerCase(),e=Ms.get(e)||e,$.has(e))){a.setAttributeNS($.get(e),e,k);return}a.setAttribute(e,k)}function js(a,e){if(a.namespaceURI===Vs&&(e=e.toLowerCase(),e=Ms.get(e)||e,$.has(e))){a.removeAttributeNS($.get(e),e);return}a.removeAttribute(e)}function Is(a,e){for(const k in e){const s=e[k];k.startsWith("--")?a.setProperty(k,s):a[k]=s}}const pi=h('<h1 id="Marks" tabindex="-1">Marks <a class="header-anchor" href="#Marks" aria-label="Permalink to &quot;Marks {#Marks}&quot;">‚Äã</a></h1><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>If you aren‚Äôt yet up and running with Plot, please read our <a href="./../getting-started">getting started guide</a> first. Tinkering with the code below will give a better sense of how Plot works.</p></div><p>Plot doesn‚Äôt have chart types; instead, you construct charts by layering <strong>marks</strong>.</p><h2 id="marks-are-geometric-shapes" tabindex="-1">Marks are geometric shapes <a class="header-anchor" href="#marks-are-geometric-shapes" aria-label="Permalink to &quot;Marks are geometric shapes&quot;">‚Äã</a></h2><p>Plot provides a variety of mark types. Think of marks as the ‚Äúvisual vocabulary‚Äù ‚Äî¬†the painter‚Äôs palette üé®, but of shapes instead of colors ‚Äî¬†that you pull from when composing a chart. Each mark type produces a certain type of geometric shape.</p><p>For example, the <a href="./../marks/dot">dot mark</a> draws stroked circles (by default).</p>',6),oi=h('<a class="plot-fork no-icon" href="https://observablehq.com/@observablehq/plot-temporal-scatterplot?intent=fork" target="_blank" title="Open on Observable">Fork</a><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(gistemp, {x: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Date&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, y: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Anomaly&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre></div><p>The <a href="./../marks/line">line mark</a> draws connected line segments (also known as a <em>polyline</em> or <em>polygonal chain</em>).</p>',3),ki=h('<a class="plot-fork no-icon" href="https://observablehq.com/@observablehq/plot-temporal-line-chart?intent=fork" target="_blank" title="Open on Observable">Fork</a><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lineY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(gistemp, {x: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Date&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, y: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Anomaly&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre></div><p>And the <a href="./../marks/bar">bar mark</a> draws rectangular bars in either a horizontal (barX‚Üí) or vertical (barY‚Üë) orientation.</p>',3),Ei=h('<a class="plot-fork no-icon" href="https://observablehq.com/@observablehq/plot-alphabet-bar-chart?intent=fork" target="_blank" title="Open on Observable">Fork</a><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">barX</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(alphabet, {x: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;frequency&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, y: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;letter&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre></div><p>So instead of looking for a chart type, consider the shape of the primary graphical elements in your chart, and look for the corresponding mark type. If a chart has only a single mark, the mark type <em>is</em> effectively the chart type: the bar mark is used to make a bar chart, the area mark is used to make an area chart, and so on.</p><h2 id="marks-are-layered" tabindex="-1">Marks are layered <a class="header-anchor" href="#marks-are-layered" aria-label="Permalink to &quot;Marks are layered&quot;">‚Äã</a></h2><p>The big advantage of mark types over chart types is that you can compose multiple marks of different types into a single <a href="./plots">plot</a>. For example, below an <a href="./../marks/area">area</a> and <a href="./../marks/line">line</a> are used to plot the same sequence of values, while a <a href="./../marks/rule">rule</a> emphasizes <em>y</em> = 0.</p>',5),di=h(`<a class="plot-fork no-icon" href="https://observablehq.com/@observablehq/plot-layered-marks-2?intent=fork" target="_blank" title="Open on Observable">Fork</a><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  marks: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ruleY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">areaY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(aapl, {x: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Date&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, y: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Close&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, fillOpacity: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lineY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(aapl, {x: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Date&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, y: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Close&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><p>Each mark supplies its own data; a quick way to combine multiple datasets into a chart is to declare a separate mark for each. You can even use <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map" target="_blank" rel="noreferrer"><em>array</em>.map</a> to create multiple marks from nested data.</p>`,3),gi=h(`<a class="plot-fork no-icon" href="https://observablehq.com/@observablehq/plot-layered-marks-2?intent=fork" target="_blank" title="Open on Observable">Fork</a><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  marks: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    [goog, aapl].</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">stock</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lineY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(stock, {x: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Date&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, y: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Close&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><p>Marks may also be a function which returns an SVG element, if you wish to insert arbitrary content. (Here we use <a href="https://github.com/observablehq/htl" target="_blank" rel="noreferrer">Hypertext Literal</a> to generate an SVG gradient.)</p>`,3),ci=h(`<a class="plot-fork no-icon" href="https://observablehq.com/@observablehq/plot-gradient-bars?intent=fork" target="_blank" title="Open on Observable">Fork</a><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  marks: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> htl.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">svg</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`&lt;defs&gt;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &lt;linearGradient id=&quot;gradient&quot; gradientTransform=&quot;rotate(90)&quot;&gt;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &lt;stop offset=&quot;15%&quot; stop-color=&quot;purple&quot; /&gt;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &lt;stop offset=&quot;75%&quot; stop-color=&quot;red&quot; /&gt;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &lt;stop offset=&quot;100%&quot; stop-color=&quot;gold&quot; /&gt;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &lt;/linearGradient&gt;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &lt;/defs&gt;\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">barY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(alphabet, {x: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;letter&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, y: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;frequency&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, fill: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;url(#gradient)&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ruleY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">])</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><p>And marks may be null or undefined, which produce no output; this is useful for showing marks conditionally (<em>e.g.</em>, when a box is checked).</p>`,3),yi={class:"label-input"},ui=h(`<a class="plot-fork no-icon" href="https://observablehq.com/@observablehq/plot-optional-marks?intent=fork" target="_blank" title="Open on Observable">Fork</a><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  marks: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ruleY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    area </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">areaY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(aapl, {x: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Date&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, y: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Close&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, fillOpacity: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lineY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(aapl, {x: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Date&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, y: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Close&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><h2 id="marks-use-scales" tabindex="-1">Marks use scales <a class="header-anchor" href="#marks-use-scales" aria-label="Permalink to &quot;Marks use scales&quot;">‚Äã</a></h2><p>Marks are (typically) not positioned in literal pixels, or colored in literal colors, as in a conventional graphics system. Instead you provide abstract values such as time and temperature ‚Äî¬†marks are drawn ‚Äúin data space‚Äù ‚Äî¬†and <a href="./scales">scales</a> encode these into visual values such as position and color. And best of all, Plot automatically creates <a href="./../marks/axis">axes</a> and <a href="./legends">legends</a> to document the scales‚Äô encodings.</p><p>Data is passed through scales automatically during rendering; the mark controls which scales are used. The <strong>x</strong> and <strong>y</strong> options are typically bound to the <em>x</em> and <em>y</em> scales, respectively, while the <strong>fill</strong> and <strong>stroke</strong> options are typically bound to the <em>color</em> scale. Changing a scale‚Äôs definition, say by overriding its <strong>domain</strong> (the extent of abstract input values) or <strong>type</strong>, affects the appearance of all marks that use the scale.</p>`,5),mi=h(`<a class="plot-fork no-icon" href="https://observablehq.com/@observablehq/plot-aapl-log-scale?intent=fork" target="_blank" title="Open on Observable">Fork</a><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  y: {</span></span>
<span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;log&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    domain: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">30</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">300</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    grid: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  marks: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lineY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(aapl, {x: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Date&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, y: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Close&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><h2 id="marks-have-tidy-data" tabindex="-1">Marks have tidy data <a class="header-anchor" href="#marks-have-tidy-data" aria-label="Permalink to &quot;Marks have tidy data&quot;">‚Äã</a></h2><p>A single mark can draw multiple shapes. A mark generally produces a shape ‚Äî¬†such as a rectangle or circle ‚Äî¬†for each element in the data.</p>`,4),fi=h('<a class="plot-fork no-icon" href="https://observablehq.com/@observablehq/plot-tidy-data?intent=fork" target="_blank" title="Open on Observable">Fork</a><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(aapl, {x: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Date&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, y: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Close&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre></div><p>It‚Äôs more complicated than that, though, since some marks produce shapes that incorporate <em>multiple</em> data points. Pass the same data to a <a href="./../marks/line">line</a> and you‚Äôll get a single polyline.</p>',3),Fi=h('<a class="plot-fork no-icon" href="https://observablehq.com/@observablehq/plot-tidy-data?intent=fork" target="_blank" title="Open on Observable">Fork</a><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lineY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(aapl, {x: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Date&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, y: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Close&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre></div><p>And a line mark isn‚Äôt even guaranteed to produce a single polyline ‚Äî¬†there can be multiple polylines, as in a line chart with multiple series (using <strong>z</strong>).</p>',3),bi=h(`<a class="plot-fork no-icon" href="https://observablehq.com/@observablehq/plot-multiple-series-line-chart?intent=fork" target="_blank" title="Open on Observable">Fork</a><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lineY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(bls, {x: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;date&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, y: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;unemployment&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, z: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;division&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre></div><p>Plot favors <a href="http://vita.had.co.nz/papers/tidy-data.html" target="_blank" rel="noreferrer">tidy data</a> structured as an array of objects, where each object represents an observation (a row), and each object property represents an observed value; all objects in the array should have the same property names (the columns).</p><p>For example, say we have hourly readings from two sensors <em>A</em> and <em>B</em>. You can represent the sensor log as an array of objects like so:</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">linedata </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {hour: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, value: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, sensor: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;A&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {hour: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, value: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, sensor: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;B&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {hour: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, value: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">7</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, sensor: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;A&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {hour: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, value: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, sensor: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;B&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {hour: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, value: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, sensor: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;A&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {hour: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, value: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, sensor: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;B&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {hour: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, value: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">9</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, sensor: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;A&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {hour: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, value: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, sensor: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;B&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre></div><p>Then you can pass the data to the line mark, and extract named columns from the data for the desired options:</p>`,6),_i=h('<a class="plot-fork no-icon" href="https://observablehq.com/@observablehq/plot-accessors?intent=fork" target="_blank" title="Open on Observable">Fork</a><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lineY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(linedata, {x: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;hour&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, y: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;value&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, stroke:¬†</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;sensor&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre></div><p>Another common way to extract a column from tabular data is an accessor function. This function is invoked for each element in the data (each row), and returns the corresponding observed value, as with <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map" target="_blank" rel="noreferrer"><em>array</em>.map</a>.</p>',3),vi=h(`<a class="plot-fork no-icon" href="https://observablehq.com/@observablehq/plot-accessors?intent=fork" target="_blank" title="Open on Observable">Fork</a><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lineY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(linedata, {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  x</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">d</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d.hour,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  y</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">d</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d.value,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  stroke</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:¬†(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">d</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d.sensor</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre></div><p>For greater efficiency, Plot also supports columnar data: you can pass parallel arrays of values to each channel.</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lineY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({length: linedata.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">length</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  x: linedata.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">d</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d.hour),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  y: linedata.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">d</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d.value),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  stroke:¬†linedata.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">d</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d.sensor)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Note that when accessor functions or parallel arrays are used instead of field names, automatic axis labels (<em>hour</em> and <em>value</em>) are lost. These can be restored using the <strong>label</strong> option on the <em>x</em> and <em>y</em> scales.</p></div><h2 id="marks-imply-data-types" tabindex="-1">Marks imply data types <a class="header-anchor" href="#marks-imply-data-types" aria-label="Permalink to &quot;Marks imply data types&quot;">‚Äã</a></h2><p>Data comes in different types: quantitative (or temporal) values can be subtracted, ordinal values can be ordered, and nominal (or categorical) values can only be the same or different.</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>Because nominal values often need some arbitrary order for display purposes ‚Äî¬†often alphabetical ‚Äî¬†Plot uses the term <em>ordinal</em> to refer to both ordinal and nominal data.</p></div><p>Some marks work with any type of data, while other marks have certain requirements or assumptions of data. For example, a line should only be used when both <em>x</em> and <em>y</em> are quantitative or temporal, and when the data is in a meaningful order (such as chronological). This is because the line mark will interpolate between adjacent points to draw line segments. If <em>x</em> or <em>y</em> is nominal ‚Äî¬†say the names of countries ‚Äî¬†it doesn‚Äôt make sense to use a line because there is no half-way point between two nominal values.</p>`,9),Ci=h('<a class="plot-fork no-icon" href="https://observablehq.com/@observablehq/plot-dont-do-this?intent=fork" target="_blank" title="Open on Observable">Fork</a><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lineY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;please&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;don‚Äôt&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;do&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;this&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// üå∂Ô∏è</span></span></code></pre></div><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>While Plot aspires to give good defaults and helpful warnings, Plot won‚Äôt prevent you from creating a meaningless chart. <em>Only you</em> can prevent bogus charts!</p></div><p>In particular, beware the simple ‚Äúbar‚Äù! A bar mark is used for a bar chart, but a rect mark is needed for a histogram. Plot has four different mark types for drawing rectangles:</p><ul><li>use <a href="./../marks/rect">rect</a> when both <em>x</em> and <em>y</em> are quantitative</li><li>use <a href="./../marks/bar">barX</a> when <em>x</em> is quantitative and <em>y</em> is ordinal</li><li>use <a href="./../marks/bar">barY</a> when <em>x</em> is ordinal and <em>y</em> is quantitative</li><li>use <a href="./../marks/cell">cell</a> when both <em>x</em> and <em>y</em> are ordinal</li></ul><p>Plot encourages you to think about data types as you visualize because data types often imply semantics. For example, do you notice anything strange about the bar chart below?</p>',6),Ti=h(`<a class="plot-fork no-icon" href="https://observablehq.com/@observablehq/plot-the-missing-bar?intent=fork" target="_blank" title="Open on Observable">Fork</a><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">barY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(timeseries, {x: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;year&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, y: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;population&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// üå∂Ô∏è</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({x: {tickFormat: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}})</span></span></code></pre></div><p>Here‚Äôs the underlying data:</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">timeseries </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {year: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2014</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, population: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">7295.290765</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {year: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2015</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, population: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">7379.797139</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {year: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2016</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, population: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">7464.022049</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {year: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2017</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, population: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">7547.858925</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {year: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2019</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, population: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">7713.468100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {year: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2020</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, population: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">7794.798739</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre></div><p>The data is missing the population for the year 2018! Because the barY mark implies an ordinal <em>x</em> scale, the gap is hidden. Switching to the rectY mark (with the <strong>interval</strong> option to indicate that these are annual observations) reveals the missing data.</p>`,5),Bi=h(`<a class="plot-fork no-icon" href="https://observablehq.com/@observablehq/plot-the-missing-bar?intent=fork" target="_blank" title="Open on Observable">Fork</a><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rectY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(timeseries, {x: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;year&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, y: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;population&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, interval: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({x: {tickFormat: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}})</span></span></code></pre></div><p>Alternatively, you can keep the barY mark and apply the <strong>interval</strong> option to the <em>x</em> scale.</p>`,3),qi=h(`<a class="plot-fork no-icon" href="https://observablehq.com/@observablehq/plot-the-missing-bar?intent=fork" target="_blank" title="Open on Observable">Fork</a><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">barY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(timeseries, {x: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;year&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, y: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;population&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({x: {tickFormat: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, interval: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}})</span></span></code></pre></div><h2 id="marks-have-options" tabindex="-1">Marks have options <a class="header-anchor" href="#marks-have-options" aria-label="Permalink to &quot;Marks have options&quot;">‚Äã</a></h2><p>When constructing a mark, you can specify options to change the mark‚Äôs appearance. These options are passed as a second argument to the mark constructor. (The first argument is the required data.) For example, if you want filled dots instead of stroked ones, pass the desired color to the <strong>fill</strong> option:</p>`,4),Ai=h('<a class="plot-fork no-icon" href="https://observablehq.com/@observablehq/plot-marks-have-options?intent=fork" target="_blank" title="Open on Observable">Fork</a><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(gistemp, {x: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Date&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, y: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Anomaly&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, fill: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;red&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre></div><p>As the name suggests, options are generally optional; Plot tries to provide good defaults for whatever you don‚Äôt specify. Plot even has <a href="./shorthand">shorthand</a> for various common forms of data. Below, we extract an array of numbers from the <code>gistemp</code> dataset, and use the line mark shorthand to set <em>x</em> = index and <em>y</em> = identity.</p>',3),Si=h('<a class="plot-fork no-icon" href="https://observablehq.com/@observablehq/plot-marks-have-options?intent=fork" target="_blank" title="Open on Observable">Fork</a><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lineY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(gistemp.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">d</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d.Anomaly)).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre></div><p>Some marks even provide default <a href="./transforms">transforms</a>, say for <a href="./../transforms/stack">stacking</a>!</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Because Plot strives to be concise, there are many default behaviors, some of which can be subtle. If Plot isn‚Äôt doing what you expect, try disabling the defaults by specifying options explicitly.</p></div><p>In addition to the standard options such as <strong>fill</strong> and <strong>stroke</strong> that are supported by all mark types, each mark type can support options unique to that type. For example, the dot mark takes a <strong>symbol</strong> option so you can draw things other than circles. See the documentation for each mark type to see what it supports.</p><h2 id="marks-have-channels" tabindex="-1">Marks have channels <a class="header-anchor" href="#marks-have-channels" aria-label="Permalink to &quot;Marks have channels&quot;">‚Äã</a></h2><p>Channels are mark options that can be used to encode data. These options allow the value to vary with the data, such as a different position or color for each dot. To use a channel, supply it with a column of data, typically as:</p><ul><li>a field (column) name,</li><li>an accessor function, or</li><li>an array of values of the same length and order as the data.</li></ul><p>Not all mark options can be expressed as channels. For example, <strong>stroke</strong> can be a channel but <strong>strokeDasharray</strong> cannot. This is mostly a pragmatic limitation ‚Äî¬†it would be harder to implement Plot if every option were expressible as a channel ‚Äî¬†but it also serves to guide you towards options that are intended for encoding data.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>To vary the definition of a constant option with data, create multiple marks with your different constant options, and then filter the data for each mark to achieve the desired result.</p></div><p>Some options can be either a channel or a constant depending on the provided value. For example, if you set the <strong>fill</strong> option to <em>purple</em>, Plot interprets it as a literal color.</p>',11),wi=h(`<a class="plot-fork no-icon" href="https://observablehq.com/@observablehq/plot-marks-have-channels?intent=fork" target="_blank" title="Open on Observable">Fork</a><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">barX</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(timeseries, {x: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;population&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, y: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;year&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, fill: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;purple&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({y: {label: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, tickFormat: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}})</span></span></code></pre></div><p>Whereas if the <strong>fill</strong> option is a string but <em>not</em> a valid CSS color, Plot assumes you mean the corresponding column of the data and interprets it as a channel.</p>`,3),xi=h(`<a class="plot-fork no-icon" href="https://observablehq.com/@observablehq/plot-marks-have-channels?intent=fork" target="_blank" title="Open on Observable">Fork</a><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">barX</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(timeseries, {x: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;population&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, y: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;year&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, fill: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;year&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({y: {label: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, tickFormat: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}})</span></span></code></pre></div><p>If the <strong>fill</strong> option is a function, it is interpreted as a channel.</p>`,3),Pi=h(`<a class="plot-fork no-icon" href="https://observablehq.com/@observablehq/plot-marks-have-channels?intent=fork" target="_blank" title="Open on Observable">Fork</a><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">barX</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(timeseries, {x: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;population&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, y: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;year&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fill</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">d</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d.year})</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({y: {label: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, tickFormat: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}})</span></span></code></pre></div><p>Lastly, note that while channels are normally bound to a <a href="#marks-use-scales">scale</a>, you can bypass the <em>color</em> scale here by supplying literal color values to the <strong>fill</strong> channel.</p>`,3),Di=h(`<a class="plot-fork no-icon" href="https://observablehq.com/@observablehq/plot-marks-have-channels?intent=fork" target="_blank" title="Open on Observable">Fork</a><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">barX</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(timeseries, {x: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;population&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, y: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;year&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fill</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">d</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d.year </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ?</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;red&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> :</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;currentColor&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({y: {label: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, tickFormat: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}})</span></span></code></pre></div><p>But rather than supplying literal values, it is more semantic to provide abstract values and use scales. In addition to centralizing the encoding definition (if used by multiple marks), it allows Plot to generate a legend.</p>`,3),Oi=h(`<a class="plot-fork no-icon" href="https://observablehq.com/@observablehq/plot-marks-have-channels?intent=fork" target="_blank" title="Open on Observable">Fork</a><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">barX</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(timeseries, {x: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;population&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, y: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;year&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fill</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">d</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d.year </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ?</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;odd&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> :</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;even&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({y: {label: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, tickFormat: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}, color: {legend: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}})</span></span></code></pre></div><p>You can then specify the <em>color</em> scale‚Äôs <strong>domain</strong> and <strong>range</strong> to control the encoding.</p><h2 id="mark-options" tabindex="-1">Mark options <a class="header-anchor" href="#mark-options" aria-label="Permalink to &quot;Mark options&quot;">‚Äã</a></h2><p>Mark constructors take two arguments: <strong>data</strong> and <strong>options</strong>. Together these describe a tabular dataset and how to visualize it. Option values that must be the same for all of a mark‚Äôs generated shapes are known as <em>constants</em>, whereas option values that may vary across a mark‚Äôs generated shapes are known as <em>channels</em>. Channels are typically bound to <a href="./scales">scales</a> and encode abstract data values, such as time or temperature, as visual values, such as position or color. (Channels can also be used to order ordinal domains; see the <a href="./scales#sort-mark-option"><strong>sort</strong> option</a>.)</p><p>A mark‚Äôs data is most commonly an array of objects representing a tabular dataset, such as the result of loading a CSV file, while a mark‚Äôs options bind channels (such as <em>x</em> and <em>y</em>) to columns in the data (such as <em>units</em> and <em>fruit</em>).</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sales </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {units: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, fruit: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;peach&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {units: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, fruit: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;pear&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {units: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">40</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, fruit: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;plum&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {units: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">30</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, fruit: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;plum&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre></div><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(sales, {x: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;units&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, y: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;fruit&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><p>While a column name such as <code>&quot;units&quot;</code> is the most concise way of specifying channel values, values can also be specified as functions for greater flexibility, say to transform data or derive a new column on the fly. Channel functions are invoked for each datum (<em>d</em>) in the data and return the corresponding channel value. (This is similar to how D3‚Äôs <a href="https://d3js.org/d3-selection/modifying#selection_attr" target="_blank" rel="noreferrer"><em>selection</em>.attr</a> accepts functions, though note that Plot channel functions should return abstract values, not visual values.)</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(sales, {</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">x</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">d</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d.units </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">y</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">d</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d.fruit})</span></span></code></pre></div><p>Plot also supports columnar data for greater efficiency with bigger datasets; for example, data can be specified as any array of the appropriate length (or any iterable or value compatible with <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/from" target="_blank" rel="noreferrer">Array.from</a>), and then separate arrays of values can be passed as <em>options</em>.</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">index </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre></div><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">units </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">40</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">30</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre></div><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">fruits </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;peach&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;pear&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;plum&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;plum&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre></div><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(index, {x: units, y: fruits})</span></span></code></pre></div><p>Channel values can also be specified as numbers for constant values, say for a fixed baseline with an <a href="./../marks/area">area</a>.</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">area</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(aapl, {x1: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Date&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, y1: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, y2: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Close&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><p>Missing and invalid data are handled specifically for each mark type and channel. In most cases, if the provided channel value for a given datum is null, undefined, or (strictly) NaN, the mark will implicitly filter the datum and not generate a corresponding output. In some cases, such as the radius (<em>r</em>) of a dot, the channel value must additionally be positive. Plot.line and Plot.area will stop the path before any invalid point and start again at the next valid point, thus creating interruptions rather than interpolating between valid points. Titles will only be added if they are non-empty.</p><p>All marks support the following style options:</p>`,19),Ni=h('<li><strong>fill</strong> - fill color</li><li><strong>fillOpacity</strong> - fill opacity (a number between 0 and 1)</li><li><strong>stroke</strong> - stroke color</li><li><strong>strokeWidth</strong> - stroke width (in pixels)</li><li><strong>strokeOpacity</strong> - stroke opacity (a number between 0 and 1)</li><li><strong>strokeLinejoin</strong> - how to join lines (<em>bevel</em>, <em>miter</em>, <em>miter-clip</em>, or <em>round</em>)</li><li><strong>strokeLinecap</strong> - how to cap lines (<em>butt</em>, <em>round</em>, or <em>square</em>)</li><li><strong>strokeMiterlimit</strong> - to limit the length of <em>miter</em> joins</li><li><strong>strokeDasharray</strong> - a comma-separated list of dash lengths (typically in pixels)</li><li><strong>strokeDashoffset</strong> - the <a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/stroke-dashoffset" target="_blank" rel="noreferrer">stroke dash offset</a> (typically in pixels)</li><li><strong>opacity</strong> - object opacity (a number between 0 and 1)</li><li><strong>mixBlendMode</strong> - the <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/mix-blend-mode" target="_blank" rel="noreferrer">blend mode</a> (<em>e.g.</em>, <em>multiply</em>)</li>',12),ji=y("strong",null,"imageFilter",-1),Ii=y("a",{href:"https://developer.mozilla.org/en-US/docs/Web/CSS/filter",target:"_blank",rel:"noreferrer"},"filter",-1),Vi=y("em",null,"e.g.",-1),Mi=y("em",null,"blur(5px)",-1),Ri=h('<li><strong>shapeRendering</strong> - the <a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/shape-rendering" target="_blank" rel="noreferrer">shape-rendering mode</a> (<em>e.g.</em>, <em>crispEdges</em>)</li><li><strong>paintOrder</strong> - the <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/paint-order" target="_blank" rel="noreferrer">paint order</a> (<em>e.g.</em>, <em>stroke</em>)</li><li><strong>dx</strong> - horizontal offset (in pixels; defaults to 0)</li><li><strong>dy</strong> - vertical offset (in pixels; defaults to 0)</li><li><strong>target</strong> - link target (e.g., ‚Äú_blank‚Äù for a new window); for use with the <strong>href</strong> channel</li><li><strong>ariaDescription</strong> - a textual description of the mark‚Äôs contents</li><li><strong>ariaHidden</strong> - if true, hide this content from the accessibility tree</li><li><strong>pointerEvents</strong> - the <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/pointer-events" target="_blank" rel="noreferrer">pointer events</a> (<em>e.g.</em>, <em>none</em>)</li><li><strong>clip</strong> - whether and how to clip the mark</li>',9),Ui=y("strong",null,"tip",-1),Li=y("a",{href:"./../interactions/pointer"},"pointer",-1),Yi=y("a",{href:"./../marks/tip"},"tip",-1),Gi=h('<p>If the <strong>clip</strong> option is <em>frame</em> (or equivalently true), the mark is clipped to the frame‚Äôs dimensions; if the <strong>clip</strong> option is null (or equivalently false), the mark is not clipped. If the <strong>clip</strong> option is <em>sphere</em>, then a <a href="./projections">geographic projection</a> is required and the mark will be clipped to the projected sphere (<em>e.g.</em>, the front hemisphere when using the orthographic projection).</p><p>If the <strong>tip</strong> option is true, a <a href="./../marks/tip">tip mark</a> with the <a href="./../interactions/pointer">pointer transform</a> will be derived from this mark and placed atop all other marks, offering details on demand. If the <strong>tip</strong> option is set to an options object, these options will be passed to the derived tip mark. If the <strong>tip</strong> option (or, if an object, its <strong>pointer</strong> option) is set to <em>x</em>, <em>y</em>, or <em>xy</em>, <a href="./../interactions/pointer#pointerX">pointerX</a>, <a href="./../interactions/pointer#pointerY">pointerY</a>, or <a href="./../interactions/pointer#pointer">pointer</a> will be used, respectively; otherwise the pointing mode will be chosen automatically. (If the <strong>tip</strong> mark option is truthy, the <strong>title</strong> channel is no longer applied using an SVG title element as this would conflict with the tip mark.)</p><p>For all marks except <a href="./../marks/text">text</a>, the <strong>dx</strong> and <strong>dy</strong> options are rendered as a transform property, possibly including a 0.5px offset on low-density screens.</p><p>All marks support the following optional channels:</p><ul><li><strong>fill</strong> - a fill color; bound to the <em>color</em> scale</li><li><strong>fillOpacity</strong> - a fill opacity; bound to the <em>opacity</em> scale</li><li><strong>stroke</strong> - a stroke color; bound to the <em>color</em> scale</li><li><strong>strokeOpacity</strong> - a stroke opacity; bound to the <em>opacity</em> scale</li><li><strong>strokeWidth</strong> - a stroke width (in pixels)</li><li><strong>opacity</strong> - an object opacity; bound to the <em>opacity</em> scale</li><li><strong>title</strong> - an accessible, short-text description (a string of text, possibly with newlines)</li><li><strong>href</strong> - a URL to link to</li><li><strong>ariaLabel</strong> - a short label representing the value in the accessibility tree</li></ul><p>The <strong>fill</strong>, <strong>fillOpacity</strong>, <strong>stroke</strong>, <strong>strokeWidth</strong>, <strong>strokeOpacity</strong>, and <strong>opacity</strong> options can be specified as either channels or constants. When the fill or stroke is specified as a function or array, it is interpreted as a channel; when the fill or stroke is specified as a string, it is interpreted as a constant if a valid CSS color and otherwise it is interpreted as a column name for a channel. Similarly when the fill opacity, stroke opacity, object opacity, stroke width, or radius is specified as a number, it is interpreted as a constant; otherwise it is interpreted as a channel.</p><p>The scale associated with any channel can be overridden by specifying the channel as an object with a <em>value</em> property specifying the channel values and a <em>scale</em> property specifying the desired scale name or null for an unscaled channel. For example, to force the <strong>stroke</strong> channel to be unscaled, interpreting the associated values as literal color strings:</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(data, {stroke: {value: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;fieldName&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, scale: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}})</span></span></code></pre></div><p>To instead force the <strong>stroke</strong> channel to be bound to the <em>color</em> scale regardless of the provided values, say:</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(data, {stroke: {value: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;fieldName&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, scale: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;color&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}})</span></span></code></pre></div><p>The color channels (<strong>fill</strong> and <strong>stroke</strong>) are bound to the <em>color</em> scale by default, unless the provided values are all valid CSS color strings or nullish, in which case the values are interpreted literally and unscaled.</p><p>In addition to functions of data, arrays, and column names, channel values can be specified as an object with a <em>transform</em> method; this transform method is passed the mark‚Äôs array of data and must return the corresponding array of channel values. (Whereas a channel value specified as a function is invoked repeatedly for each element in the mark‚Äôs data, similar to <em>array</em>.map, the transform method is invoked only once being passed the entire array of data.) For example, to pass the mark‚Äôs data directly to the <strong>x</strong> channel, equivalent to <a href="./transforms#identity">Plot.identity</a>:</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(numbers, {x: {</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">transform</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> data}})</span></span></code></pre></div><p>The <strong>title</strong>, <strong>href</strong>, and <strong>ariaLabel</strong> options can <em>only</em> be specified as channels. When these options are specified as a string, the string refers to the name of a column in the mark‚Äôs associated data. If you‚Äôd like every instance of a particular mark to have the same value, specify the option as a function that returns the desired value, <em>e.g.</em> <code>() =&gt; &quot;Hello, world!&quot;</code>.</p><p>The rectangular marks (<a href="./../marks/bar">bar</a>, <a href="./../marks/cell">cell</a>, <a href="./../marks/frame">frame</a>, and <a href="./../marks/rect">rect</a>) support insets and rounded corner constant options:</p><ul><li><strong>insetTop</strong> - inset the top edge</li><li><strong>insetRight</strong> - inset the right edge</li><li><strong>insetBottom</strong> - inset the bottom edge</li><li><strong>insetLeft</strong> - inset the left edge</li><li><strong>rx</strong> - the <a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/rx" target="_blank" rel="noreferrer"><em>x</em> radius</a> for rounded corners</li><li><strong>ry</strong> - the <a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/ry" target="_blank" rel="noreferrer"><em>y</em> radius</a> for rounded corners</li></ul><p>Insets are specified in pixels. Corner radii are specified in either pixels or percentages (strings). Both default to zero. Insets are typically used to ensure a one-pixel gap between adjacent bars; note that the <a href="./../transforms/bin">bin transform</a> provides default insets, and that the <a href="./scales#position-scale-options">band scale padding</a> defaults to 0.1, which also provides separation.</p><p>For marks that support the <strong>frameAnchor</strong> option, it may be specified as one of the four sides (<em>top</em>, <em>right</em>, <em>bottom</em>, <em>left</em>), one of the four corners (<em>top-left</em>, <em>top-right</em>, <em>bottom-right</em>, <em>bottom-left</em>), or the <em>middle</em> of the frame.</p><p>All marks support the following <a href="./transforms">transform</a> options:</p><ul><li><strong>filter</strong> - apply the <a href="./../transforms/filter">filter transform</a></li><li><strong>sort</strong> - apply the <a href="./../transforms/sort">sort transform</a></li><li><strong>reverse</strong> - apply the <a href="./../transforms/sort#reverse">reverse transform</a></li><li><strong>transform</strong> - apply a <a href="./transforms#custom-transforms">custom transform</a></li><li><strong>initializer</strong> - apply a <a href="./transforms#custom-initializers">custom initializer</a></li></ul><p>The <strong>sort</strong> option, when not specified as a channel value (such as a field name or an accessor function), can also be used to <a href="./scales#sort-mark-option">impute ordinal scale domains</a>.</p>',21),Wi={id:"marks",tabindex:"-1"},zi=y("em",null,"marks",-1),Hi=y("a",{class:"header-anchor",href:"#marks","aria-label":'Permalink to "marks(...*marks*) <VersionBadge version="0.2.0" /> {#marks}"'},"‚Äã",-1),Xi=h(`<div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">marks</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ruleY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">areaY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(data, {fill: color, fillOpacity, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">options}),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lineY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(data, {stroke: color, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">options})</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>A convenience method for composing a mark from a series of other marks. Returns an array of marks that implements the <em>mark</em>.plot function. See the <a href="./../marks/box">box mark</a> implementation for an example.</p>`,2),sa=JSON.parse('{"title":"Marks","description":"","frontmatter":{},"headers":[],"relativePath":"features/marks.md","filePath":"features/marks.md"}'),$i={name:"features/marks.md"},ia=Object.assign($i,{setup(a){const e=[{hour:0,value:8,sensor:"A"},{hour:0,value:6,sensor:"B"},{hour:1,value:7,sensor:"A"},{hour:1,value:5,sensor:"B"},{hour:2,value:3,sensor:"A"},{hour:2,value:0,sensor:"B"},{hour:3,value:9,sensor:"A"},{hour:3,value:2,sensor:"B"}],k=[{year:2014,population:7295.290765},{year:2015,population:7379.797139},{year:2016,population:7464.022049},{year:2017,population:7547.858925},{year:2019,population:7713.4681},{year:2020,population:7794.798739}],s=Us(!0),o=J([]),b=J([]),g=J([]);return Ls(()=>{Z("../data/aapl.csv",K).then(m=>o.value=m),Z("../data/goog.csv",K).then(m=>b.value=m),Z("../data/bls-metro-unemployment.csv",K).then(m=>g.value=m)}),(m,C)=>{const l=ds("PlotRender"),P=ds("VersionBadge");return zs(),Ys("div",null,[pi,p(l,{mark:ss(O(L),{x:"Date",y:"Anomaly"}),options:{}},null,8,["mark"]),oi,p(l,{mark:F(O(L),{x:"Date",y:"Anomaly"}),options:{}},null,8,["mark"]),ki,p(l,{mark:N(O(cs),{x:"frequency",y:"letter"}),options:{}},null,8,["mark"]),Ei,p(l,{defer:"",options:{marks:[is([0]),gs(o.value,{x:"Date",y:"Close",fillOpacity:.2}),F(o.value,{x:"Date",y:"Close"})]}},null,8,["options"]),di,p(l,{defer:"",options:{marks:[[b.value,o.value].map(d=>F(d,{x:"Date",y:"Close"}))]}},null,8,["options"]),gi,p(l,{defer:"",options:{marks:[()=>Xs`<defs>
      <linearGradient id="gradient" gradientTransform="rotate(90)">
        <stop offset="15%" stop-color="var(--vp-c-purple)" />
        <stop offset="75%" stop-color="var(--vp-c-red)" />
        <stop offset="100%" stop-color="gold" />
      </linearGradient>
    </defs>`,as(O(cs),{x:"letter",y:"frequency",fill:"url(#gradient)"}),is([0])]}},null,8,["options"]),ci,y("p",null,[y("label",yi,[f(" Show area: "),Gs(y("input",{type:"checkbox","onUpdate:modelValue":C[0]||(C[0]=d=>s.value=d)},null,512),[[Ws,s.value]])])]),p(l,{defer:"",options:{marks:[is([0]),s.value?gs(o.value,{x:"Date",y:"Close",fillOpacity:.2}):null,F(o.value,{x:"Date",y:"Close"})]}},null,8,["options"]),ui,p(l,{defer:"",options:{y:{type:"log",domain:[30,300],grid:!0},marks:[F(o.value,{x:"Date",y:"Close"})]}},null,8,["options"]),mi,p(l,{defer:"",mark:ss(o.value,{x:"Date",y:"Close"}),options:{}},null,8,["mark"]),fi,p(l,{defer:"",mark:F(o.value,{x:"Date",y:"Close"}),options:{}},null,8,["mark"]),Fi,p(l,{defer:"",mark:F(g.value,{x:"date",y:"unemployment",z:"division"}),options:{}},null,8,["mark"]),bi,p(l,{mark:F(e,{x:"hour",y:"value",stroke:"sensor"}),options:{}},null,8,["mark"]),_i,p(l,{mark:F(e,{x:d=>d.hour,y:d=>d.value,stroke:d=>d.sensor}),options:{}},null,8,["mark"]),vi,p(l,{mark:F(["please","don‚Äôt","do","this"]),options:{}},null,8,["mark"]),Ci,p(l,{mark:as(k,{x:"year",y:"population"}),options:{x:{tickFormat:""}}},null,8,["mark"]),Ti,p(l,{mark:Hs(k,{x:"year",y:"population",interval:1}),options:{x:{tickFormat:""}}},null,8,["mark"]),Bi,p(l,{mark:as(k,{x:"year",y:"population"}),options:{x:{tickFormat:"",interval:1}}},null,8,["mark"]),qi,p(l,{mark:ss(O(L),{x:"Date",y:"Anomaly",fill:"var(--vp-c-red)"}),options:{}},null,8,["mark"]),Ai,p(l,{mark:F(O(L).map(d=>d.Anomaly)),options:{}},null,8,["mark"]),Si,p(l,{mark:N(k,{x:"population",y:"year",fill:"var(--vp-c-purple)"}),options:{y:{label:null,tickFormat:""}}},null,8,["mark"]),wi,p(l,{mark:N(k,{x:"population",y:"year",fill:"year"}),options:{y:{label:null,tickFormat:""}}},null,8,["mark"]),xi,p(l,{mark:N(k,{x:"population",y:"year",fill:d=>d.year}),options:{y:{label:null,tickFormat:""}}},null,8,["mark"]),Pi,p(l,{mark:N(k,{x:"population",y:"year",fill:d=>d.year&1?"var(--vp-c-red)":"currentColor"}),options:{y:{label:null,tickFormat:""}}},null,8,["mark"]),Di,p(l,{mark:N(k,{x:"population",y:"year",fill:d=>d.year&1?"odd":"even"}),options:{y:{label:null,tickFormat:""},color:{legend:!0}}},null,8,["mark"]),Oi,y("ul",null,[Ni,y("li",null,[ji,f(" - a CSS "),Ii,f(" ("),Vi,f(", "),Mi,f(") "),p(P,{version:"0.6.7"})]),Ri,y("li",null,[Ui,f(" - whether to generate an implicit "),Li,f(),Yi,f(),p(P,{version:"0.6.7"})])]),Gi,y("h2",Wi,[f("marks(..."),zi,f(") "),p(P,{version:"0.2.0"}),f(),Hi]),Xi])}}});export{sa as __pageData,ia as default};
