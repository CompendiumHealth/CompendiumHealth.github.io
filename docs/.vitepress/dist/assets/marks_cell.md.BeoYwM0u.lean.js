import{b6 as F,r as y,c as p,b as E,H as h,t as m,p as u,q as C,aF as b,ac as f,b7 as _,aZ as B,b8 as v}from"./chunks/theme.DAWdUpF4.js";import{a as q}from"./chunks/alphabet.Chdqe_eo.js";import{h as c}from"./chunks/hadcrut.DdjdvQsX.js";import{J as r,p as A,G as x,c as T,L as k,s as o,a6 as t,o as D}from"./chunks/framework.Bev6ATEH.js";const w=t("",4),P=t("",3),S=t("",3),j=t("",3),I=t("",4),N=t("",3),O=t("",17),W=JSON.parse('{"title":"Cell mark","description":"","frontmatter":{},"headers":[],"relativePath":"marks/cell.md","filePath":"marks/cell.md"}'),V={name:"marks/cell.md"},X=Object.assign(V,{setup(Y){const n=r([]),d=r([]),l=r(F(y(1,29),y(1,26),(a,g)=>({season:a,number_in_season:g})));return A(()=>{p("../data/dji.csv",E).then(a=>n.value=a),p("../data/seattle-weather.csv",E).then(a=>d.value=a),p("../data/simpsons.csv",E).then(a=>l.value=a)}),(a,g)=>{const e=x("PlotRender");return D(),T("div",null,[w,k(e,{defer:"",options:{padding:0,grid:!0,x:{axis:"top",label:"Season"},y:{label:"Episode"},color:{type:"linear",scheme:"PiYG"},marks:[h(l.value,{x:"season",y:"number_in_season",fill:"imdb_rating",inset:.5}),m(l.value,{x:"season",y:"number_in_season",text:s=>{var i;return(i=s.imdb_rating)==null?void 0:i.toFixed(1)},fill:"black",title:"title"})]}},null,8,["options"]),P,k(e,{defer:"",options:{padding:0,x:{axis:null},y:{tickFormat:u("en","narrow"),tickSize:0},fy:{tickFormat:""},color:{scheme:"PiYG"},marks:[h(n.value,{x:s=>B.count(v(s.Date),s.Date),y:s=>s.Date.getUTCDay(),fy:s=>s.Date.getUTCFullYear(),fill:(s,i)=>i>0?(s.Close-n.value[i-1].Close)/n.value[i-1].Close:NaN,title:(s,i)=>i>0?((s.Close-n.value[i-1].Close)/n.value[i-1].Close*100).toFixed(1):NaN,inset:.5})]}},null,8,["options"]),S,k(e,{defer:"",options:{padding:0,y:{tickFormat:C("en","short")},marks:[h(d.value,b({fill:"max"},{x:s=>s.date.getUTCDate(),y:s=>s.date.getUTCMonth(),fill:"temp_max",inset:.5}))]}},null,8,["options"]),j,k(e,{defer:"",options:{x:{ticks:l.value.filter(s=>s.number_in_season===1).map(s=>s.id),tickFormat:s=>l.value.find(i=>i.id===s).season,label:"Season",labelAnchor:"right",labelArrow:!0},color:{type:"linear",scheme:"PiYG"},marks:[h(l.value,{x:"id",fill:"imdb_rating"})]}},null,8,["options"]),I,k(e,{mark:h(o(q),{x:"letter",fill:"frequency"}),options:{}},null,8,["mark"]),N,k(e,{options:{x:{ticks:f(..._(o(c),s=>s.year),10),tickFormat:"d",interval:1,label:null},color:{scheme:"BuRd"},marks:[h(o(c),{x:"year",fill:"anomaly"})]}},null,8,["options"]),O])}}});export{W as __pageData,X as default};
