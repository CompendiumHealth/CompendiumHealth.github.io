import{s as q,c as x,b as T,x as d,aB as p,w as r,e as _,H as g,bC as P,k as C,h as A,G as b,aF as y,b0 as f,bS as B,t as w,bT as S,bU as c}from"./chunks/theme.DAWdUpF4.js";import{J as I,p as D,G as v,c as j,L as t,q as s,a as i,t as u,S as F,s as m,a6 as a,o as V}from"./chunks/framework.Bev6ATEH.js";const R=a("",4),X=a("",5),O=a("",3),Y=s("a",{class:"plot-fork no-icon",href:"https://observablehq.com/@observablehq/plot-groups-as-cells?intent=fork",target:"_blank",title:"Open on Observable"},"Fork",-1),z={class:"language-js vp-adaptive-theme"},N=s("button",{title:"Copy Code",class:"copy"},null,-1),G=s("span",{class:"lang"},"js",-1),M={class:"shiki shiki-themes github-light github-dark vp-code"},Z=s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"Plot."),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"plot"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"({")],-1),W=s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  marginBottom: "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"80"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},",")],-1),$=s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  x: {tickRotate: "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"90"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"},")],-1),L={class:"line"},H=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  color: {scheme: ",-1),J={style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},K=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"},",-1),U=s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  marks: [")],-1),Q=a("",1),ss=s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  ]")],-1),is=s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"})")],-1),as=s("em",null,"count",-1),ts=s("em",null,"mode",-1),ns=a("",3),ls=a("",4),hs=s("a",{class:"plot-fork no-icon",href:"https://observablehq.com/@observablehq/plot-two-class-overlapping-bars?intent=fork",target:"_blank",title:"Open on Observable"},"Fork",-1),es={class:"language-js vp-adaptive-theme"},ps=s("button",{title:"Copy Code",class:"copy"},null,-1),ks=s("span",{class:"lang"},"js",-1),rs={class:"shiki shiki-themes github-light github-dark vp-code"},os=s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"Plot."),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"plot"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"({")],-1),Es=s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  marginBottom: "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"100"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},",")],-1),ds=a("",1),gs=s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  y: {grid: "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"true"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"},")],-1),ys=s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  color: {legend: "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"true"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"},")],-1),cs=s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  marks: [")],-1),us={class:"line"},Fs=a("",11),ms={style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},_s=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"})),",-1),Cs=a("",1),bs=s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  ]")],-1),fs=s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"})")],-1),Bs=a("",2),vs=a("",2),qs=s("a",{href:"./../marks/link"},"link mark",-1),xs=s("a",{href:"./../features/markers"},"markers",-1),Ts=a("",5),Ps=a("",3),As=s("a",{class:"plot-fork no-icon",href:"https://observablehq.com/@observablehq/plot-grouped-olympians-heatmap?intent=fork",target:"_blank",title:"Open on Observable"},"Fork",-1),ws={class:"language-js vp-adaptive-theme"},Ss=s("button",{title:"Copy Code",class:"copy"},null,-1),Is=s("span",{class:"lang"},"js",-1),Ds={class:"shiki shiki-themes github-light github-dark vp-code"},js=s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"Plot."),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"plot"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"({")],-1),Vs=s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  marginBottom: "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"80"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},",")],-1),Rs=a("",1),Xs=s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  y: {label: "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"null"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"},")],-1),Os={class:"line"},Ys=a("",5),zs={style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},Ns=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"},",-1),Gs=s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  marks: [")],-1),Ms=a("",1),Zs=s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  ]")],-1),Ws=s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"})")],-1),$s=s("p",null,[i("Or, we could group athletes by sport and the number of gold medals ðŸ¥‡ won. ("),s("a",{href:"https://en.wikipedia.org/wiki/Michael_Phelps",target:"_blank",rel:"noreferrer"},"Michael Phelps"),i(", the most decorated Olympian of all time, won five gold medals in the 2016 Summer Olympics. "),s("a",{href:"https://en.wikipedia.org/wiki/Simone_Biles",target:"_blank",rel:"noreferrer"},"Simone Biles"),i(" and "),s("a",{href:"https://en.wikipedia.org/wiki/Katie_Ledecky",target:"_blank",rel:"noreferrer"},"Katie Ledecky"),i(" each won four.)")],-1),Ls=s("a",{class:"plot-fork no-icon",href:"https://observablehq.com/@observablehq/plot-olympians-by-gold-medals?intent=fork",target:"_blank",title:"Open on Observable"},"Fork",-1),Hs={class:"language-js vp-adaptive-theme"},Js=s("button",{title:"Copy Code",class:"copy"},null,-1),Ks=s("span",{class:"lang"},"js",-1),Us={class:"shiki shiki-themes github-light github-dark vp-code"},Qs=s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"Plot."),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"plot"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"({")],-1),si=s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  marginBottom: "),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"100"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},",")],-1),ii=a("",1),ai=a("",1),ti={class:"line"},ni=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  color: {type: ",-1),li=s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"sqrt"',-1),hi=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", scheme: ",-1),ei={style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},pi=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"},",-1),ki=s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  marks: [")],-1),ri=a("",1),oi=s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  ]")],-1),Ei=s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"})")],-1),di=s("p",null,[i("We could instead output "),s("strong",null,"r"),i(" and use a "),s("a",{href:"./../marks/dot"},"dot mark"),i(" whose size again represents the number of athletes in each group.")],-1),gi=a("",3),yi=a("",3),ci=a("",12),ui=a("",17),Fi=s("em",null,"x",-1),mi=s("em",null,"x",-1),_i=s("em",null,"x",-1),Ci=s("em",null,"y",-1),bi=s("em",null,"y",-1),fi=s("em",null,"y",-1),Bi=s("em",null,"z",-1),vi=s("em",null,"z",-1),qi=s("em",null,"z",-1),xi=s("em",null,"fill",-1),Ti=s("em",null,"stroke",-1),Pi=a("",26),Ai={id:"find-test-find",tabindex:"-1"},wi=s("em",null,"test",-1),Si=s("a",{class:"header-anchor",href:"#find-test-find","aria-label":'Permalink to "find(*test*) {#find} <VersionBadge version="0.6.12" pr="1914" />"'},"â€‹",-1),Ii=a("",2),Oi=JSON.parse('{"title":"Group transform","description":"","frontmatter":{},"headers":[],"relativePath":"transforms/group.md","filePath":"transforms/group.md"}'),Di={name:"transforms/group.md"},Yi=Object.assign(Di,{setup(ji){const n=I([{weight:31,height:1.21,sex:"female"},{weight:170,height:2.21,sex:"male"}]),o=q({color:{type:"categorical"}}).range;return D(()=>{x("../data/athletes.csv",T).then(h=>n.value=h)}),(h,Vi)=>{const l=v("PlotRender"),E=v("VersionBadge");return V(),j("div",null,[R,t(l,{defer:"",options:{marginBottom:100,x:{label:null,tickRotate:90},y:{grid:!0},marks:[d(n.value,p({y:"count"},{x:"sport"})),r([0])]}},null,8,["options"]),X,t(l,{options:{marginBottom:100,x:{label:null,tickRotate:90},r:{range:[0,14]},marks:[_(n.value,p({r:"count"},{x:"sport"}))]}},null,8,["options"]),O,t(l,{defer:"",options:{marginBottom:80,x:{tickRotate:90},color:{scheme:h.$dark?"turbo":"YlGnBu"},marks:[g(n.value,p({fill:"count"},{x:"sport"}))]}},null,8,["options"]),Y,s("div",z,[N,G,s("pre",M,[s("code",null,[Z,i(`
`),W,i(`
`),$,i(`
`),s("span",L,[H,s("span",J,'"'+u(h.$dark?"turbo":"YlGnBu")+'"',1),K]),i(`
`),U,i(`
`),Q,i(`
`),ss,i(`
`),is])])]),s("p",null,[i("We arenâ€™t limited to the "),as,i(" reducer. We can use the "),ts,i(" reducer, for example, to show which sex is more prevalent in each sport: "),s("span",{style:F({borderBottom:`solid 2px ${m(o)[1]}`})},"men",4),i(" are represented more often than "),s("span",{style:F({borderBottom:`solid 2px ${m(o)[0]}`})},"women",4),i(" in every sport except gymnastics and fencing.")]),t(l,{defer:"",options:{marginBottom:80,x:{tickRotate:90},marks:[g(n.value,p({fill:"mode"},{fill:"sex",x:"sport"}))]}},null,8,["options"]),ns,t(l,{defer:"",options:{marginBottom:100,x:{label:null,tickRotate:90},y:{grid:!0},color:{legend:!0},marks:[d(n.value,p({y:"count"},{x:"sport",fill:"sex"})),r([0])]}},null,8,["options"]),ls,t(l,{defer:"",options:{marginBottom:100,x:{label:null,tickRotate:90},y:{grid:!0},color:{legend:!0},marks:[d(n.value,p({y2:"count"},{x:"sport",fill:"sex",mixBlendMode:h.$dark?"screen":"multiply"})),r([0])]}},null,8,["options"]),hs,s("div",es,[ps,ks,s("pre",rs,[s("code",null,[os,i(`
`),Es,i(`
`),ds,i(`
`),gs,i(`
`),ys,i(`
`),cs,i(`
`),s("span",us,[Fs,s("span",ms,'"'+u(h.$dark?"screen":"multiply")+'"',1),_s]),i(`
`),Cs,i(`
`),bs,i(`
`),fs])])]),Bs,t(l,{defer:"",options:{marginBottom:100,fx:{padding:0,label:null,tickRotate:90,tickSize:6},x:{axis:null,paddingOuter:.2},y:{grid:!0},color:{legend:!0},marks:[d(n.value,p({y2:"count"},{x:"sex",fx:"sport",fill:"sex"})),r([0])]}},null,8,["options"]),vs,s("p",null,[i("Alternatively, below we use directional arrows (a "),qs,i(" with "),xs,i(") to indicate the difference in counts of "),s("span",{style:F({borderBottom:`solid 2px ${m(o)[1]}`})},"male",4),i(" and "),s("span",{style:F({borderBottom:`solid 2px ${m(o)[0]}`})},"female",4),i(" athletes by sport. The color of the arrow indicates which sex is more prevalent, while its length is proportional to the difference.")]),t(l,{defer:"",options:{marginBottom:100,x:{label:null,tickRotate:90},y:{grid:!0,label:"Frequency"},color:{type:"categorical",domain:[-1,1],unknown:"#aaa",transform:Math.sign},marks:[r([0]),P(n.value,p({y1:e=>c(e,k=>k==="female"),y2:e=>c(e,k=>k==="male"),stroke:e=>c(e,k=>k==="male")-c(e,k=>k==="female")},{x:"sport",y1:"sex",y2:"sex",markerStart:"dot",markerEnd:"arrow",stroke:"sex",strokeWidth:2}))]}},null,8,["options"]),Ts,t(l,{defer:"",options:{marginLeft:100,x:{grid:!0},y:{label:null},marks:[C(n.value,A({x:"count"},{y:"sport",sort:{y:"x"}})),b([0])]}},null,8,["options"]),Ps,t(l,{defer:"",options:{marginBottom:80,x:{label:null,tickRotate:90},y:{label:null},color:{label:"Median weight (kg)",legend:!0,scheme:h.$dark?"turbo":"YlGnBu"},marks:[g(n.value,y({fill:"median"},{fill:"weight",x:"sport",y:"sex"}))]}},null,8,["options"]),As,s("div",ws,[Ss,Is,s("pre",Ds,[s("code",null,[js,i(`
`),Vs,i(`
`),Rs,i(`
`),Xs,i(`
`),s("span",Os,[Ys,s("span",zs,'"'+u(h.$dark?"turbo":"YlGnBu")+'"',1),Ns]),i(`
`),Gs,i(`
`),Ms,i(`
`),Zs,i(`
`),Ws])])]),$s,t(l,{defer:"",options:{marginBottom:100,x:{label:null,tickRotate:90},y:{label:"gold",labelAnchor:"top",labelArrow:!0,reverse:!0},color:{type:"sqrt",scheme:h.$dark?"turbo":"YlGnBu"},marks:[g(n.value,y({fill:"count"},{x:"sport",y:"gold"}))]}},null,8,["options"]),Ls,s("div",Hs,[Js,Ks,s("pre",Us,[s("code",null,[Qs,i(`
`),si,i(`
`),ii,i(`
`),ai,i(`
`),s("span",ti,[ni,li,hi,s("span",ei,'"'+u(h.$dark?"turbo":"YlGnBu")+'"',1),pi]),i(`
`),ki,i(`
`),ri,i(`
`),oi,i(`
`),Ei])])]),di,t(l,{defer:"",options:{marginBottom:100,x:{label:null,tickRotate:90},y:{type:"point",label:"gold",labelAnchor:"top",labelArrow:!0,reverse:!0},r:{range:[0,12]},marks:[_(n.value,y({r:"count"},{x:"sport",y:"gold"}))]}},null,8,["options"]),gi,t(l,{defer:"",options:{marginBottom:100,x:{label:null,tickRotate:90},y:{type:"point",label:"gold",labelAnchor:"top",labelArrow:!0,reverse:!0},r:{range:[0,12]},marks:[_(n.value,y({r:"count"},{x:"sport",y:"gold",stroke:"sex"}))]}},null,8,["options"]),yi,t(l,{defer:"",options:{height:100,x:{percent:!0},marks:[C(n.value,f({order:"x",reverse:!0},B({x:"proportion"},{z:"sport",fillOpacity:.2,inset:.5}))),w(n.value,S(e=>e.length>200,f({order:"x",reverse:!0},B({x:"proportion",text:"first"},{z:"sport",text:"sport",rotate:90})))),b([0,1])]}},null,8,["options"]),ci,s("ul",null,[ui,s("li",null,[Fi,i(),t(E,{version:"0.6.12",pr:"1916"}),i(" - the groupâ€™s "),mi,i(" value (when grouping on "),_i,i(")")]),s("li",null,[Ci,i(),t(E,{version:"0.6.12",pr:"1916"}),i(" - the groupâ€™s "),bi,i(" value (when grouping on "),fi,i(")")]),s("li",null,[Bi,i(),t(E,{version:"0.6.14",pr:"1959"}),i(" - the groupâ€™s "),vi,i(" value ("),qi,i(", "),xi,i(", or "),Ti,i(")")])]),Pi,s("h2",Ai,[i("find("),wi,i(") {#find} "),t(E,{version:"0.6.12",pr:"1914"}),i(),Si]),Ii])}}});export{Oi as __pageData,Yi as default};
