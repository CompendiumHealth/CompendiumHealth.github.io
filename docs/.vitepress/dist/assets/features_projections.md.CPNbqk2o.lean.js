import{k as F,m as u,J as p,p as V,G as w,c as D,q as s,a as i,L as o,w as f,a9 as T,t as _,a7 as N,a6 as l,o as R}from"./chunks/framework.Bev6ATEH.js";import{z as y,A as z,b as U,B as n,C as P,e as A,D as b,f as x,E as M,F as W}from"./chunks/theme.DAWdUpF4.js";import{f as S}from"./chunks/feature.DXDMwmIR.js";import{m as G}from"./chunks/mesh.DUGB6pHu.js";const L={id:"projections",tabindex:"-1"},H=s("a",{class:"header-anchor",href:"#projections","aria-label":'Permalink to "Projections <VersionBadge version="0.6.1" />"'},"​",-1),J=s("p",null,[i("A "),s("strong",null,"projection"),i(" maps abstract coordinates in "),s("em",null,"x"),i(" and "),s("em",null,"y"),i(" to pixel positions on screen. Most often, abstract coordinates are spherical (degrees longitude and latitude), as when rendering a geographic map. For example, below we show earthquakes in the last seven days with a magnitude of 2.5 or higher as reported by the "),s("a",{href:"https://earthquake.usgs.gov/earthquakes/feed/v1.0/geojson.php",target:"_blank",rel:"noreferrer"},"USGS"),i(". Use the slider to adjust the "),s("em",null,"orthographic"),i(" projection’s center of longitude.")],-1),Y={class:"label-input"},$={style:{"font-variant-numeric":"tabular-nums"}},K=l("",6),Q={class:"label-input"},X=l("",11),Z=[X],ss=s("a",{class:"plot-fork no-icon",href:"https://observablehq.com/@observablehq/plot-world-projections?intent=fork",target:"_blank",title:"Open on Observable"},"Fork",-1),is={class:"language-js vp-adaptive-theme"},as=s("button",{title:"Copy Code",class:"copy"},null,-1),ts=s("span",{class:"lang"},"js",-1),es={class:"shiki shiki-themes github-light github-dark vp-code"},ns=s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"Plot."),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"plot"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"({")],-1),ls={class:"line"},os=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  projection: ",-1),hs={style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},rs=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},",",-1),ps=s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  marks: [")],-1),ks=s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    Plot."),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"graticule"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(),")],-1),Es=l("",1),ds=s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    Plot."),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"sphere"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"()")],-1),cs=s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  ]")],-1),gs=s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"})")],-1),us=l("",4),ys=l("",4),ms={class:"label-input"},Fs={style:{"font-variant-numeric":"tabular-nums"}},fs=l("",4),_s=l("",3),bs=l("",4),vs=l("",15),Ps=JSON.parse('{"title":"Projections","description":"","frontmatter":{},"headers":[],"relativePath":"features/projections.md","filePath":"features/projections.md"}'),Cs={name:"features/projections.md"},As=Object.assign(Cs,{setup(js){const k=F(90),E=F(30),v=u(()=>W().center([9,34]).radius(E.value)()),d=F("equirectangular"),m=p({type:null}),C=p([]),j=p([]),c=p(null),g=u(()=>c.value?S(c.value,c.value.objects.land):{type:null}),h=p(null),q=u(()=>h.value?S(h.value,h.value.objects.nation):{type:null}),B=u(()=>h.value?G(h.value,h.value.objects.states,(a,t)=>a!==t):{type:null});return V(()=>{y("https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/2.5_week.geojson").then(a=>C.value=a.features.map(t=>({longitude:t.geometry.coordinates[0],latitude:t.geometry.coordinates[1],magnitude:t.properties.mag}))),y("../data/countries-110m.json").then(a=>c.value=a),z("../data/walmarts.tsv",U).then(a=>j.value=a),y("../data/westport-house.json").then(a=>m.value=a),y("../data/us-counties-10m.json").then(a=>h.value=a)}),(a,t)=>{const O=w("VersionBadge"),r=w("PlotRender");return R(),D("div",null,[s("h1",L,[i("Projections "),o(O,{version:"0.6.1"}),i(),H]),J,s("p",null,[s("label",Y,[i(" Longitude: "),f(s("input",{type:"range","onUpdate:modelValue":t[0]||(t[0]=e=>k.value=e),min:"-180",max:"180",step:"1"},null,512),[[T,k.value,void 0,{number:!0}]]),s("span",$,_(k.value)+"°",1)])]),o(r,{defer:"",options:{projection:{type:"orthographic",rotate:[-k.value,-30]},r:{transform:e=>Math.pow(10,e)},marks:[n(g.value,{fill:"currentColor",fillOpacity:.2}),P(),A(C.value,{x:"longitude",y:"latitude",r:"magnitude",stroke:"var(--vp-c-red)",fill:"var(--vp-c-red)",fillOpacity:.2})]}},null,8,["options"]),K,s("p",null,[s("label",Q,[i(" Projection: "),f(s("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>d.value=e)},Z,512),[[N,d.value]])])]),o(r,{defer:"",options:{projection:d.value,marks:[b(),n(g.value,{fill:"currentColor"}),P()]}},null,8,["options"]),ss,s("div",is,[as,ts,s("pre",es,[s("code",null,[ns,i(`
`),s("span",ls,[os,s("span",hs,'"'+_(d.value)+'"',1),rs]),i(`
`),ps,i(`
`),ks,i(`
`),Es,i(`
`),ds,i(`
`),cs,i(`
`),gs])])]),us,o(r,{defer:"",options:{projection:"albers-usa",marks:[n(q.value),n(B.value,{strokeOpacity:.2})]}},null,8,["options"]),ys,s("p",null,[s("label",ms,[i(" Radius: "),f(s("input",{type:"range","onUpdate:modelValue":t[2]||(t[2]=e=>E.value=e),min:"10",max:"50",step:"0.1"},null,512),[[T,E.value,void 0,{number:!0}]]),s("span",Fs,_(E.value.toFixed(1))+"°",1)])]),o(r,{defer:"",options:{projection:{type:"azimuthal-equidistant",rotate:[-9,-34],domain:v.value,inset:10},marks:[b(),n(g.value,{fill:"currentColor",fillOpacity:.3}),n(v.value,{stroke:"var(--vp-c-red)",strokeWidth:2}),x()]}},null,8,["options"]),fs,o(r,{defer:"",options:{width:688,height:688,projection:({width:e,height:I})=>M().rotate([0,90]).translate([e/2,I/2]).scale(e).clipAngle(40),marks:[b(),n(g.value,{fill:"currentColor"}),x()]}},null,8,["options"]),_s,o(r,{defer:"",mark:n(m.value),options:{projection:{type:"identity",domain:m.value}}},null,8,["mark","options"]),bs,o(r,{defer:"",options:{marginLeft:0,marginRight:0,projection:"albers",fx:{interval:"10 years",tickFormat:e=>`${e.getUTCFullYear()}’s`,label:null},marks:[n(B.value,{strokeOpacity:.1}),n(q.value),A(j.value,{fx:"date",x:"longitude",y:"latitude",r:1,fill:"currentColor"})]}},null,8,["options"]),vs])}}});export{Ps as __pageData,As as default};
