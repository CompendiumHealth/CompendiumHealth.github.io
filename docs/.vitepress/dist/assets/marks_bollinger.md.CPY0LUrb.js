import{k as g,G as y,c as b,q as s,a as i,L as h,t as k,w as u,a9 as c,s as a,a6 as p,o as f}from"./chunks/framework.Bev6ATEH.js";import{b1 as E,a as d,b2 as F,b3 as m,G as C,b4 as B}from"./chunks/theme.DAWdUpF4.js";import{a as t}from"./chunks/aapl.DY7i4a9z.js";const v={id:"bollinger-mark",tabindex:"-1"},q=s("a",{class:"header-anchor",href:"#bollinger-mark","aria-label":'Permalink to "Bollinger mark <VersionBadge version="0.6.10" pr="1772" />"'},"​",-1),w=s("p",null,[i("The "),s("strong",null,"bollinger mark"),i(" is a "),s("a",{href:"./../features/marks#marks"},"composite mark"),i(" consisting of a "),s("a",{href:"./line"},"line"),i(" representing a moving average and an "),s("a",{href:"./area"},"area"),i(" representing volatility as a band; the band thickness is proportional to the deviation of nearby values. The bollinger mark is often used to "),s("a",{href:"https://en.wikipedia.org/wiki/Bollinger_Bands",target:"_blank",rel:"noreferrer"},"analyze the price"),i(" of financial instruments such as stocks.")],-1),T=s("em",null,"n",-1),x=s("em",null,"k",-1),P={class:"label-input"},D=s("span",null,"Window size (n):",-1),A={style:{"font-variant-numeric":"tabular-nums"}},S={class:"label-input"},V=s("span",null,"Radius (k):",-1),Y={style:{"font-variant-numeric":"tabular-nums"}},j=p('<div style="display:none;"><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bollingerY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(aapl, {x: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Date&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, y: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Close&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, n, k}).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre></div></div>',1),I={class:"language-js vp-adaptive-theme"},X=s("button",{title:"Copy Code",class:"copy"},null,-1),R=s("span",{class:"lang"},"js",-1),N={class:"shiki shiki-themes github-light github-dark vp-code"},O={class:"line"},z=p('<span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bollingerY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(aapl, {x: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Date&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, y: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Close&quot;</span>',6),W={style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},L=s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"plot",-1),U=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"()",-1),M=s("p",null,[i("For more control, you can also use the "),s("a",{href:"#bollinger"},"bollinger map method"),i(" directly with the "),s("a",{href:"./../transforms/map"},"map transform"),i(".")],-1),G=p(`<div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  marks: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lineY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(aapl, Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mapY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bollinger</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({n: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, k: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}), {x: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Date&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, y: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Close&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, stroke: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;red&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lineY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(aapl, Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mapY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bollinger</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({n: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, k: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}), {x: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Date&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, y: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Close&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, stroke: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;green&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lineY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(aapl, {x: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Date&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, y: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Close&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><p>Below a candlestick chart is constructed from two <a href="./rule">rule marks</a>, with a bollinger mark underneath to emphasize the days when the stock was more volatile.</p>`,2),H=p(`<div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  x: {domain: [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Date</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2014-01-01&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Date</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2014-06-01&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)]},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  y: {domain: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">68</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">92</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], grid: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  color: {domain: [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], range: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;red&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;black&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;green&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  marks: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bollingerY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(aapl, {x: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Date&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, y: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Close&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, stroke: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;none&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, clip: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ruleX</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(aapl, {x: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Date&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, y1: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Low&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, y2: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;High&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, strokeWidth: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, clip: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ruleX</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(aapl, {x: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Date&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, y1: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Open&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, y2: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Close&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, strokeWidth: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">stroke</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">d</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Math.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sign</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(d.Close </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d.Open), clip: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><p>The bollinger mark has two constructors: the common <a href="#bollingerY">bollingerY</a> for when time goes right→ (or ←left); and the rare <a href="#bollingerX">bollingerX</a> for when time goes up↑ (or down↓).</p>`,2),J=p('<div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bollingerX</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(aapl, {y: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Date&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, x: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Close&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre></div><p>As <a href="./../features/shorthand">shorthand</a>, you can pass an array of numbers as data. Below, the <em>x</em> axis represents the zero-based index into the data (<em>i.e.</em>, trading days since May 13, 2013).</p>',2),K=p('<div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bollingerY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(aapl.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">d</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d.Close)).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre></div><h2 id="bollinger-options" tabindex="-1">Bollinger options <a class="header-anchor" href="#bollinger-options" aria-label="Permalink to &quot;Bollinger options&quot;">​</a></h2><p>The bollinger mark is a <a href="./../features/marks#marks">composite mark</a> consisting of two marks:</p><ul><li>an <a href="./../marks/area">area</a> representing volatility as a band, and</li><li>a <a href="./../marks/line">line</a> representing a moving average</li></ul><p>The bollinger mark supports the following special options:</p><ul><li><strong>n</strong> - the window size (the window transform’s <strong>k</strong> option), an integer; defaults to 20</li><li><strong>k</strong> - the band radius, a number representing a multiple of standard deviations; defaults to 2</li><li><strong>color</strong> - the fill color of the area, and the stroke color of the line; defaults to <em>currentColor</em></li><li><strong>opacity</strong> - the fill opacity of the area; defaults to 0.2</li><li><strong>fill</strong> - the fill color of the area; defaults to <strong>color</strong></li><li><strong>fillOpacity</strong> - the fill opacity of the area; defaults to <strong>opacity</strong></li><li><strong>stroke</strong> - the stroke color of the line; defaults to <strong>color</strong></li><li><strong>strokeOpacity</strong> - the stroke opacity of the line; defaults to 1</li><li><strong>strokeWidth</strong> - the stroke width of the line in pixels; defaults to 1.5</li></ul><p>Any additional options are passed through to the underlying <a href="./line">line mark</a>, <a href="./area">area mark</a>, and <a href="./../transforms/window">window transform</a>. Unlike the window transform, the <strong>strict</strong> option defaults to true, and the <strong>anchor</strong> option defaults to <em>end</em> (which assumes that the data is in chronological order).</p><h2 id="bollingerX" tabindex="-1">bollingerX(<em>data</em>, <em>options</em>) <a class="header-anchor" href="#bollingerX" aria-label="Permalink to &quot;bollingerX(*data*, *options*) {#bollingerX}&quot;">​</a></h2><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bollingerX</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(aapl, {y: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Date&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, x: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Close&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><p>Returns a bollinger mark for when time goes up↑ (or down↓). If the <strong>x</strong> option is not specified, it defaults to the identity function, as when <em>data</em> is an array of numbers [<em>x₀</em>, <em>x₁</em>, <em>x₂</em>, …]. If the <strong>y</strong> option is not specified, it defaults to [0, 1, 2, …].</p><h2 id="bollingerY" tabindex="-1">bollingerY(<em>data</em>, <em>options</em>) <a class="header-anchor" href="#bollingerY" aria-label="Permalink to &quot;bollingerY(*data*, *options*) {#bollingerY}&quot;">​</a></h2><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bollingerY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(aapl, {x: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Date&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, y: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Close&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><p>Returns a bollinger mark for when time goes right→ (or ←left). If the <strong>y</strong> option is not specified, it defaults to the identity function, as when <em>data</em> is an array of numbers [<em>y₀</em>, <em>y₁</em>, <em>y₂</em>, …]. If the <strong>x</strong> option is not specified, it defaults to [0, 1, 2, …].</p><h2 id="bollinger" tabindex="-1">bollinger(<em>options</em>) <a class="header-anchor" href="#bollinger" aria-label="Permalink to &quot;bollinger(*options*) {#bollinger}&quot;">​</a></h2><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lineY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(data, Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({y: Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bollinger</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({n: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})}, {x: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Date&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, y: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Close&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}))</span></span></code></pre></div><p>Returns a bollinger map method for use with the <a href="./../transforms/map">map transform</a>. The <strong>k</strong> option here defaults to zero instead of two.</p>',16),ts=JSON.parse('{"title":"Bollinger mark","description":"","frontmatter":{},"headers":[],"relativePath":"marks/bollinger.md","filePath":"marks/bollinger.md"}'),Q={name:"marks/bollinger.md"},ns=Object.assign(Q,{setup(Z){const e=g(20),l=g(2);return($,r)=>{const _=y("VersionBadge"),o=y("PlotRender");return f(),b("div",null,[s("h1",v,[i("Bollinger mark "),h(_,{version:"0.6.10",pr:"1772"}),i(),q]),w,s("p",null,[i("For example, the chart below shows the price of Apple stock from 2013 to 2018, with a window size "),T,i(" of "+k(e.value)+" days and radius ",1),x,i(" of "+k(l.value)+" standard deviations.",1)]),s("p",null,[s("label",P,[D,u(s("input",{type:"range","onUpdate:modelValue":r[0]||(r[0]=n=>e.value=n),min:"1",max:"100",step:"1"},null,512),[[c,e.value,void 0,{number:!0}]]),s("span",A,k(e.value.toLocaleString("en-US")),1)]),s("label",S,[V,u(s("input",{type:"range","onUpdate:modelValue":r[1]||(r[1]=n=>l.value=n),min:"0",max:"10",step:"0.1"},null,512),[[c,l.value,void 0,{number:!0}]]),s("span",Y,k(l.value.toLocaleString("en-US")),1)])]),h(o,{mark:E(a(t),{x:"Date",y:"Close",n:e.value,k:l.value}),options:{}},null,8,["mark"]),j,s("div",I,[X,R,s("pre",N,[s("code",null,[s("span",O,[z,s("span",W,", n: "+k(e.value)+", k: "+k(l.value)+"}).",1),L,U])])])]),M,h(o,{options:{marks:[d(a(t),F(m({n:20,k:-2}),{x:"Date",y:"Close",stroke:"var(--vp-c-red)"})),d(a(t),F(m({n:20,k:2}),{x:"Date",y:"Close",stroke:"var(--vp-c-green)"})),d(a(t),{x:"Date",y:"Close"})]}},null,8,["options"]),G,h(o,{options:{x:{domain:[new Date("2014-01-01"),new Date("2014-06-01")]},y:{domain:[68,92],grid:!0},color:{domain:[-1,0,1],range:["var(--vp-c-red)","black","var(--vp-c-green)"]},marks:[E(a(t),{x:"Date",y:"Close",stroke:"none",clip:!0}),C(a(t),{x:"Date",y1:"Low",y2:"High",strokeWidth:1,clip:!0}),C(a(t),{x:"Date",y1:"Open",y2:"Close",strokeWidth:3,stroke:n=>Math.sign(n.Close-n.Open),clip:!0})]}},null,8,["options"]),H,h(o,{mark:B(a(t),{y:"Date",x:"Close"}),options:{}},null,8,["mark"]),J,h(o,{mark:E(a(t).map(n=>n.Close)),options:{}},null,8,["mark"]),K])}}});export{ts as __pageData,ns as default};
