import{b6 as f,r as y,c,b as u,w as r,m,by as v,n as q,G as h,aH as B,l as T,aB as F,e as x,a as P,x as A}from"./chunks/theme.DAWdUpF4.js";import{a as o}from"./chunks/aapl.DY7i4a9z.js";import{a as E}from"./chunks/alphabet.Chdqe_eo.js";import{J as _,p as w,G as D,c as S,L as l,s as p,q as s,a as i,t as C,a6 as a,o as I}from"./chunks/framework.Bev6ATEH.js";const R=a("",3),V=a("",3),Y=a("",3),j=a("",4),X=a("",1),O=s("a",{href:"https://observablehq.com/@observablehq/observable-plot-candlestick",target:"_blank",rel:"noreferrer"},"candlestick chart",-1),N={style:{"border-bottom":"solid 2px currentColor"}},z=s("span",{style:{"border-bottom":"solid 2px var(--vp-c-green)"}},"green",-1),H=s("span",{style:{"border-bottom":"solid 2px var(--vp-c-red)"}},"red",-1),W=a("",3),$=s("a",{class:"plot-fork no-icon",href:"https://observablehq.com/@observablehq/plot-simpsons-decline?intent=fork",target:"_blank",title:"Open on Observable"},"Fork",-1),L={class:"language-js vp-adaptive-theme"},G=s("button",{title:"Copy Code",class:"copy"},null,-1),J=s("span",{class:"lang"},"js",-1),U={class:"shiki shiki-themes github-light github-dark vp-code"},M=s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"Plot."),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"plot"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"({")],-1),K=s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  marks: [")],-1),Q=a("",1),Z={class:"line"},ss=a("",9),is={style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},as=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}),",-1),ts=a("",1),es=s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  ]")],-1),ns=s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"})")],-1),ls=s("p",null,[i("Rules can indicate uncertainty or error by setting the "),s("a",{href:"./../features/markers"},[s("strong",null,"marker"),i(" option")]),i(" to "),s("em",null,"tick"),i("; this draws a small perpendicular line at the start and end of the rule. For example, to simulate ±10% error:")],-1),hs=a("",2),ps=a("",21),ys=JSON.parse('{"title":"Rule mark","description":"","frontmatter":{},"headers":[],"relativePath":"marks/rule.md","filePath":"marks/rule.md"}'),ks={name:"marks/rule.md"},cs=Object.assign(ks,{setup(rs){const d=_([]),k=_(f(y(1,29),y(1,26),(t,g)=>({season:t,number_in_season:g})));return w(()=>{c("../data/seattle-weather.csv",u).then(t=>d.value=t),c("../data/simpsons.csv",u).then(t=>k.value=t)}),(t,g)=>{const e=D("PlotRender");return I(),S("div",null,[R,l(e,{options:{y:{grid:!0},marks:[r([0],{stroke:"var(--vp-c-red)"}),m(p(o),{x:"Date",y:"Close"})]}},null,8,["options"]),V,l(e,{options:{y:{type:"log",grid:!0,label:"Change in price (%)",tickFormat:(n=>b=>n((b-1)*100))(v("+d"))},marks:[r([1],{stroke:"var(--vp-c-red)"}),m(p(o),q("first",{x:"Date",y:"Close"}))]}},null,8,["options"]),Y,l(e,{options:{x:{domain:[-4,4]},marks:[h({length:500},{x:B.source(T(42))(),strokeOpacity:.2})]}},null,8,["options"]),j,l(e,{defer:"",options:{y:{grid:!0,label:"Temperature (°C)"},color:{scheme:"BuRd"},marks:[r([0]),h(d.value,{x:"date",y1:"temp_min",y2:"temp_max",stroke:"temp_min"})]}},null,8,["options"]),X,s("p",null,[i("In the dense "),O,i(" below, three rules are drawn for each trading day: a gray rule spans the chart, showing gaps for weekends and holidays; a "),s("span",N,C(t.$dark?"white":"black"),1),i(" rule spans the day’s low and high; and a "),z,i(" or "),H,i(" rule spans the day’s open and close.")]),l(e,{defer:"",options:{inset:6,label:null,y:{grid:!0,label:"Stock price ($)"},color:{type:"threshold",range:["var(--vp-c-red)","var(--vp-c-green)"]},marks:[h(p(o),{x:"Date",y1:"Low",y2:"High"}),h(p(o),{x:"Date",y1:"Open",y2:"Close",stroke:n=>n.Close-n.Open,strokeWidth:4})]}},null,8,["options"]),W,l(e,{defer:"",options:{marks:[h(k.value,F({y1:"min",y2:"max"},{x:"season",y:"imdb_rating"})),x(k.value,{x:"season",y:"imdb_rating",fill:"currentColor",stroke:"var(--vp-c-bg)"}),P(k.value,F({y:"median"},{x:"season",y:"imdb_rating",stroke:"var(--vp-c-red)"}))]}},null,8,["options"]),$,s("div",L,[G,J,s("pre",U,[s("code",null,[M,i(`
`),K,i(`
`),Q,i(`
`),s("span",Z,[ss,s("span",is,'"'+C(t.$dark?"black":"white")+'"',1),as]),i(`
`),ts,i(`
`),es,i(`
`),ns])])]),ls,l(e,{options:{x:{label:null},y:{percent:!0},marks:[A(p(E),{x:"letter",y:"frequency",fill:"var(--vp-c-blue)"}),h(p(E),{x:"letter",y1:n=>n.frequency*.9,y2:n=>n.frequency*1.1,marker:"tick"}),r([0])]}},null,8,["options"]),hs,l(e,{options:{x:{label:null,tickPadding:6,tickSize:0},y:{percent:!0},marks:[h(p(E),{x:"letter",y:"frequency",strokeWidth:2,markerEnd:"dot"})]}},null,8,["options"]),ps])}}});export{ys as __pageData,cs as default};
