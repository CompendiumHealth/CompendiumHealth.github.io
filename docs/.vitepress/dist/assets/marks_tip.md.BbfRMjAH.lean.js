import{s as v,c,b as u,z as B,a as F,bs as p,e as o,aJ as q,y as m,M as f,f as T,B as x,bq as w}from"./chunks/theme.DAWdUpF4.js";import{f as A}from"./chunks/feature.DXDMwmIR.js";import{J as d,m as P,p as S,G as C,c as D,q as i,a as s,L as t,S as _,s as b,a6 as n,o as j}from"./chunks/framework.Bev6ATEH.js";const I={id:"tip-mark",tabindex:"-1"},V=i("a",{class:"header-anchor",href:"#tip-mark","aria-label":'Permalink to "Tip mark <VersionBadge version="0.6.7" />"'},"​",-1),O=i("p",null,[s("The "),i("strong",null,"tip mark"),s(" displays text, or several name-value pairs, in a floating box anchored to a given position in "),i("strong",null,"x"),s(" and "),i("strong",null,"y"),s(". The tip mark is often paired with the "),i("a",{href:"./../interactions/pointer"},"pointer transform"),s(" to reveal details on demand when hovering over a chart, as in this line chart of Apple stock price:")],-1),N=n("",5),z=n("",4),R=n("",3),W=n("",3),Y=i("em",null,"color",-1),$=i("em",null,"opacity",-1),M=n("",1),U=n("",3),X=n("",2),J=i("strong",null,"format",-1),L=i("a",{href:"./../features/formats"},"format",-1),G=i("p",null,"A channel’s label can be specified alongside its value as a {value, label} object; if a channel label is not specified, the associated scale’s label is used, if any; if there is no associated scale, or if the scale has no label, the channel name is used instead.",-1),H=n("",3),K=n("",1),Q=i("strong",null,"anchor",-1),Z=i("strong",null,"preferredAnchor",-1),ss=i("em",null,"bottom",-1),is=i("strong",null,"tip",-1),as=i("a",{href:"./../interactions/pointer"},"pointerY pointing mode",-1),ts=i("em",null,"left",-1),ns=i("strong",null,"style",-1),es=i("code",null,"overflow: visible;",-1),ls=i("p",null,[s("The tip mark is compatible with transforms that derive "),i("strong",null,"x"),s(" and "),i("strong",null,"y"),s(" dynamically from data, such as the "),i("a",{href:"./../transforms/centroid"},"centroid transform"),s(" which computes polygon centroids. Below, a map of the United States shows state names. We reduce the size of the tips by setting the "),i("strong",null,"textPadding"),s(" option to 3 pixels instead of the default 8.")],-1),hs=n("",12),ps=n("",6),ys=JSON.parse('{"title":"Tip mark","description":"","frontmatter":{},"headers":[],"relativePath":"marks/tip.md","filePath":"marks/tip.md"}'),ks={name:"marks/tip.md"},cs=Object.assign(ks,{setup(os){const r=d([]),k=d(null),g=P(()=>k.value?A(k.value,k.value.objects.states).features:[]),l=d([{weight:31,height:1.21,sex:"female"},{weight:170,height:2.21,sex:"male"}]),y=v({color:{type:"categorical"}}).range;return S(()=>{c("../data/aapl.csv",u).then(h=>r.value=h),c("../data/athletes.csv",u).then(h=>l.value=h),B("../data/us-counties-10m.json").then(h=>k.value=h)}),(h,rs)=>{const E=C("VersionBadge"),e=C("PlotRender");return j(),D("div",null,[i("h1",I,[s("Tip mark "),t(E,{version:"0.6.7"}),s(),V]),O,t(e,{defer:"",mark:F(r.value,{x:"Date",y:"Close",tip:!0}),options:{y:{grid:!0}}},null,8,["mark"]),N,t(e,{defer:"",options:{y:{grid:!0},marks:[F(r.value,{x:"Date",y:"Close"}),p(["Apple stock reaches a new high of $133 on Feb. 23, 2015. The release of the first Apple Watch, slated for April, is hotly anticipated."],{x:new Date("2015-02-23"),y:133,dy:-3,anchor:"bottom"}),p(["Apple stock drops 8% after the company misses Q2 revenue targets and reports declining iPhone sales. It reaches a two-year low of $90.34 on May 12."],{x:new Date("2016-05-12"),y:90.34,dy:3,anchor:"top"})]}},null,8,["options"]),z,t(e,{defer:"",options:{grid:!0,marks:[o(l.value,{x:"weight",y:"height",fy:"sex",sort:a=>!!a.info,stroke:a=>a.info?"currentColor":"#aaa"}),p(l.value,q({x:"weight",y:"height",fy:"sex",filter:a=>a.info,title:a=>[a.name,a.info].join(`

`)}))]}},null,8,["options"]),R,t(e,{defer:"",mark:o(l.value,{x:"weight",y:"height",stroke:"sex",channels:{name:"name",sport:"sport"},tip:!0}),options:{}},null,8,["mark"]),W,i("p",null,[s("If a channel is bound to the "),Y,s(" or "),$,s(" scale, the tip mark displays a swatch to reinforce the encoding, such as female "),i("span",{style:_({color:b(y)[0]})},"■",4),s(" or male "),i("span",{style:_({color:b(y)[1]})},"■",4),s(".")]),M,t(e,{defer:"",mark:m(l.value,f({y:"count"},{x:"weight",fill:"sex",tip:!0})),options:{}},null,8,["mark"]),U,t(e,{defer:"",mark:m(l.value,f({y:"sum"},{x:"weight",y:a=>a.sex==="male"?1:-1,fill:"sex",tip:!0})),options:{y:{label:"Frequency"}}},null,8,["mark"]),X,i("p",null,[s("The order and formatting of channels in the tip can be customized with the "),J,s(" option "),t(E,{version:"0.6.11",pr:"1823"}),s(", which accepts a key-value object mapping channel names to formats. Each "),L,s(" can be a string (for number or time formats), a function that receives the value as input and returns a string, true to use the default format, and null or false to suppress. The order of channels in the tip follows their order in the format object followed by any additional channels.")]),G,t(e,{defer:"",mark:o(l.value,{x:"weight",y:"height",stroke:"sex",channels:{name:"name",nationality:{value:"nationality",label:"country"},sport:"sport"},tip:{format:{name:!0,sport:!0,nationality:!0,y:a=>`${a}m`,x:a=>`${a}kg`,stroke:!1}}}),options:{}},null,8,["mark"]),H,t(e,{defer:"",options:{height:160,marks:[T({strokeOpacity:.2}),["top","right","bottom","left","top-left","top-right","bottom-right","bottom-left","middle"].map(a=>[o({length:1},{frameAnchor:a,fill:"var(--vp-c-blue)"}),p([a],{frameAnchor:a,anchor:a})])]}},null,8,["options"]),K,i("p",null,[s("If you don’t specify an explicit "),Q,s(", the tip mark will choose one automatically, using the "),Z,s(),t(E,{version:"0.6.12",pr:"1872"}),s(" if it fits. The preferred anchor defaults to "),ss,s(", except when using the "),is,s(" option and the "),as,s(", in which case it defaults to "),ts,s(". In some cases, it may not be possible to fit the tip within the plot’s frame; consider setting the plot’s "),ns,s(" to "),es,s(" to prevent the tip from being truncated.")]),ls,t(e,{defer:"",options:{projection:"albers-usa",marks:[x(g.value),p(g.value,w({title:a=>a.properties.name,anchor:"bottom",textPadding:3}))]}},null,8,["options"]),hs,t(e,{defer:"",mark:p(["Danger! This tip is red."],{anchor:"bottom",frameAnchor:"bottom",fill:"var(--vp-c-red)"}),options:{}},null,8,["mark"]),ps])}}});export{ys as __pageData,cs as default};
