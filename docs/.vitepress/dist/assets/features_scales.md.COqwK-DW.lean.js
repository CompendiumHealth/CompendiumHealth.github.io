import{k,J as P,p as H,G,c as W,L as t,s as f,q as s,w as d,a9 as S,t as D,a as i,a7 as _,S as Y,a8 as J,a6 as a,o as L}from"./chunks/framework.Bev6ATEH.js";import{c as I,b as R,a as C,G as X,w as m,H as o,f as N,I as $,r as v,J as Q,K as B,e as z,L as K,y as Z,M as ss,x as is,N as as,O as ts,P as es,Q as ns,R as ls,S as hs,T as ps,U as os,V as rs,W as ks,X as ds,Y as Es,Z as gs,_ as cs,$ as us,a0 as ys,a1 as ms,a2 as Fs,a3 as bs,a4 as fs,a5 as _s,a6 as Cs,a7 as vs,a8 as Bs,a9 as qs,aa as Ts,ab as As,ac as V,ad as xs,ae as ws,af as Ps,ag as Ss,ah as Ds,ai as U,aj as Is,ak as Rs,al as Vs,am as js,an as Os,ao as Gs,ap as Ys,s as Ns,aq as zs,ar as Us,as as Ms,at as Hs,au as Ws,av as Js,aw as Ls,ax as Xs,ay as h}from"./chunks/theme.DAWdUpF4.js";import{g as F}from"./chunks/gistemp.COkDWNKX.js";const $s=a("",4),Qs=a("",8),Ks=a("",5),Zs=a("",9),si=a("",3),ii=a("",3),ai=a("",3),ti=a("",3),ei=a("",3),ni=a("",3),li=a("",3),hi=a("",3),pi=a("",3),oi=a("",3),ri=a("",2),ki=a("",6),di=a("",3),Ei=a("",3),gi={class:"label-input"},ci=s("span",null,"Padding:",-1),ui={style:{"font-variant-numeric":"tabular-nums"}},yi={class:"label-input"},mi=s("span",null,"Align:",-1),Fi={style:{"font-variant-numeric":"tabular-nums"}},bi=a("",1),fi=a("",4),_i={class:"label-input"},Ci=a("",3),vi=[Ci],Bi=a("",2),qi={class:"label-input"},Ti=a("",6),Ai=[Ti],xi=a("",3),wi={class:"label-input"},Pi=a("",1),Si=[Pi],Di=a("",1),Ii=s("em",null,"BuRd",-1),Ri=a("",3),Vi={class:"label-input"},ji=a("",4),Oi=[ji],Gi=a("",4),Yi={class:"label-input"},Ni={style:{"font-variant-numeric":"tabular-nums"}},zi=a("",12),Ui=a("",3),Mi=a("",3),Hi=s("strong",null,"interval",-1),Wi=s("a",{id:"interval",class:"header-anchor",href:"#interval","aria-label":'Permalink to "interval"'},null,-1),Ji=s("strong",null,"domain",-1),Li=s("strong",null,"transform",-1),Xi=s("em",null,"interval",-1),$i=s("strong",null,"interval",-1),Qi={class:"label-input"},Ki=a("",9),Zi=a("",18),sa=s("a",{href:"#scale-transforms"},[s("strong",null,"interval"),i(" option")],-1),ia=s("em",null,"interval",-1),aa=s("em",null,"interval",-1),ta=s("em",null,"value",-1),ea=s("em",null,"interval",-1),na=s("em",null,"value",-1),la=s("em",null,"interval",-1),ha=s("em",null,"start",-1),pa=s("em",null,"stop",-1),oa=s("em",null,"second",-1),ra=s("em",null,"minute",-1),ka=s("em",null,"hour",-1),da=s("em",null,"day",-1),Ea=s("em",null,"week",-1),ga=s("em",null,"month",-1),ca=s("em",null,"quarter",-1),ua=s("em",null,"half",-1),ya=s("em",null,"year",-1),ma=s("em",null,"monday",-1),Fa=s("em",null,"tuesday",-1),ba=s("em",null,"wednesday",-1),fa=s("em",null,"thursday",-1),_a=s("em",null,"friday",-1),Ca=s("em",null,"saturday",-1),va=s("em",null,"sunday",-1),Ba=s("em",null,"3 months",-1),qa=s("em",null,"10 years",-1),Ta=s("em",null,"scale",-1),Aa=s("em",null,"interval",-1),xa=s("em",null,"scale",-1),wa=a("",7),Pa=a("",5),Sa=s("em",null,"quantize",-1),Da=s("em",null,"rdylbu",-1),Ia=a("",5),Ra=a("",6),Va=a("",3),ja=a("",3),Oa=a("",2),Ga=a("",18),Ya=a("",10),Na=s("strong",null,"labelArrow",-1),za=s("em",null,"auto",-1),Ua=s("em",null,"up",-1),Ma=s("em",null,"right",-1),Ha=s("em",null,"down",-1),Wa=s("em",null,"left",-1),Ja=s("em",null,"none",-1),La=s("li",null,[s("strong",null,"labelOffset"),i(" - the label position offset (in pixels; default depends on margins and orientation)")],-1),Xa=s("li",null,[s("strong",null,"ariaLabel"),i(" - a short label representing the axis in the accessibility tree")],-1),$a=s("li",null,[s("strong",null,"ariaDescription"),i(" - a textual description for the axis")],-1),Qa=a("",3),Ka={id:"sort-mark-option",tabindex:"-1"},Za=s("a",{class:"header-anchor",href:"#sort-mark-option","aria-label":'Permalink to "Sort mark option <VersionBadge version="0.2.0" />"'},"​",-1),st=a("",2),it=s("em",null,"x",-1),at=s("em",null,"fx",-1),tt=s("strong",null,"y",-1),et=s("strong",null,"y1",-1),nt=s("strong",null,"y2",-1),lt=s("a",{href:"./transforms"},"transforms",-1),ht=s("a",{href:"./../transforms/stack"},"stack",-1),pt=s("a",{href:"./../transforms/bin"},"bin",-1),ot=s("em",null,"x",-1),rt=s("strong",null,"x",-1),kt=s("strong",null,"x2",-1),dt=s("em",null,"y",-1),Et=s("strong",null,"y2",-1),gt=s("a",{href:"./../marks/area"},"area",-1),ct=s("a",{href:"./../marks/bar"},"bar",-1),ut=s("a",{href:"./../marks/rect"},"rect",-1),yt=s("em",null,"width",-1),mt=s("em",null,"height",-1),Ft=s("em",null,"x2",-1),bt=s("em",null,"x1",-1),ft=s("em",null,"y2",-1),_t=s("em",null,"y1",-1),Ct=a("",16),vt={id:"scale",tabindex:"-1"},Bt=s("em",null,"options",-1),qt=s("a",{class:"header-anchor",href:"#scale","aria-label":'Permalink to "scale(*options*) <VersionBadge version="0.4.0" /> {#scale}"'},"​",-1),Tt=a("",7),At=a("",3),It=JSON.parse('{"title":"Scales","description":"","frontmatter":{},"headers":[],"relativePath":"features/scales.md","filePath":"features/scales.md"}'),xt={name:"features/scales.md"},Rt=Object.assign(xt,{setup(wt){const q=k(!0),c=k(.1),u=k(.5),b=k(8),T=k("turbo"),A=k("rdbu"),x=k("Observable10"),y=k("rgb");F.map(r=>r.Anomaly);const w=P([]),j=P([]),O=P([]);return H(()=>{I("../data/aapl.csv",R).then(r=>w.value=r),I("../data/goog.csv",R).then(r=>j.value=r),I("../data/sf-temperatures.csv",R).then(r=>O.value=r)}),(r,l)=>{const e=G("PlotRender"),E=G("VersionBadge");return L(),W("div",null,[$s,t(e,{mark:C(f(F),{x:"Date",y:"Anomaly"}),options:{}},null,8,["mark"]),Qs,t(e,{mark:X(f(F),{x:"Date",stroke:"Anomaly"}),options:{}},null,8,["mark"]),Ks,t(e,{defer:"",options:{marks:[m([0]),C(j.value,{x:"Date",y:"Close",stroke:"var(--vp-c-red)"}),C(w.value,{x:"Date",y:"Close",stroke:"var(--vp-c-blue)"})]}},null,8,["options"]),Zs,t(e,{options:{x:{domain:[0,100],grid:!0}}}),si,t(e,{options:{x:{domain:[100,0],grid:!0}}}),ii,t(e,{options:{x:{domain:[0,100],reverse:!0,grid:!0}}}),ai,t(e,{options:{x:{domain:[new Date("2021-01-01"),new Date("2022-01-01")],grid:!0}}},null,8,["options"]),ti,t(e,{options:{x:{type:"utc",domain:[16094592e5,16409952e5],grid:!0}}}),ei,t(e,{options:{x:{type:"time",domain:[new Date(2021,0,1),new Date(2022,0,1)],grid:!0}}},null,8,["options"]),ni,t(e,{options:{x:{type:"log",domain:[1,1e5],grid:!0}}}),li,t(e,{options:{x:{type:"log",domain:[1,1e5],tickFormat:",",grid:!0}}}),hi,t(e,{options:{x:{type:"log",base:2,domain:[1,1e4],ticks:20,grid:!0}}}),pi,t(e,{options:{x:{type:"symlog",domain:[-10,10],grid:!0}}}),oi,t(e,{options:{x:{type:"sqrt",domain:[0,100],grid:!0}}}),ri,t(e,{options:{x:{type:"pow",exponent:1/3,domain:[0,100],grid:!0}}}),ki,t(e,{options:{x:{type:"point",domain:"ABCDEFGHIJ",grid:!0}}}),di,t(e,{mark:o("ABCDEFGHIJ",{x:h,stroke:"currentColor",strokeOpacity:.1}),options:{x:{type:"band",domain:"ABCDEFGHIJ"}}},null,8,["mark"]),Ei,s("p",null,[s("label",gi,[ci,d(s("input",{type:"range","onUpdate:modelValue":l[0]||(l[0]=n=>c.value=n),min:"0",max:"1",step:"0.01"},null,512),[[S,c.value,void 0,{number:!0}]]),s("span",ui,D(c.value.toFixed(2)),1)]),s("label",yi,[mi,d(s("input",{type:"range","onUpdate:modelValue":l[1]||(l[1]=n=>u.value=n),min:"0",max:"1",step:"0.01"},null,512),[[S,u.value,void 0,{number:!0}]]),s("span",Fi,D(u.value.toFixed(2)),1)])]),t(e,{options:{grid:!0,marginTop:.5,x:{padding:c.value,align:u.value,round:!1},marks:[N({strokeOpacity:.3}),$("ABCDEFGHIJ",{x:h,stroke:"currentColor"})]}},null,8,["options"]),bi,t(e,{options:{grid:!0,marginTop:.5,x:{padding:c.value,align:u.value,round:!1},marks:[N({strokeOpacity:.3}),o("ABCDEFGHIJ",{x:h,stroke:"currentColor"})]}},null,8,["options"]),fi,s("p",null,[s("label",_i,[i(" Color scheme: "),d(s("select",{"onUpdate:modelValue":l[2]||(l[2]=n=>T.value=n)},vi,512),[[_,T.value]])])]),t(e,{options:{axis:null,padding:0,color:{scheme:T.value},marks:[o(v(40),{x:h,fill:h,inset:-.5})]}},null,8,["options"]),Bi,s("p",null,[s("label",qi,[i(" Color interpolate: "),d(s("select",{"onUpdate:modelValue":l[3]||(l[3]=n=>y.value=n)},Ai,512),[[_,y.value]])])]),t(e,{options:{axis:null,padding:0,color:{type:"linear",...y.value==="angry-rainbow"?{interpolate:n=>`hsl(${n*360},100%,50%)`}:y.value==="rgb-gamma"?{range:["steelblue","orange"],interpolate:Q.gamma(2)}:{range:["steelblue","orange"],interpolate:y.value}},marks:[o(v(40),{x:h,fill:h,inset:-.5})]}},null,8,["options"]),xi,s("p",null,[s("label",wi,[i(" Color scheme: "),d(s("select",{"onUpdate:modelValue":l[4]||(l[4]=n=>A.value=n)},Si,512),[[_,A.value]])])]),t(e,{options:{axis:null,padding:0,color:{type:"linear",scheme:A.value},marks:[o(v(40),{x:h,fill:h,inset:-.5})]}},null,8,["options"]),Di,s("p",null,[i("Below we again show observed global surface temperatures. The reversed "),Ii,i(" color scheme is used since "),s("span",{style:Y({borderBottom:`solid 2px ${B(.9)}`})},"blue",4),i(" and "),s("span",{style:Y({borderBottom:`solid 2px ${B(.1)}`})},"red",4),i(" are semantically associated with cold and hot, respectively.")]),t(e,{options:{grid:!0,color:{type:"diverging",scheme:"BuRd"},marks:[m([0]),z(f(F),{x:"Date",y:"Anomaly",stroke:"Anomaly"})]}},null,8,["options"]),Ri,s("p",null,[s("label",Vi,[i(" Color scheme: "),d(s("select",{"onUpdate:modelValue":l[5]||(l[5]=n=>x.value=n)},Oi,512),[[_,x.value]])])]),t(e,{options:{color:{type:"ordinal",scheme:x.value},marks:[o("ABCDEFGHIJ",{x:h,fill:h})]}},null,8,["options"]),Gi,s("p",null,[s("label",Yi,[i(" Radius: "),d(s("input",{type:"range","onUpdate:modelValue":l[6]||(l[6]=n=>b.value=n),min:"1",max:"20",step:"0.1"},null,512),[[S,b.value,void 0,{number:!0}]]),s("span",Ni,D(b.value.toFixed(1)),1)])]),t(e,{options:{r:{range:[0,b.value]},marks:[z(v(1,11),{x:h,r:h,fill:"currentColor"})]}},null,8,["options"]),zi,t(e,{defer:"",options:{y:{grid:!0,label:"Temperature (°C)",transform:n=>(n-32)*(5/9)},marks:[m([32]),C(O.value,K(7,{x:"date",y:"high"}))]}},null,8,["options"]),Ui,t(e,{options:{y:{percent:!0},color:{scheme:"BuRd"},marks:[Z(f(F),ss({y:"proportion",fill:"x"},{x:"Anomaly",fill:"Anomaly"})),m([0])]}},null,8,["options"]),Mi,s("p",null,[i("The "),Hi,i(" scale option"),Wi,i(),t(E,{version:"0.5.1"}),i(" sets an ordinal scale’s "),Ji,i(" to the start of every interval within the extent of the data. In addition, it implicitly sets the "),Li,i(" of the scale to "),Xi,i(".floor, rounding values down to the start of each interval. For example, below we generate a time-series bar chart; when an "),$i,i(" is specified, missing days are visible.")]),s("p",null,[s("label",Qi,[i(" Use interval: "),d(s("input",{type:"checkbox","onUpdate:modelValue":l[7]||(l[7]=n=>q.value=n)},null,512),[[J,q.value]])])]),t(e,{options:{marginBottom:80,x:{tickRotate:-90,interval:q.value?"day":null,label:null},y:{transform:n=>n/1e6,label:"Daily trade volume (millions)"},marks:[is(w.value.slice(-40),{x:"Date",y:"Volume"}),m([0])]}},null,8,["options"]),Ki,t(e,{options:{x:{domain:[new Date("1880-01-01"),new Date("2016-11-01")]}}},null,8,["options"]),Zi,s("p",null,[i("For data at regular intervals, such as integer values or daily samples, the "),sa,i(" can be used to enforce uniformity. The specified "),ia,i(" — such as d3.utcMonth — must expose an "),aa,i(".floor("),ta,i("), "),ea,i(".offset("),na,i("), and "),la,i(".range("),ha,i(", "),pa,i(") functions. The option can also be specified as a number, in which case it will be promoted to a numeric interval with the given step. The option can alternatively be specified as a string ("),oa,i(", "),ra,i(", "),ka,i(", "),da,i(", "),Ea,i(", "),ga,i(", "),ca,i(", "),ua,i(", "),ya,i(", "),ma,i(", "),Fa,i(", "),ba,i(", "),fa,i(", "),_a,i(", "),Ca,i(", "),va,i(") "),t(E,{version:"0.6.2"}),i(" naming the corresponding time interval, or a skip interval consisting of a number followed by the interval name (possibly pluralized), such as "),Ba,i(" or "),qa,i(". This option sets the default "),Ta,i(".transform to the given interval’s "),Aa,i(".floor function. In addition, the default "),xa,i(".domain is an array of uniformly-spaced values spanning the extent of the values associated with the scale.")]),wa,s("ul",null,[Pa,s("li",null,[Sa,i(" - discretizes by computing uniform thresholds; defaults to "),Da,i(),t(E,{version:"0.4.3"})]),Ia]),Ra,t(e,{defer:"",options:{width:322,height:25*27,margin:0,marginRight:70,padding:0,x:{axis:null},y:{axis:"right",tickSize:0},color:{type:"identity"},marks:[o([["Blues",as],["Greens",ts],["Greys",es],["Purples",ns],["Reds",ls],["Oranges",hs],["Turbo",ps],["Viridis",os],["Magma",rs],["Inferno",ks],["Plasma",ds],["Cividis",Es],["Cubehelix",gs],["Warm",cs],["Cool",us],["BuGn",ys],["BuPu",ms],["GnBu",Fs],["OrRd",bs],["PuBuGn",fs],["PuBu",_s],["PuRd",Cs],["RdPu",vs],["YlGnBu",Bs],["YlGn",qs],["YlOrBr",Ts],["YlOrRd",As]].flatMap(([n,g])=>V(0,1,20).map(p=>[p,n,String(g(p))])),{fill:"2",insetTop:.5,insetBottom:.5})]}},null,8,["options"]),Va,t(e,{defer:"",options:{width:322,height:25*11,margin:0,marginRight:70,padding:0,x:{axis:null},y:{axis:"right",tickSize:0},color:{type:"identity"},marks:[o([["BrBG",xs],["PRGn",ws],["PiYG",Ps],["PuOr",Ss],["RdBu",B],["RdGy",Ds],["RdYlBu",U],["RdYlGn",Is],["Spectral",Rs],["BuRd",n=>B(1-n)],["BuYlRd",n=>U(1-n)]].flatMap(([n,g])=>V(0,1,30).map(p=>[p,n,String(g(p))])),{fill:"2",insetTop:.5,insetBottom:.5})]}},null,8,["options"]),ja,t(e,{defer:"",options:{width:322,height:25*2,margin:0,marginRight:70,padding:0,x:{axis:null},y:{axis:"right",tickSize:0},color:{type:"identity"},marks:[o([["rainbow",Vs],["sinebow",js]].flatMap(([n,g])=>V(0,1,30).map(p=>[p,n,String(g(p))])),{fill:"2",insetTop:.5,insetBottom:.5})]}},null,8,["options"]),Oa,t(e,{defer:"",options:{width:322,height:25*10,margin:0,marginRight:70,padding:0,x:{axis:null},y:{axis:"right",tickSize:0},color:{type:"identity"},marks:[o([["Accent",Os],["Category10",Gs],["Dark2",Ys],["Observable10",Ns({color:{type:"categorical"}}).range],["Paired",zs],["Pastel1",Us],["Pastel2",Ms],["Set1",Hs],["Set2",Ws],["Set3",Js],["Tableau10",Ls]].flatMap(([n,g])=>g.map((p,M)=>[M,n,p])),{fill:"2",inset:.5})]}},null,8,["options"]),Ga,s("ul",null,[Ya,s("li",null,[Na,i(" - the label arrow: "),za,i(" (default), "),Ua,i(", "),Ma,i(", "),Ha,i(", "),Wa,i(", "),Ja,i(", or true "),t(E,{version:"0.6.7"})]),La,Xa,$a]),Qa,s("h2",Ka,[i("Sort mark option "),t(E,{version:"0.2.0"}),i(),Za]),st,s("p",null,[i("The sort option is an object whose keys are ordinal scale names, such as "),it,i(" or "),at,i(", and whose values are mark channel names, such as "),tt,i(", "),et,i(", or "),nt,i(". By specifying an existing channel rather than a new value, you avoid repeating the order definition and can refer to channels derived by "),lt,i(" (such as "),ht,i(" or "),pt,i("). When sorting the "),ot,i(" domain, if no "),rt,i(" channel is defined, "),kt,i(" will be used instead if available, and similarly for "),dt,i(" and "),Et,i("; this is useful for marks that implicitly stack such as "),gt,i(", "),ct,i(", and "),ut,i(". A sort value may also be specified as "),yt,i(" or "),mt,i(),t(E,{version:"0.4.2"}),i(", representing derived channels |"),Ft,i(" - "),bt,i("| and |"),ft,i(" - "),_t,i("| respectively.")]),Ct,s("h2",vt,[i("scale("),Bt,i(") "),t(E,{version:"0.4.0"}),i(),qt]),Tt,t(e,{mark:Xs(["apple","apple","orange","pear","orange"]),options:{color:r.color}},null,8,["mark","options"]),At])}}});export{It as __pageData,Rt as default};
