import{k,J as P,p as H,G,c as W,L as t,s as f,q as s,w as d,a9 as S,t as D,a as i,a7 as _,S as Y,a8 as J,a6 as a,o as L}from"./chunks/framework.Bev6ATEH.js";import{c as I,b as R,a as C,G as X,w as m,H as o,f as N,I as $,r as v,J as Q,K as B,e as z,L as K,y as Z,M as ss,x as is,N as as,O as ts,P as es,Q as ns,R as ls,S as hs,T as ps,U as os,V as rs,W as ks,X as ds,Y as Es,Z as gs,_ as cs,$ as us,a0 as ys,a1 as ms,a2 as Fs,a3 as bs,a4 as fs,a5 as _s,a6 as Cs,a7 as vs,a8 as Bs,a9 as qs,aa as Ts,ab as As,ac as V,ad as xs,ae as ws,af as Ps,ag as Ss,ah as Ds,ai as U,aj as Is,ak as Rs,al as Vs,am as js,an as Os,ao as Gs,ap as Ys,s as Ns,aq as zs,ar as Us,as as Ms,at as Hs,au as Ws,av as Js,aw as Ls,ax as Xs,ay as h}from"./chunks/theme.DAWdUpF4.js";import{g as F}from"./chunks/gistemp.COkDWNKX.js";const $s=a('<h1 id="scales" tabindex="-1">Scales <a class="header-anchor" href="#scales" aria-label="Permalink to &quot;Scales&quot;">​</a></h1><p><strong>Scales</strong> convert an abstract value such as time or temperature to a visual value such as <em>x</em>→ or <em>y</em>↑ position or color. For example, say we have a dataset (<code>gistemp</code>) containing monthly observations of <a href="https://data.giss.nasa.gov/gistemp/" target="_blank" rel="noreferrer">global average surface temperature</a> from 1880 to 2016, represented as the “anomaly” (or difference) relative to the 1951–1980 average. The first few rows are:</p><table><thead><tr><th>Date</th><th style="text-align:right;">Anomaly</th></tr></thead><tbody><tr><td>1880-01-01</td><td style="text-align:right;">-0.3</td></tr><tr><td>1880-02-01</td><td style="text-align:right;">-0.21</td></tr><tr><td>1880-03-01</td><td style="text-align:right;">-0.18</td></tr><tr><td>1880-04-01</td><td style="text-align:right;">-0.27</td></tr><tr><td>1880-05-01</td><td style="text-align:right;">-0.14</td></tr><tr><td>1880-06-01</td><td style="text-align:right;">-0.29</td></tr></tbody></table><p>When visualizing this data with a <a href="./../marks/line">line</a>, the <em>x</em> scale is responsible for mapping dates to horizontal↔︎ positions. For example, 1880-01-01 might be mapped to <em>x</em> = 40 (on the left) and 2016-12-01 might be mapped to <em>x</em> = 620 (on the right). Likewise, the <em>y</em> scale maps temperature anomalies to vertical↕︎ positions.</p>',4),Qs=a(`<a class="plot-fork no-icon" href="https://observablehq.com/@observablehq/plot-scales-intro?intent=fork" target="_blank" title="Open on Observable">Fork</a><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lineY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(gistemp, {x: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Date&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, y: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Anomaly&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre></div><p>In Plot, the <a href="./marks">mark</a> binds channels to scales; for example, the line’s <strong>x</strong> channel is bound to the <em>x</em> scale. The channel name and the scale name are often the same, but not always; for example, an area’s <strong>y1</strong> and <strong>y2</strong> channels are both bound to the <em>y</em> scale. (You can opt-out of a scale for a particular channel using <a href="./marks#mark-options">scale overrides</a> if needed.)</p><p>Think of a scale as a function that takes an abstract value and returns the corresponding visual value. For the <em>y</em> scale above, that might look like this:</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> y</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">anomaly</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> t</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (anomaly </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> minAnomaly) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (maxAnomaly </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> minAnomaly); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// t in [0, 1]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> height </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> marginBottom </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> t </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (height </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> marginTop </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> marginBottom);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>The function <code>y</code> depends on a few additional details: the chart’s size and margins, and the minimum and maximum temperatures in the data:</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> marginTop</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> marginBottom</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 30</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> height</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 400</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> minAnomaly</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d3.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">min</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(gistemp, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">d</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d.Anomaly);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> maxAnomaly</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d3.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">max</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(gistemp, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">d</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d.Anomaly);</span></span></code></pre></div><p>Scales aren’t limited to horizontal and vertical position. They can also output to color, radius, length, opacity, and more. For example if we switch to a <a href="./../marks/rule">rule</a> and use the <strong>stroke</strong> channel instead of <strong>y</strong>, we get a one-dimensional heatmap:</p>`,8),Ks=a(`<a class="plot-fork no-icon" href="https://observablehq.com/@observablehq/plot-scales-intro?intent=fork" target="_blank" title="Open on Observable">Fork</a><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ruleX</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(gistemp, {x: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Date&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, stroke: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Anomaly&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span></code></pre></div><p>While the resulting chart looks different, the <em>color</em> scale here behaves similarly to the <code>y</code> function above — the only difference is that it interpolates colors (using <a href="https://d3js.org/d3-scale-chromatic/sequential#interpolateTurbo" target="_blank" rel="noreferrer">d3.interpolateTurbo</a>) instead of numbers (the top and bottom sides of the plot frame):</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">anomaly</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> t</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (anomaly </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> minAnomaly) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (maxAnomaly </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> minAnomaly); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// t in [0, 1]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d3.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">interpolateTurbo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(t);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>Within a given <a href="./plots">plot</a>, marks share scales. For example, if a plot has two line marks, such as the lines below visualizing the daily closing price of <span style="border-bottom:solid 2px var(--vp-c-red);">Google</span> and <span style="border-bottom:solid 2px var(--vp-c-blue);">Apple</span> stock, both share the same <em>x</em> and <em>y</em> scales for a consistent encoding.</p>`,5),Zs=a(`<a class="plot-fork no-icon" href="https://observablehq.com/@observablehq/plot-layered-marks?intent=fork" target="_blank" title="Open on Observable">Fork</a><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  marks: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ruleY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lineY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(goog, {x: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Date&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, y: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Close&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, stroke: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;red&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lineY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(aapl, {x: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Date&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, y: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Close&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, stroke: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;blue&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>When comparing the performance of different stocks, we typically want to normalize the return relative to a purchase price; see the <a href="./../transforms/normalize">normalize transform</a> for an example. Also, not that we recommend them, but if you are interested in dual-axis charts, please upvote <a href="https://github.com/observablehq/plot/issues/147" target="_blank" rel="noreferrer">#147</a>.</p></div><p>Plot has many different scales; we categorize them by their <em>input</em> (<strong>domain</strong>) and <em>output</em> (<strong>range</strong>).</p><p>The <strong>domain</strong> is the abstract values that the scale expects as input. For quantitative or temporal data, it is typically expressed as an extent such as [<em>start</em>, <em>end</em>], [<em>cold</em>, <em>hot</em>], or [<em>min</em>, <em>max</em>]. For ordinal or nominal data, it is an array of values such as names or categories. The type of input values corresponds to the <strong>type</strong> scale option (<em>e.g.</em>, <em>linear</em> or <em>ordinal</em>).</p><p>The <strong>range</strong> is the visual values that the scale generates as output. For position scales, it is typically an extent such as [<em>left</em>, <em>right</em>] or [<em>bottom</em>, <em>top</em>]; for color scales, it might be a continuous extent [<em>blue</em>, <em>red</em>] or an array of discrete colors. The type of values that a scale outputs corresponds to the <em>name</em> of the scale (<em>e.g.</em>, <em>x</em> or <em>color</em>).</p><p>Let’s look at some examples to make this less abstract.</p><h2 id="continuous-scales" tabindex="-1">Continuous scales <a class="header-anchor" href="#continuous-scales" aria-label="Permalink to &quot;Continuous scales&quot;">​</a></h2><p>The domain of a quantitative scale is a continuous extent [<em>min</em>, <em>max</em>] where <em>min</em> and <em>max</em> are numbers, such as temperatures. Below, the first domain value (<em>x</em> = 0) corresponds to the left side of the plot while the second (<em>x</em> = 100) corresponds to the right side.</p>`,9),si=a('<a class="plot-fork no-icon" href="https://observablehq.com/@observablehq/plot-continuous-scales?intent=fork" target="_blank" title="Open on Observable">Fork</a><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({x: {domain: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], grid: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}})</span></span></code></pre></div><p>Flipping the domain reverses the scale so that +<em>x</em> points ←left instead of right→.</p>',3),ii=a('<a class="plot-fork no-icon" href="https://observablehq.com/@observablehq/plot-continuous-scales?intent=fork" target="_blank" title="Open on Observable">Fork</a><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({x: {domain: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], grid: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}})</span></span></code></pre></div><p>Alternatively, use the <strong>reverse</strong> option; this is convenient when the domain is implied from data rather than specified explicitly.</p>',3),ai=a('<a class="plot-fork no-icon" href="https://observablehq.com/@observablehq/plot-continuous-scales?intent=fork" target="_blank" title="Open on Observable">Fork</a><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({x: {domain: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], reverse: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, grid: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}})</span></span></code></pre></div><p>If the domain is dates, Plot will default to a UTC scale. This is a linear scale with ticks based on the Gregorian calendar.</p>',3),ti=a('<a class="plot-fork no-icon" href="https://observablehq.com/@observablehq/plot-continuous-scales?intent=fork" target="_blank" title="Open on Observable">Fork</a><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({x: {domain: [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Date</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2021-01-01&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Date</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2022-01-01&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)], grid: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}})</span></span></code></pre></div><p>To force a UTC scale, say when the data is milliseconds since UNIX epoch rather than Date instances, pass <em>utc</em> as the <strong>type</strong> option. Though we recommend coercing strings and numbers to more specific types when you load data, rather than relying on scales to do it.</p>',3),ei=a('<a class="plot-fork no-icon" href="https://observablehq.com/@observablehq/plot-continuous-scales?intent=fork" target="_blank" title="Open on Observable">Fork</a><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({x: {type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;utc&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, domain: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1609459200000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1640995200000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], grid: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}})</span></span></code></pre></div><p>If the scale <strong>type</strong> is <em>time</em>, the ticks will be in local time — as with the dates below — rather than UTC.</p>',3),ni=a('<a class="plot-fork no-icon" href="https://observablehq.com/@observablehq/plot-continuous-scales?intent=fork" target="_blank" title="Open on Observable">Fork</a><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({x: {type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;time&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, domain: [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Date</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2021</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Date</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2022</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)], grid: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}})</span></span></code></pre></div><p>When plotting values that vary widely, such as the luminosity of stars in an <a href="https://observablehq.com/@mbostock/hertzsprung-russell-diagram" target="_blank" rel="noreferrer">HR diagram</a>, a <em>log</em> scale may improve readability. Log scales default to base-10 ticks with SI-prefix notation.</p>',3),li=a('<a class="plot-fork no-icon" href="https://observablehq.com/@observablehq/plot-continuous-scales?intent=fork" target="_blank" title="Open on Observable">Fork</a><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({x: {type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;log&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, domain: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1e0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1e5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], grid: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}})</span></span></code></pre></div><p>If you prefer conventional notation, you can specify the <strong>tickFormat</strong> option to change the behavior of the axis. The <strong>tickFormat</strong> option can either be a <a href="https://d3js.org/d3-format" target="_blank" rel="noreferrer">d3.format</a> string or a function that takes a tick value and returns the corresponding string. Note, however, that this may result in overlapping text.</p>',3),hi=a('<a class="plot-fork no-icon" href="https://observablehq.com/@observablehq/plot-continuous-scales?intent=fork" target="_blank" title="Open on Observable">Fork</a><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({x: {type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;log&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, domain: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1e0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1e5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], tickFormat: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;,&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, grid: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}})</span></span></code></pre></div><p>Log scales also support a <strong>base</strong> option, say for powers of two. This does not affect the scale’s encoding, but it does change where ticks are shown.</p>',3),pi=a('<a class="plot-fork no-icon" href="https://observablehq.com/@observablehq/plot-continuous-scales?intent=fork" target="_blank" title="Open on Observable">Fork</a><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({x: {type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;log&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, base: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, domain: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1e0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1e4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], ticks: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, grid: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}})</span></span></code></pre></div><p>The domain of a log scale cannot include (or cross) zero; for this, consider a <a href="https://d3js.org/d3-scale/symlog" target="_blank" rel="noreferrer">bi-symmetric log</a> scale instead.</p>',3),oi=a('<a class="plot-fork no-icon" href="https://observablehq.com/@observablehq/plot-continuous-scales?intent=fork" target="_blank" title="Open on Observable">Fork</a><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({x: {type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;symlog&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, domain: [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], grid: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}})</span></span></code></pre></div><p>Power scales and square-root scales are also supported. The <em>pow</em> scale supports the <strong>exponent</strong> option, which defaults to 1 (for a linear scale). The <em>sqrt</em> scale is shorthand for a <em>pow</em> scale with exponent 0.5.</p>',3),ri=a('<a class="plot-fork no-icon" href="https://observablehq.com/@observablehq/plot-continuous-scales?intent=fork" target="_blank" title="Open on Observable">Fork</a><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({x: {type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;sqrt&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, domain: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], grid: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}})</span></span></code></pre></div>',2),ki=a('<a class="plot-fork no-icon" href="https://observablehq.com/@observablehq/plot-continuous-scales?intent=fork" target="_blank" title="Open on Observable">Fork</a><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({x: {type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;pow&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, exponent: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> /</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, domain: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], grid: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}})</span></span></code></pre></div><p>Continuous scales also support a <strong>clamp</strong> option, which if true, clamps input values to the scale’s domain before scaling. This is useful for preventing marks from escaping the chart area.</p><h2 id="discrete-scales" tabindex="-1">Discrete scales <a class="header-anchor" href="#discrete-scales" aria-label="Permalink to &quot;Discrete scales&quot;">​</a></h2><p>Sadly, not all data is continuous: some data is merely ordinal, such as t-shirt sizes; and some categorical (<em>a.k.a.</em> nominal), such as brands of clothing. To encode such data as position, a <em>point</em> or <em>band</em> scale is required.</p><p>A <em>point</em> scale divides space into uniformly-spaced discrete values. It is commonly used for scatterplots (a <a href="./../marks/dot">dot mark</a>) of ordinal data. It is the default scale type for ordinal data on the <em>x</em> and <em>y</em> scale.</p>',6),di=a('<a class="plot-fork no-icon" href="https://observablehq.com/@observablehq/plot-discrete-scales?intent=fork" target="_blank" title="Open on Observable">Fork</a><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({x: {type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;point&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, domain: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ABCDEFGHIJ&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, grid: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}})</span></span></code></pre></div><p>A band scale divides space into uniformly-spaced and -sized discrete intervals. It is commonly used for bar charts (bar marks). To show the bands below, we use a <a href="./../marks/cell">cell</a> instead of a <a href="./../marks/grid">grid</a>.</p>',3),Ei=a(`<a class="plot-fork no-icon" href="https://observablehq.com/@observablehq/plot-discrete-scales?intent=fork" target="_blank" title="Open on Observable">Fork</a><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cell</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ABCDEFGHIJ&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {x: Plot.identity, stroke: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;currentColor&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, strokeOpacity: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({x: {type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;band&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, domain: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ABCDEFGHIJ&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}})</span></span></code></pre></div><p>While <em>point</em> and <em>band</em> scales appear visually similar when only the grid is visible, the two are not identical — they differ respective to padding. Play with the options below to get a sense of their effect on the scale’s behavior.</p>`,3),gi={class:"label-input"},ci=s("span",null,"Padding:",-1),ui={style:{"font-variant-numeric":"tabular-nums"}},yi={class:"label-input"},mi=s("span",null,"Align:",-1),Fi={style:{"font-variant-numeric":"tabular-nums"}},bi=a(`<div style="display:none;"><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  grid: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  marginTop: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  x: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    padding,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    align,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    round: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  marks: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">frame</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({strokeOpacity: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tickX</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ABCDEFGHIJ&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {x: Plot.identity, stroke: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;currentColor&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div></div>`,1),fi=a(`<div style="display:none;"><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  grid: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  marginTop: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  x: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    padding,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    align,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    round: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  marks: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">frame</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({strokeOpacity: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cell</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ABCDEFGHIJ&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {x: Plot.identity, stroke: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;currentColor&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div></div><p>Positions scales also have a <strong>round</strong> option which forces the scale to snap to integer pixels. This defaults to true for point and band scales, and false for quantitative scales. Use caution with high-cardinality ordinal domains (<em>i.e.</em>, a point or band scale used to encode many different values), as rounding can lead to “wasted” space or even zero-width bands.</p><h2 id="color-scales" tabindex="-1">Color scales <a class="header-anchor" href="#color-scales" aria-label="Permalink to &quot;Color scales&quot;">​</a></h2><p>While position is the most salient (and important) encoding, color matters too! The default quantitative color scale <strong>type</strong> is <em>linear</em>, and the default <strong>scheme</strong> is <a href="https://ai.googleblog.com/2019/08/turbo-improved-rainbow-colormap-for.html" target="_blank" rel="noreferrer"><em>turbo</em></a>. A wide variety of sequential, diverging, and cyclical schemes are supported, including ColorBrewer and <a href="http://bids.github.io/colormap/" target="_blank" rel="noreferrer"><em>viridis</em></a>.</p>`,4),_i={class:"label-input"},Ci=a('<optgroup label="sequential, single-hue"><option value="blues">Blues</option><option value="greens">Greens</option><option value="greys">Greys</option><option value="purples">Purples</option><option value="reds">Reds</option><option value="oranges">Oranges</option></optgroup><optgroup label="sequential, multi-hue"><option value="turbo" selected>Turbo</option><option value="viridis">Viridis</option><option value="magma">Magma</option><option value="inferno">Inferno</option><option value="plasma">Plasma</option><option value="cividis">Cividis</option><option value="cubehelix">Cubehelix</option><option value="warm">Warm</option><option value="cool">Cool</option><option value="bugn">BuGn</option><option value="bupu">BuPu</option><option value="gnbu">GnBu</option><option value="orrd">OrRd</option><option value="pubugn">PuBuGn</option><option value="pubu">PuBu</option><option value="purd">PuRd</option><option value="rdpu">RdPu</option><option value="ylgnbu">YlGnBu</option><option value="ylgn">YlGn</option><option value="ylorbr">YlOrBr</option><option value="ylorrd">YlOrRd</option></optgroup><optgroup label="cyclical"><option value="rainbow">Rainbow</option><option value="sinebow">Sinebow</option></optgroup>',3),vi=[Ci],Bi=a(`<div style="display:none;"><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  axis: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  padding: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  color: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    scheme: schemeq</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  marks: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cell</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(d3.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">range</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">40</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), {x: Plot.identity, fill: Plot.identity, inset: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div></div><p>You can implement a custom color scheme by specifying the scale’s <strong>range</strong>, or by passing an <strong>interpolate</strong> function that takes a parameter <em>t</em> in [0, 1]. The <strong>interpolate</strong> option can specify a color space such as <em>rgb</em>, or a two-argument function that takes a pair of values from the range.</p>`,2),qi={class:"label-input"},Ti=a('<option value="rgb">rgb</option><option value="lab">lab</option><option value="hcl">hcl</option><option value="hsl">hsl</option><option value="rgb-gamma">d3.interpolateRgb.gamma(2)</option><option value="angry-rainbow">(t) =&gt; `hsl(${t * 360},100%,50%)`</option>',6),Ai=[Ti],xi=a(`<div style="display:none;"><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  axis: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  padding: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  color: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;linear&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    ...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">interpolateq </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;angry-rainbow&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      ?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">interpolate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">t</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> \`hsl(\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">t</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 360</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">},100%,50%)\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      :</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> interpolateq </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;rgb-gamma&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      ?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {range: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;steelblue&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;orange&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], interpolate: d3.interpolateRgb.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gamma</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      :</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {range: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;steelblue&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;orange&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], interpolate: interpolateq}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  marks: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cell</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(d3.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">range</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">40</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), {x: Plot.identity, fill: Plot.identity, inset: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div></div><p>And like position scales, you can apply a <em>sqrt</em>, <em>pow</em>, <em>log</em>, or <em>symlog</em> transform; these are often useful when working with non-uniformly distributed data.</p><p>Diverging color scales are intended to show positive and negative values, or more generally values above or below some <strong>pivot</strong> value. Diverging color scales default to the <em>RdBu</em> (red–blue) color scheme. The pivot defaults to zero, but you can change it with the <strong>pivot</strong> option, which should ideally be a value near the middle of the domain.</p>`,3),wi={class:"label-input"},Pi=a('<optgroup label="diverging"><option value="brbg">BrBG</option><option value="prgn">PRGn</option><option value="piyg">PiYG</option><option value="puor">PuOr</option><option value="rdbu">RdBu</option><option value="rdgy">RdGy</option><option value="rdylbu">RdYlBu</option><option value="rdylgn">RdYlGn</option><option value="spectral">Spectral</option><option value="burd">BuRd</option><option value="buylrd">BuYlRd</option></optgroup>',1),Si=[Pi],Di=a(`<div style="display:none;"><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  axis: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  padding: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  color: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;linear&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    scheme: schemed</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  marks: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cell</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(d3.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">range</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">40</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), {x: Plot.identity, fill: Plot.identity, inset: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div></div>`,1),Ii=s("em",null,"BuRd",-1),Ri=a(`<a class="plot-fork no-icon" href="https://observablehq.com/@observablehq/plot-diverging-color-scatterplot?intent=fork" target="_blank" title="Open on Observable">Fork</a><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  grid: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  color: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;diverging&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    scheme: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;BuRd&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  marks: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ruleY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(gistemp, {x: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Date&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, y: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Anomaly&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, stroke: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Anomaly&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><p>Plot also provides color schemes for discrete data. Use the <em>categorical</em> type for categorical (nominal) unordered data, and the <em>ordinal</em> type for ordered data.</p>`,3),Vi={class:"label-input"},ji=a('<optgroup label="categorical"><option>Accent</option><option>Category10</option><option>Dark2</option><option>Observable10</option><option>Paired</option><option>Pastel1</option><option>Pastel2</option><option>Set1</option><option>Set2</option><option>Set3</option><option>Tableau10</option></optgroup><optgroup label="sequential, single-hue"><option value="blues">Blues</option><option value="greens">Greens</option><option value="greys">Greys</option><option value="purples">Purples</option><option value="reds">Reds</option><option value="oranges">Oranges</option></optgroup><optgroup label="sequential, multi-hue"><option value="turbo" selected>Turbo</option><option value="viridis">Viridis</option><option value="magma">Magma</option><option value="inferno">Inferno</option><option value="plasma">Plasma</option><option value="cividis">Cividis</option><option value="cubehelix">Cubehelix</option><option value="warm">Warm</option><option value="cool">Cool</option><option value="bugn">BuGn</option><option value="bupu">BuPu</option><option value="gnbu">GnBu</option><option value="orrd">OrRd</option><option value="pubugn">PuBuGn</option><option value="pubu">PuBu</option><option value="purd">PuRd</option><option value="rdpu">RdPu</option><option value="ylgnbu">YlGnBu</option><option value="ylgn">YlGn</option><option value="ylorbr">YlOrBr</option><option value="ylorrd">YlOrRd</option></optgroup><optgroup label="cyclical"><option value="rainbow">Rainbow</option><option value="sinebow">Sinebow</option></optgroup>',4),Oi=[ji],Gi=a(`<div style="display:none;"><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  color: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ordinal&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    scheme: schemeo</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  marks: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cell</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ABCDEFGHIJ&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {x: Plot.identity, fill: Plot.identity})</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div></div><div class="warning custom-block"><p class="custom-block-title">CAUTION</p><p>Discrete color schemes are intended for data that has only a few unique values. If the size of the categorical domain exceeds the number of colors in the scheme, colors will be reused; combining values into an “other” category is recommended.</p></div><h2 id="other-scales" tabindex="-1">Other scales <a class="header-anchor" href="#other-scales" aria-label="Permalink to &quot;Other scales&quot;">​</a></h2><p>But wait, there’s more! 😅 Plot has <em>opacity</em>, <em>r</em>, <em>symbol</em>, and <em>length</em> scales, too. For example, the <em>r</em> scale <strong>type</strong> defaults to <em>sqrt</em> such that when used with the <a href="./../marks/dot">dot mark</a>, the resulting area is proportional to the <strong>r</strong> channel value. You can adjust the effective dot size by specifying an explicit <strong>range</strong>, as below.</p>`,4),Yi={class:"label-input"},Ni={style:{"font-variant-numeric":"tabular-nums"}},zi=a(`<a class="plot-fork no-icon" href="https://observablehq.com/@observablehq/plot-radius-scale-range?intent=fork" target="_blank" title="Open on Observable">Fork</a><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  r: {range: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, radius]},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  marks: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(d3.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">range</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">11</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), {x: Plot.identity, r: Plot.identity, fill: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;currentColor&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><p>The default <strong>range</strong> for the associated <em>r</em> scale is constructed such that a zero value maps to zero for an accurate areal encoding, while the first quartile of values is mapped to a radius of three pixels; this tends to be more stable with varying data.</p><h2 id="type-inference" tabindex="-1">Type inference <a class="header-anchor" href="#type-inference" aria-label="Permalink to &quot;Type inference&quot;">​</a></h2><p>Plot strives to be concise: rather than you laboriously specifying everything, Plot can guess by inspecting the data so you don’t have to set the <strong>type</strong>, <strong>domain</strong>, and <strong>range</strong> (and for color, <strong>scheme</strong>) of scales explicitly. But for Plot’s guesses to be accurate, your data must match Plot’s expectations. Here they are.</p><p>A scale’s <strong>type</strong> is most often inferred from associated marks’ channel values: strings and booleans imply an <em>ordinal</em> scale; dates imply a <em>utc</em> scale; anything else is <em>linear</em>. Plot assumes that your data is consistently typed, so inference is based solely on the first non-null, non-undefined value. We recommend typed CSV (passing <code>{typed: true}</code> to Observable’s FileAttachment csv method) or explicitly coercing types when loading data (<em>e.g.</em>, d3.autoType).</p><p>If a scale’s <strong>domain</strong> is specified explicitly, the scale’s <strong>type</strong> is inferred from the <strong>domain</strong> values rather than channels as described above. However, if the <strong>domain</strong> or <strong>range</strong> has more than two elements, the <em>ordinal</em> type (or <em>point</em> for position scales) is used.</p><p>Finally, some marks declare the scale <strong>type</strong> for associated channels. For example, <a href="./../marks/bar">barX</a> requires <em>y</em> to be a <em>band</em> scale. Further, the facet scales <em>fx</em> and <em>fy</em> are always <em>band</em> scales, and the <em>r</em> (radius) scale is implicitly a <em>sqrt</em> scale.</p><p>If you don’t specify a quantitative scale’s <strong>domain</strong>, it is the extent (minimum and maximum) of associated channel values, except for the <em>r</em> (radius) scale where it goes from zero to the maximum. A quantitative domain can be extended to “nice” human-readable values with the <strong>nice</strong> option. For an ordinal scale, the domain defaults to the sorted union (all distinct values in natural order) of associated values; see the <a href="#sort-mark-option"><strong>sort</strong> mark option</a> to change the order.</p><p>All position scales (<em>x</em>, <em>y</em>, <em>fx</em>, and <em>fy</em>) have implicit automatic ranges based on the chart dimensions. The <em>x</em> scale ranges from the left to right edge, while the <em>y</em> scale ranges from the bottom to top edge, accounting for margins.</p><h2 id="scale-transforms" tabindex="-1">Scale transforms <a class="header-anchor" href="#scale-transforms" aria-label="Permalink to &quot;Scale transforms&quot;">​</a></h2><p>The <strong>transform</strong> scale option allows you to apply a function to all values before they are passed through the scale. This is convenient for transforming a scale’s data, say to convert to thousands or between temperature units.</p>`,12),Ui=a(`<a class="plot-fork no-icon" href="https://observablehq.com/@observablehq/plot-fahrenheit-to-celsius-scale-transform?intent=fork" target="_blank" title="Open on Observable">Fork</a><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  y: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    grid: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    label: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Temperature (°C)&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line highlighted"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    transform</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">f</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (f </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 32</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> /</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 9</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// convert Fahrenheit to Celsius</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  marks: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ruleY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">32</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]), </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 32°F</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lineY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(sftemp, Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">windowY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">7</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {x: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;date&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, y: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;high&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><p>The <strong>percent</strong> scale option is shorthand for a <strong>transform</strong> that multiplies values by 100; it also adds a percent symbol (%) to the default label.</p>`,3),Mi=a(`<a class="plot-fork no-icon" href="https://observablehq.com/@observablehq/plot-percent-scale-transform?intent=fork" target="_blank" title="Open on Observable">Fork</a><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  y: {percent: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// convert proportion [0, 1] to percent [0, 100]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  color: {scheme: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;BuRd&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  marks: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rectY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(gistemp, Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">binX</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({y: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;proportion&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, fill: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;x&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}, {x: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Anomaly&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, fill: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Anomaly&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ruleY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">])</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><div class="warning custom-block"><p class="custom-block-title">CAUTION</p><p><a href="./transforms">Mark transforms</a> typically consume values <em>before</em> they are passed through scales (<em>e.g.</em>, when binning). In this case the mark transforms will see the values prior to the scale transform as input, and the scale transform will apply to the <em>output</em> of the mark transform.</p></div>`,3),Hi=s("strong",null,"interval",-1),Wi=s("a",{id:"interval",class:"header-anchor",href:"#interval","aria-label":'Permalink to "interval"'},null,-1),Ji=s("strong",null,"domain",-1),Li=s("strong",null,"transform",-1),Xi=s("em",null,"interval",-1),$i=s("strong",null,"interval",-1),Qi={class:"label-input"},Ki=a(`<a class="plot-fork no-icon" href="https://observablehq.com/@observablehq/plot-band-scale-interval?intent=fork" target="_blank" title="Open on Observable">Fork</a><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  marginBottom: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">80</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  x: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    tickRotate: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">90</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    interval: intervaled </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;day&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> :</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    label: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  y: {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    transform</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">d</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1e6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    label: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Daily trade volume (millions)&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  marks: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">barY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(aapl.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">slice</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">40</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), {x: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Date&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, y: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Volume&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ruleY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">])</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>As an added bonus, the <strong>fontVariant</strong> and <strong>type</strong> options are no longer needed because Plot now understands that the <em>x</em> scale, despite being <em>ordinal</em>, represents daily observations.</p></div><p>While the example above relies on the <strong>interval</strong> being promoted to the scale’s <strong>transform</strong>, the <a href="./../transforms/stack">stack</a>, <a href="./../transforms/bin">bin</a>, and <a href="./../transforms/group">group</a> transforms are also interval-aware: they apply the scale’s <strong>interval</strong>, if any, <em>before</em> grouping values. (This results in the interval being applied twice, both before and after the mark transform, but the second application has no effect since interval application is idempotent.)</p><p>The <strong>interval</strong> option can also be used for quantitative and temporal scales. This enforces uniformity, say rounding timed observations down to the nearest hour, which may be helpful for the <a href="./../transforms/stack">stack transform</a> among other uses.</p><h2 id="scale-options" tabindex="-1">Scale options <a class="header-anchor" href="#scale-options" aria-label="Permalink to &quot;Scale options&quot;">​</a></h2><p>Each scale’s options are specified as a nested options object with the corresponding scale name within the top-level <a href="./plots">plot options</a>:</p><ul><li><strong>x</strong> - horizontal position</li><li><strong>y</strong> - vertical position</li><li><strong>r</strong> - radius (size)</li><li><strong>color</strong> - fill or stroke</li><li><strong>opacity</strong> - fill or stroke opacity</li><li><strong>length</strong> - linear length (for <a href="./../marks/vector">vectors</a>)</li><li><strong>symbol</strong> - categorical symbol (for <a href="./../marks/dot">dots</a>)</li></ul><p>For example, to set the domain for the <em>x</em> scale:</p>`,9),Zi=a('<div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({x: {domain: [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Date</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;1880-01-01&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Date</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2016-11-01&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)]}})</span></span></code></pre></div><p>Plot supports many scale types. Some scale types are for quantitative data: values that can be added or subtracted, such as temperature or time. Other scale types are for ordinal or categorical data: unquantifiable values that can only be ordered, such as t-shirt sizes, or values with no inherent order that can only be tested for equality, such as types of fruit. Some scale types are further intended for specific visual encodings: for example, as position or color.</p><p>You can set the scale type explicitly via the <strong>type</strong> scale option, though typically the scale type is inferred automatically. Some marks mandate a particular scale type: for example, <a href="./../marks/bar">barY</a> requires that the <em>x</em> scale is a <em>band</em> scale. Some scales have a default type: for example, the <em>r</em> (radius) scale defaults to <em>sqrt</em> and the <em>opacity</em> scale defaults to <em>linear</em>. Most often, the scale type is inferred from associated data, pulled either from the domain (if specified) or from associated channels. Strings and booleans imply an ordinal scale; dates imply a UTC scale; and anything else is linear. Unless they represent text, we recommend explicitly converting strings to more specific types when loading data (<em>e.g.</em>, with d3.autoType or Observable’s FileAttachment). For simplicity’s sake, Plot assumes that data is consistently typed; type inference is based solely on the first non-null, non-undefined value.</p><p>For quantitative data (<em>i.e.</em> numbers), a mathematical transform may be applied to the data by changing the scale type:</p><ul><li><em>linear</em> (default) - linear transform (translate and scale)</li><li><em>pow</em> - power (exponential) transform</li><li><em>sqrt</em> - square-root transform (<em>pow</em> transform with exponent = 0.5)</li><li><em>log</em> - logarithmic transform</li><li><em>symlog</em> - bi-symmetric logarithmic transform per <a href="https://www.researchgate.net/publication/233967063_A_bi-symmetric_log_transformation_for_wide-range_data" target="_blank" rel="noreferrer">Webber <em>et al.</em></a></li></ul><p>The appropriate transform depends on the data’s distribution and what you wish to know. A <em>sqrt</em> transform exaggerates differences between small values at the expense of large values; it is a special case of the <em>pow</em> transform which has a configurable <em>scale</em>.<strong>exponent</strong> (0.5 for <em>sqrt</em>). A <em>log</em> transform is suitable for comparing orders of magnitude and can only be used when the domain does not include zero. The base defaults to 10 and can be specified with the <em>scale</em>.<strong>base</strong> option; note that this only affects the axis ticks and not the scale’s behavior. A <em>symlog</em> transform is more elaborate, but works well with wide-range values that include zero; it can be configured with the <em>scale</em>.<strong>constant</strong> option (default 1).</p><p>For temporal data (<em>i.e.</em> dates), two variants of a <em>linear</em> scale are also supported:</p><ul><li><em>utc</em> (default, recommended) - UTC time</li><li><em>time</em> - local time</li></ul><p>UTC is recommended over local time as charts in UTC time are guaranteed to appear consistently to all viewers whereas charts in local time will depend on the viewer’s time zone. Due to limitations in JavaScript’s Date class, Plot does not yet support an explicit time zone other than UTC.</p><p>For ordinal data (<em>e.g.</em>, strings), use the <em>ordinal</em> scale type or the <em>point</em> or <em>band</em> position scale types. The <em>categorical</em> scale type is also supported; it is equivalent to <em>ordinal</em> except as a color scale, where it provides a different default color scheme. (Since position is inherently ordinal or even quantitative, categorical data must be assigned an effective order when represented as position, and hence <em>categorical</em> and <em>ordinal</em> may be considered synonymous in context.)</p><p>You can opt-out of a scale using the <em>identity</em> scale type. This is useful if you wish to specify literal colors or pixel positions within a mark channel rather than relying on the scale to convert abstract values into visual values. For position scales (<em>x</em> and <em>y</em>), an <em>identity</em> scale is still quantitative and may produce an axis, yet unlike a <em>linear</em> scale the domain and range are fixed based on the plot layout.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>To opt-out of a scale for a single channel, you can specify the channel values as a <code>{value, scale}</code> object; see <a href="./marks#mark-options">mark options</a>.</p></div><p>Quantitative scales, as well as identity position scales, coerce channel values to numbers; both null and undefined are coerced to NaN. Similarly, time scales coerce channel values to dates; numbers are assumed to be milliseconds since UNIX epoch, while strings are assumed to be in <a href="https://github.com/mbostock/isoformat/blob/main/README.md#parsedate-fallback" target="_blank" rel="noreferrer">ISO 8601 format</a>.</p><p>A scale’s domain (the extent of its inputs, abstract values) and range (the extent of its outputs, visual values) are typically inferred automatically. You can set them explicitly using these options:</p><ul><li><strong>domain</strong> - typically [<em>min</em>, <em>max</em>], or an array of ordinal or categorical values</li><li><strong>range</strong> - typically [<em>min</em>, <em>max</em>], or an array of ordinal or categorical values</li><li><strong>unknown</strong> - the desired output value (defaults to undefined) for invalid input values</li><li><strong>reverse</strong> - reverses the domain (or the range), say to flip the chart along <em>x</em> or <em>y</em></li><li><strong>interval</strong> - an interval or time interval (for interval data; see below)</li></ul><p>For most quantitative scales, the default domain is the [<em>min</em>, <em>max</em>] of all values associated with the scale. For the <em>radius</em> and <em>opacity</em> scales, the default domain is [0, <em>max</em>] to ensure a meaningful value encoding. For ordinal scales, the default domain is the set of all distinct values associated with the scale in natural ascending order; for a different order, set the domain explicitly or add a <a href="#sort-mark-option"><strong>sort</strong> option</a> to an associated mark. For threshold scales, the default domain is [0] to separate negative and non-negative values. For quantile scales, the default domain is the set of all defined values associated with the scale. If a scale is reversed, it is equivalent to setting the domain as [<em>max</em>, <em>min</em>] instead of [<em>min</em>, <em>max</em>].</p><p>The default range depends on the scale: for position scales (<em>x</em>, <em>y</em>, <em>fx</em>, and <em>fy</em>), the default range depends on the <a href="./plots">plot’s size and margins</a>. For color scales, there are default color schemes for quantitative, ordinal, and categorical data. For opacity, the default range is [0, 1]. And for radius, the default range is designed to produce dots of “reasonable” size assuming a <em>sqrt</em> scale type for accurate area representation: zero maps to zero, the first quartile maps to a radius of three pixels, and other values are extrapolated. This convention for radius ensures that if the scale’s data values are all equal, dots have the default constant radius of three pixels, while if the data varies, dots will tend to be larger.</p><p>The behavior of the <strong>unknown</strong> scale option depends on the scale type. For quantitative and temporal scales, the unknown value is used whenever the input value is undefined, null, or NaN. For ordinal or categorical scales, the unknown value is returned for any input value outside the domain. For band or point scales, the unknown option has no effect; it is effectively always equal to undefined. If the unknown option is set to undefined (the default), or null or NaN, then the affected input values will be considered undefined and filtered from the output.</p>',18),sa=s("a",{href:"#scale-transforms"},[s("strong",null,"interval"),i(" option")],-1),ia=s("em",null,"interval",-1),aa=s("em",null,"interval",-1),ta=s("em",null,"value",-1),ea=s("em",null,"interval",-1),na=s("em",null,"value",-1),la=s("em",null,"interval",-1),ha=s("em",null,"start",-1),pa=s("em",null,"stop",-1),oa=s("em",null,"second",-1),ra=s("em",null,"minute",-1),ka=s("em",null,"hour",-1),da=s("em",null,"day",-1),Ea=s("em",null,"week",-1),ga=s("em",null,"month",-1),ca=s("em",null,"quarter",-1),ua=s("em",null,"half",-1),ya=s("em",null,"year",-1),ma=s("em",null,"monday",-1),Fa=s("em",null,"tuesday",-1),ba=s("em",null,"wednesday",-1),fa=s("em",null,"thursday",-1),_a=s("em",null,"friday",-1),Ca=s("em",null,"saturday",-1),va=s("em",null,"sunday",-1),Ba=s("em",null,"3 months",-1),qa=s("em",null,"10 years",-1),Ta=s("em",null,"scale",-1),Aa=s("em",null,"interval",-1),xa=s("em",null,"scale",-1),wa=a(`<p>Quantitative scales can be further customized with additional options:</p><ul><li><strong>clamp</strong> - if true, clamp input values to the scale’s domain</li><li><strong>nice</strong> - if true (or a tick count), extend the domain to nice round values</li><li><strong>zero</strong> - if true, extend the domain to include zero if needed</li><li><strong>percent</strong> - if true, transform proportions in [0, 1] to percentages in [0, 100]</li></ul><p>Clamping is typically used in conjunction with setting an explicit domain since if the domain is inferred, no values will be outside the domain. Clamping is useful for focusing on a subset of the data while ensuring that extreme values remain visible, but use caution: clamped values may need an annotation to avoid misinterpretation. Top-level <strong>clamp</strong>, <strong>nice</strong>, and <strong>zero</strong> options are supported as shorthand for setting the respective option on all scales.</p><p>The <strong>transform</strong> option allows you to apply a function to all values before they are passed through the scale. This is convenient for transforming a scale’s data, say to convert to thousands or between temperature units.</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  y: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    label: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Temperature (°F)&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    transform</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">f</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> f </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 9</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> /</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 5</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 32</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // convert Celsius to Fahrenheit</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  marks: …</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><h3 id="color-scale-options" tabindex="-1">Color scale options <a class="header-anchor" href="#color-scale-options" aria-label="Permalink to &quot;Color scale options&quot;">​</a></h3><p>The normal scale types — <em>linear</em>, <em>sqrt</em>, <em>pow</em>, <em>log</em>, <em>symlog</em>, and <em>ordinal</em> — can be used to encode color. In addition, Plot supports special scale types for color:</p>`,7),Pa=a("<li><em>categorical</em> - like <em>ordinal</em>, but defaults to <em>observable10</em></li><li><em>sequential</em> - like <em>linear</em></li><li><em>cyclical</em> - like <em>linear</em>, but defaults to <em>rainbow</em></li><li><em>threshold</em> - discretizes using thresholds given as the <strong>domain</strong>; defaults to <em>rdylbu</em></li><li><em>quantile</em> - discretizes by computing quantile thresholds; defaults to <em>rdylbu</em></li>",5),Sa=s("em",null,"quantize",-1),Da=s("em",null,"rdylbu",-1),Ia=a("<li><em>diverging</em> - like <em>linear</em>, but with a pivot; defaults to <em>rdbu</em></li><li><em>diverging-log</em> - like <em>log</em>, but with a pivot that defaults to 1; defaults to <em>rdbu</em></li><li><em>diverging-pow</em> - like <em>pow</em>, but with a pivot; defaults to <em>rdbu</em></li><li><em>diverging-sqrt</em> - like <em>sqrt</em>, but with a pivot; defaults to <em>rdbu</em></li><li><em>diverging-symlog</em> - like <em>symlog</em>, but with a pivot; defaults to <em>rdbu</em></li>",5),Ra=a("<p>For a <em>threshold</em> scale, the <strong>domain</strong> represents <em>n</em> (typically numeric) thresholds which will produce a <strong>range</strong> of <em>n</em> + 1 output colors; the <em>i</em>th color of the <strong>range</strong> applies to values that are smaller than the <em>i</em>th element of the domain and larger or equal to the <em>i</em> - 1th element of the domain. For a <em>quantile</em> scale, the <strong>domain</strong> represents all input values to the scale, and the <strong>n</strong> option specifies how many quantiles to compute from the <strong>domain</strong>; <strong>n</strong> quantiles will produce <strong>n</strong> - 1 thresholds, and an output range of <strong>n</strong> colors. For a <em>quantize</em> scale, the domain will be transformed into approximately <strong>n</strong> quantized values, where <strong>n</strong> is an option that defaults to 5.</p><p>By default, all diverging color scales are symmetric around the pivot; set <strong>symmetric</strong> to false if you want to cover the whole extent on both sides.</p><p>Color scales support two additional options:</p><ul><li><strong>scheme</strong> - a named color scheme in lieu of a range, such as <em>reds</em></li><li><strong>interpolate</strong> - in conjunction with a range, how to interpolate colors</li></ul><p>For quantile and quantize color scales, the <strong>scheme</strong> option is used in conjunction with <strong>n</strong>, which determines how many quantiles or quantized values to compute, and thus the number of elements in the scale’s range; it defaults to 5 (for quintiles in the case of a quantile scale).</p><p>The following sequential scale schemes are supported for both quantitative and ordinal data:</p>",6),Va=a(`<div style="display:none;"><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  width: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">322</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  height: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">25</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 27</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  margin: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  marginRight: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">70</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  padding: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  x: {axis: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  y: {axis: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;right&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, tickSize: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  color: {type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;identity&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  marks: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cell</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Blues&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, d3.interpolateBlues],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Greens&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, d3.interpolateGreens],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Greys&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, d3.interpolateGreys],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Purples&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, d3.interpolatePurples],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Reds&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, d3.interpolateReds],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Oranges&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, d3.interpolateOranges],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Turbo&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, d3.interpolateTurbo],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Viridis&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, d3.interpolateViridis],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Magma&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, d3.interpolateMagma],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Inferno&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, d3.interpolateInferno],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Plasma&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, d3.interpolatePlasma],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Cividis&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, d3.interpolateCividis],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Cubehelix&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, d3.interpolateCubehelixDefault],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Warm&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, d3.interpolateWarm],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Cool&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, d3.interpolateCool],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;BuGn&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, d3.interpolateBuGn],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;BuPu&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, d3.interpolateBuPu],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;GnBu&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, d3.interpolateGnBu],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;OrRd&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, d3.interpolateOrRd],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;PuBuGn&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, d3.interpolatePuBuGn],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;PuBu&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, d3.interpolatePuBu],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;PuRd&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, d3.interpolatePuRd],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;RdPu&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, d3.interpolateRdPu],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;YlGnBu&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, d3.interpolateYlGnBu],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;YlGn&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, d3.interpolateYlGn],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;YlOrBr&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, d3.interpolateYlOrBr],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;YlOrRd&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, d3.interpolateYlOrRd],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ].</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">flatMap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(([</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">i</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d3.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ticks</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">t</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [t, name, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">i</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(t))])), {fill: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, insetTop: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, insetBottom: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div></div><p>The default color scheme, <em>turbo</em>, was chosen primarily to ensure high-contrast visibility. Color schemes such as <em>blues</em> make low-value marks difficult to see against a white background, for better or for worse. To use a subset of a continuous color scheme (or any single-argument <em>interpolate</em> function), set the <em>scale</em>.range property to the corresponding subset of [0, 1]; for example, to use the first half of the <em>rainbow</em> color scheme, use a range of [0, 0.5]. By default, the full range [0, 1] is used. If you wish to encode a quantitative value without hue, consider using <em>opacity</em> rather than <em>color</em> (e.g., use Plot.dot’s <em>strokeOpacity</em> instead of <em>stroke</em>).</p><p>The following diverging scale schemes are supported:</p>`,3),ja=a(`<div style="display:none;"><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  width: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">322</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  height: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">25</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 11</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  margin: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  marginRight: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">70</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  padding: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  x: {axis: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  y: {axis: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;right&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, tickSize: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  color: {type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;identity&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  marks: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cell</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;BrBG&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, d3.interpolateBrBG],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;PRGn&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, d3.interpolatePRGn],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;PiYG&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, d3.interpolatePiYG],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;PuOr&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, d3.interpolatePuOr],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;RdBu&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, d3.interpolateRdBu],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;RdGy&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, d3.interpolateRdGy],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;RdYlBu&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, d3.interpolateRdYlBu],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;RdYlGn&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, d3.interpolateRdYlGn],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Spectral&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, d3.interpolateSpectral],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;BuRd&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">t</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d3.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">interpolateRdBu</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> t)],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;BuYlRd&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">t</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d3.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">interpolateRdYlBu</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> t)],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ].</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">flatMap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(([</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">i</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d3.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ticks</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">30</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">t</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [t, name, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">i</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(t))])), {fill: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, insetTop: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, insetBottom: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div></div><p>Picking a diverging color scheme name defaults the scale type to <em>diverging</em>; set the scale type to <em>linear</em> to treat the color scheme as sequential instead. Diverging color scales support a <em>scale</em>.<strong>pivot</strong> option, which defaults to zero. Values below the pivot will use the lower half of the color scheme (<em>e.g.</em>, reds for the <em>rdgy</em> scheme), while values above the pivot will use the upper half (grays for <em>rdgy</em>).</p><p>The following cylical color schemes are supported:</p>`,3),Oa=a(`<div style="display:none;"><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  width: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">322</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  height: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">25</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  margin: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  marginRight: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">70</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  padding: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  x: {axis: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  y: {axis: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;right&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, tickSize: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  color: {type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;identity&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  marks: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cell</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;rainbow&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, d3.interpolateRainbow],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;sinebow&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, d3.interpolateSinebow],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ].</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">flatMap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(([</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">i</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d3.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ticks</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">30</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">t</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [t, name, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">i</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(t))])), {fill: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, insetTop: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, insetBottom: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div></div><p>The following categorical color schemes are supported:</p>`,2),Ga=a(`<div style="display:none;"><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  width: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">322</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  height: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">25</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  margin: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  marginRight: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">70</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  padding: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  x: {axis: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  y: {axis: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;right&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, tickSize: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  color: {type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;identity&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  marks: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cell</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Accent&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, d3.schemeAccent],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Category10&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, d3.schemeCategory10],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Dark2&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, d3.schemeDark2],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Observable10&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scale</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({color: {type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;categorical&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}}).range],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Paired&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, d3.schemePaired],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Pastel1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, d3.schemePastel1],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Pastel2&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, d3.schemePastel2],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Set1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, d3.schemeSet1],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Set2&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, d3.schemeSet2],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Set3&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, d3.schemeSet3],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Tableau10&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, d3.schemeTableau10],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ].</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">flatMap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(([</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">scheme</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> scheme.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">s</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">i</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [i, name, s])), {fill: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, inset: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div></div><p>The following color interpolators are supported:</p><ul><li><em>rgb</em> - RGB (red, green, blue)</li><li><em>hsl</em> - HSL (hue, saturation, lightness)</li><li><em>lab</em> - CIELAB (<em>a.k.a.</em> “Lab”)</li><li><em>hcl</em> - CIELCh<sub>ab</sub> (<em>a.k.a.</em> “LCh” or “HCL”)</li></ul><h3 id="position-scale-options" tabindex="-1">Position scale options <a class="header-anchor" href="#position-scale-options" aria-label="Permalink to &quot;Position scale options&quot;">​</a></h3><p>The position scales (<em>x</em>, <em>y</em>, <em>fx</em>, and <em>fy</em>) support additional options:</p><ul><li><strong>inset</strong> - inset the default range by the specified amount in pixels</li><li><strong>round</strong> - round the output value to the nearest integer (whole pixel)</li></ul><p>The <em>x</em> and <em>fx</em> scales support asymmetric insets for more precision. Replace inset by:</p><ul><li><strong>insetLeft</strong> - insets the start of the default range by the specified number of pixels</li><li><strong>insetRight</strong> - insets the end of the default range by the specified number of pixels</li></ul><p>Similarly, the <em>y</em> and <em>fy</em> scales support asymmetric insets with:</p><ul><li><strong>insetTop</strong> - insets the top of the default range by the specified number of pixels</li><li><strong>insetBottom</strong> - insets the bottom of the default range by the specified number of pixels</li></ul><p>The inset scale options can provide “breathing room” to separate marks from axes or the plot’s edge. For example, in a scatterplot with a Plot.dot with the default 3-pixel radius and 1.5-pixel stroke width, an inset of 5 pixels prevents dots from overlapping with the axes. The <em>scale</em>.round option is useful for crisp edges by rounding to the nearest pixel boundary.</p><p>In addition to the generic <em>ordinal</em> scale type, which requires an explicit output range value for each input domain value, Plot supports special <em>point</em> and <em>band</em> scale types for encoding ordinal data as position. These scale types accept a [<em>min</em>, <em>max</em>] range similar to quantitative scales, and divide this continuous interval into discrete points or bands based on the number of distinct values in the domain (<em>i.e.</em>, the domain’s cardinality). If the associated marks have no effective width along the ordinal dimension — such as a dot, rule, or tick — then use a <em>point</em> scale; otherwise, say for a bar, use a <em>band</em> scale.</p><p>Ordinal position scales support additional options, all specified as proportions in [0, 1]:</p><ul><li><strong>padding</strong> - how much of the range to reserve to inset first and last point or band</li><li><strong>align</strong> - where to distribute points or bands (0 = at start, 0.5 = at middle, 1 = at end)</li></ul><p>For a <em>band</em> scale, you can further fine-tune padding:</p><ul><li><strong>paddingInner</strong> - how much of the range to reserve to separate adjacent bands</li><li><strong>paddingOuter</strong> - how much of the range to reserve to inset first and last band</li></ul><p>Align defaults to 0.5 (centered). Band scale padding defaults to 0.1 (10% of available space reserved for separating bands), while point scale padding defaults to 0.5 (the gap between the first point and the edge is half the distance of the gap between points, and likewise for the gap between the last point and the opposite edge). Note that rounding and mark insets (e.g., for bars and rects) also affect separation between adjacent marks.</p><p>Plot implicitly generates an <a href="./../marks/axis">axis mark</a> for position scales if one is not explicitly declared. (For more control, declare the axis mark explicitly.) The following <a href="./../marks/axis#axis-options">axis mark options</a> are also available as scale options, applying to the implicit axis:</p>`,18),Ya=a('<li><strong>axis</strong> - the axis <strong>anchor</strong>: <em>top</em>, <em>bottom</em> (<em>x</em> or <em>fx</em>); <em>left</em>, <em>right</em> (<em>y</em> or <em>fy</em>); <em>both</em>; null to suppress</li><li><strong>ticks</strong> - the approximate number of ticks to generate, or interval, or array of values</li><li><strong>tickSpacing</strong> - the approximate number of pixels between ticks (if <strong>ticks</strong> is not specified)</li><li><strong>tickSize</strong> - the length of each tick (in pixels; default 6 for <em>x</em> and <em>y</em>, or 0 for <em>fx</em> and <em>fy</em>)</li><li><strong>tickPadding</strong> - the separation between the tick and its label (in pixels; default 3)</li><li><strong>tickFormat</strong> - either a function or specifier string to format tick values; see <a href="./formats">Formats</a></li><li><strong>tickRotate</strong> - whether to rotate tick labels (an angle in degrees clockwise; default 0)</li><li><strong>fontVariant</strong> - the font-variant attribute; defaults to <em>tabular-nums</em> if quantitative</li><li><strong>label</strong> - a string to label the axis</li><li><strong>labelAnchor</strong> - the label anchor: <em>top</em>, <em>right</em>, <em>bottom</em>, <em>left</em>, or <em>center</em></li>',10),Na=s("strong",null,"labelArrow",-1),za=s("em",null,"auto",-1),Ua=s("em",null,"up",-1),Ma=s("em",null,"right",-1),Ha=s("em",null,"down",-1),Wa=s("em",null,"left",-1),Ja=s("em",null,"none",-1),La=s("li",null,[s("strong",null,"labelOffset"),i(" - the label position offset (in pixels; default depends on margins and orientation)")],-1),Xa=s("li",null,[s("strong",null,"ariaLabel"),i(" - a short label representing the axis in the accessibility tree")],-1),$a=s("li",null,[s("strong",null,"ariaDescription"),i(" - a textual description for the axis")],-1),Qa=a('<p>For an implicit <a href="./../marks/grid">grid mark</a>, use the <strong>grid</strong> option. For an implicit <a href="./../marks/frame">frame mark</a> along one edge of the frame, use the <strong>line</strong> option.</p><ul><li><strong>grid</strong> - whether to draw grid lines across the plot for each tick</li><li><strong>line</strong> - if true, draw the axis line (only for <em>x</em> and <em>y</em>)</li></ul><p>Top-level options are also supported as shorthand: <strong>grid</strong> (for <em>x</em> and <em>y</em> only; see <a href="./facets">facets</a>), <strong>label</strong>, <strong>axis</strong>, <strong>inset</strong>, <strong>round</strong>, <strong>align</strong>, and <strong>padding</strong>. If the <strong>grid</strong> option is true, show a grid using <em>currentColor</em>; if specified as a string, show a grid with the specified color; if an approximate number of ticks, an interval, or an array of tick values, show corresponding grid lines.</p>',3),Ka={id:"sort-mark-option",tabindex:"-1"},Za=s("a",{class:"header-anchor",href:"#sort-mark-option","aria-label":'Permalink to "Sort mark option <VersionBadge version="0.2.0" />"'},"​",-1),st=a('<p>If an ordinal scale’s domain is not set, it defaults to natural ascending order; to order the domain by associated values in another dimension, either compute the domain manually (consider <a href="https://d3js.org/d3-array/group#groupSort" target="_blank" rel="noreferrer">d3.groupSort</a>) or use an associated mark’s <strong>sort</strong> option. For example, to sort bars by ascending frequency rather than alphabetically by letter:</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">barY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(alphabet, {x: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;letter&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, y: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;frequency&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, sort: {x: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;y&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}})</span></span></code></pre></div>',2),it=s("em",null,"x",-1),at=s("em",null,"fx",-1),tt=s("strong",null,"y",-1),et=s("strong",null,"y1",-1),nt=s("strong",null,"y2",-1),lt=s("a",{href:"./transforms"},"transforms",-1),ht=s("a",{href:"./../transforms/stack"},"stack",-1),pt=s("a",{href:"./../transforms/bin"},"bin",-1),ot=s("em",null,"x",-1),rt=s("strong",null,"x",-1),kt=s("strong",null,"x2",-1),dt=s("em",null,"y",-1),Et=s("strong",null,"y2",-1),gt=s("a",{href:"./../marks/area"},"area",-1),ct=s("a",{href:"./../marks/bar"},"bar",-1),ut=s("a",{href:"./../marks/rect"},"rect",-1),yt=s("em",null,"width",-1),mt=s("em",null,"height",-1),Ft=s("em",null,"x2",-1),bt=s("em",null,"x1",-1),ft=s("em",null,"y2",-1),_t=s("em",null,"y1",-1),Ct=a('<p>Note that there may be multiple associated values in the secondary dimension for a given value in the primary ordinal dimension. The secondary values are therefore grouped for each associated primary value, and each group is then aggregated by applying a reducer. The default reducer is <em>max</em>, but may be changed by specifying the <strong>reduce</strong> option. Lastly the primary values are by default sorted based on the associated reduced value in natural ascending order to produce the domain. The above code is shorthand for:</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">barY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(alphabet, {x: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;letter&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, y: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;frequency&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, sort: {x: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;y&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, reduce: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;max&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, order: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ascending&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}})</span></span></code></pre></div><p>Generally speaking, a reducer only needs to be specified when there are multiple secondary values for a given primary value. See the <a href="./../transforms/group">group transform</a> for the list of supported reducers.</p><p>For descending rather than ascending order, set the <strong>order</strong> option to <em>descending</em>:</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">barY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(alphabet, {x: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;letter&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, y: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;frequency&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, sort: {x: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;y&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, order: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;descending&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}})</span></span></code></pre></div><p>Alternatively, the <em>-channel</em> shorthand option, which changes the default <strong>order</strong> to <em>descending</em>:</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">barY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(alphabet, {x: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;letter&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, y: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;frequency&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, sort: {x: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;-y&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}})</span></span></code></pre></div><p>Setting <strong>order</strong> to null will disable sorting, preserving the order of the data. (When an aggregating transform is used, such as <a href="./../transforms/group">group</a> or <a href="./../transforms/bin">bin</a>, note that the data may already have been sorted and thus the order may differ from the input data.)</p><p>Alternatively, set the <strong>reverse</strong> option to true. This produces a different result than descending order for null or unorderable values: descending order puts nulls last, whereas reversed ascending order puts nulls first.</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">barY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(alphabet, {x: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;letter&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, y: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;frequency&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, sort: {x: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;y&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, reverse: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}})</span></span></code></pre></div><p>An additional <strong>limit</strong> option truncates the domain to the first <em>n</em> values after ordering. If <strong>limit</strong> is negative, the last <em>n</em> values are used instead. Hence, a positive <strong>limit</strong> with <strong>reverse</strong> = true will return the top <em>n</em> values in descending order. If <strong>limit</strong> is an array [<em>lo</em>, <em>hi</em>], the <em>i</em>th values with <em>lo</em> ≤ <em>i</em> &lt; <em>hi</em> will be selected. (Note that like the <a href="./../transforms/filter">basic filter transform</a>, limiting the <em>x</em> domain here does not affect the computation of the <em>y</em> domain, which is computed independently without respect to filtering.)</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">barY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(alphabet, {x: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;letter&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, y: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;frequency&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, sort: {x: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;y&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, limit: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}})</span></span></code></pre></div><p>If different sort options are needed for different ordinal scales, the channel name can be replaced with a <em>value</em> object with additional per-scale options.</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">barY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(alphabet, {x: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;letter&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, y: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;frequency&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, sort: {x: {value: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;y&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, order: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;descending&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}}})</span></span></code></pre></div><p>If the input channel is <em>data</em>, then the reducer is passed groups of the mark’s data; this is typically used in conjunction with a custom reducer function, as when the built-in single-channel reducers are insufficient.</p><p>Note: when the value of the sort option is a string or a function, it is interpreted as a mark <a href="./../transforms/sort">sort transform</a>. To use both sort options and a mark sort transform, use <a href="./../transforms/sort#sort">Plot.sort</a>.</p>',16),vt={id:"scale",tabindex:"-1"},Bt=s("em",null,"options",-1),qt=s("a",{class:"header-anchor",href:"#scale","aria-label":'Permalink to "scale(*options*) <VersionBadge version="0.4.0" /> {#scale}"'},"​",-1),Tt=a('<p>You can also create a standalone scale with Plot.<strong>scale</strong>(<em>options</em>). The <em>options</em> object must define at least one scale; see <a href="#scale-options">Scale options</a> for how to define a scale. For example, here is a categorical color scale with the <em>Tableau10</em> color scheme and a domain of fruits:</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> color</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scale</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({color: {scheme: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Tableau10&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, domain: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;apple&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;orange&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;pear&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]}});</span></span></code></pre></div><p>Both <a href="./plots#plot_scale"><em>plot</em>.scale</a> and <a href="#scale">Plot.scale</a> return scale objects. These objects represent the actual (or “materialized”) scale options used by Plot, including the domain, range, interpolate function, <em>etc.</em> The scale’s label, if any, is also returned; however, note that other axis properties are not currently exposed. Point and band scales also expose their materialized bandwidth and step.</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">color.domain </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// [&quot;apple&quot;, &quot;orange&quot;, &quot;pear&quot;]</span></span></code></pre></div><p>For convenience, scale objects expose a <em>scale</em>.<strong>apply</strong>(<em>input</em>) method which returns the scale’s output for the given <em>input</em> value. When applicable, scale objects also expose a <em>scale</em>.<strong>invert</strong>(<em>output</em>) method which returns the corresponding input value from the scale’s domain for the given <em>output</em> value.</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">color.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">apply</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;apple&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// &quot;#4e79a7&quot;</span></span></code></pre></div><p>To apply a standalone scale object to a plot, pass it to Plot.plot as the corresponding scale options, such as <strong>color</strong>:</p>',7),At=a(`<div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cellX</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;apple&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;apple&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;orange&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;pear&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;orange&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({color})</span></span></code></pre></div><p>As another example, below are two plots with different options where the second plot uses the <em>color</em> scale from the first plot:</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> plot1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">options1});</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> plot2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">options2, color: plot1.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scale</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;color&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)});</span></span></code></pre></div>`,3),It=JSON.parse('{"title":"Scales","description":"","frontmatter":{},"headers":[],"relativePath":"features/scales.md","filePath":"features/scales.md"}'),xt={name:"features/scales.md"},Rt=Object.assign(xt,{setup(wt){const q=k(!0),c=k(.1),u=k(.5),b=k(8),T=k("turbo"),A=k("rdbu"),x=k("Observable10"),y=k("rgb");F.map(r=>r.Anomaly);const w=P([]),j=P([]),O=P([]);return H(()=>{I("../data/aapl.csv",R).then(r=>w.value=r),I("../data/goog.csv",R).then(r=>j.value=r),I("../data/sf-temperatures.csv",R).then(r=>O.value=r)}),(r,l)=>{const e=G("PlotRender"),E=G("VersionBadge");return L(),W("div",null,[$s,t(e,{mark:C(f(F),{x:"Date",y:"Anomaly"}),options:{}},null,8,["mark"]),Qs,t(e,{mark:X(f(F),{x:"Date",stroke:"Anomaly"}),options:{}},null,8,["mark"]),Ks,t(e,{defer:"",options:{marks:[m([0]),C(j.value,{x:"Date",y:"Close",stroke:"var(--vp-c-red)"}),C(w.value,{x:"Date",y:"Close",stroke:"var(--vp-c-blue)"})]}},null,8,["options"]),Zs,t(e,{options:{x:{domain:[0,100],grid:!0}}}),si,t(e,{options:{x:{domain:[100,0],grid:!0}}}),ii,t(e,{options:{x:{domain:[0,100],reverse:!0,grid:!0}}}),ai,t(e,{options:{x:{domain:[new Date("2021-01-01"),new Date("2022-01-01")],grid:!0}}},null,8,["options"]),ti,t(e,{options:{x:{type:"utc",domain:[16094592e5,16409952e5],grid:!0}}}),ei,t(e,{options:{x:{type:"time",domain:[new Date(2021,0,1),new Date(2022,0,1)],grid:!0}}},null,8,["options"]),ni,t(e,{options:{x:{type:"log",domain:[1,1e5],grid:!0}}}),li,t(e,{options:{x:{type:"log",domain:[1,1e5],tickFormat:",",grid:!0}}}),hi,t(e,{options:{x:{type:"log",base:2,domain:[1,1e4],ticks:20,grid:!0}}}),pi,t(e,{options:{x:{type:"symlog",domain:[-10,10],grid:!0}}}),oi,t(e,{options:{x:{type:"sqrt",domain:[0,100],grid:!0}}}),ri,t(e,{options:{x:{type:"pow",exponent:1/3,domain:[0,100],grid:!0}}}),ki,t(e,{options:{x:{type:"point",domain:"ABCDEFGHIJ",grid:!0}}}),di,t(e,{mark:o("ABCDEFGHIJ",{x:h,stroke:"currentColor",strokeOpacity:.1}),options:{x:{type:"band",domain:"ABCDEFGHIJ"}}},null,8,["mark"]),Ei,s("p",null,[s("label",gi,[ci,d(s("input",{type:"range","onUpdate:modelValue":l[0]||(l[0]=n=>c.value=n),min:"0",max:"1",step:"0.01"},null,512),[[S,c.value,void 0,{number:!0}]]),s("span",ui,D(c.value.toFixed(2)),1)]),s("label",yi,[mi,d(s("input",{type:"range","onUpdate:modelValue":l[1]||(l[1]=n=>u.value=n),min:"0",max:"1",step:"0.01"},null,512),[[S,u.value,void 0,{number:!0}]]),s("span",Fi,D(u.value.toFixed(2)),1)])]),t(e,{options:{grid:!0,marginTop:.5,x:{padding:c.value,align:u.value,round:!1},marks:[N({strokeOpacity:.3}),$("ABCDEFGHIJ",{x:h,stroke:"currentColor"})]}},null,8,["options"]),bi,t(e,{options:{grid:!0,marginTop:.5,x:{padding:c.value,align:u.value,round:!1},marks:[N({strokeOpacity:.3}),o("ABCDEFGHIJ",{x:h,stroke:"currentColor"})]}},null,8,["options"]),fi,s("p",null,[s("label",_i,[i(" Color scheme: "),d(s("select",{"onUpdate:modelValue":l[2]||(l[2]=n=>T.value=n)},vi,512),[[_,T.value]])])]),t(e,{options:{axis:null,padding:0,color:{scheme:T.value},marks:[o(v(40),{x:h,fill:h,inset:-.5})]}},null,8,["options"]),Bi,s("p",null,[s("label",qi,[i(" Color interpolate: "),d(s("select",{"onUpdate:modelValue":l[3]||(l[3]=n=>y.value=n)},Ai,512),[[_,y.value]])])]),t(e,{options:{axis:null,padding:0,color:{type:"linear",...y.value==="angry-rainbow"?{interpolate:n=>`hsl(${n*360},100%,50%)`}:y.value==="rgb-gamma"?{range:["steelblue","orange"],interpolate:Q.gamma(2)}:{range:["steelblue","orange"],interpolate:y.value}},marks:[o(v(40),{x:h,fill:h,inset:-.5})]}},null,8,["options"]),xi,s("p",null,[s("label",wi,[i(" Color scheme: "),d(s("select",{"onUpdate:modelValue":l[4]||(l[4]=n=>A.value=n)},Si,512),[[_,A.value]])])]),t(e,{options:{axis:null,padding:0,color:{type:"linear",scheme:A.value},marks:[o(v(40),{x:h,fill:h,inset:-.5})]}},null,8,["options"]),Di,s("p",null,[i("Below we again show observed global surface temperatures. The reversed "),Ii,i(" color scheme is used since "),s("span",{style:Y({borderBottom:`solid 2px ${B(.9)}`})},"blue",4),i(" and "),s("span",{style:Y({borderBottom:`solid 2px ${B(.1)}`})},"red",4),i(" are semantically associated with cold and hot, respectively.")]),t(e,{options:{grid:!0,color:{type:"diverging",scheme:"BuRd"},marks:[m([0]),z(f(F),{x:"Date",y:"Anomaly",stroke:"Anomaly"})]}},null,8,["options"]),Ri,s("p",null,[s("label",Vi,[i(" Color scheme: "),d(s("select",{"onUpdate:modelValue":l[5]||(l[5]=n=>x.value=n)},Oi,512),[[_,x.value]])])]),t(e,{options:{color:{type:"ordinal",scheme:x.value},marks:[o("ABCDEFGHIJ",{x:h,fill:h})]}},null,8,["options"]),Gi,s("p",null,[s("label",Yi,[i(" Radius: "),d(s("input",{type:"range","onUpdate:modelValue":l[6]||(l[6]=n=>b.value=n),min:"1",max:"20",step:"0.1"},null,512),[[S,b.value,void 0,{number:!0}]]),s("span",Ni,D(b.value.toFixed(1)),1)])]),t(e,{options:{r:{range:[0,b.value]},marks:[z(v(1,11),{x:h,r:h,fill:"currentColor"})]}},null,8,["options"]),zi,t(e,{defer:"",options:{y:{grid:!0,label:"Temperature (°C)",transform:n=>(n-32)*(5/9)},marks:[m([32]),C(O.value,K(7,{x:"date",y:"high"}))]}},null,8,["options"]),Ui,t(e,{options:{y:{percent:!0},color:{scheme:"BuRd"},marks:[Z(f(F),ss({y:"proportion",fill:"x"},{x:"Anomaly",fill:"Anomaly"})),m([0])]}},null,8,["options"]),Mi,s("p",null,[i("The "),Hi,i(" scale option"),Wi,i(),t(E,{version:"0.5.1"}),i(" sets an ordinal scale’s "),Ji,i(" to the start of every interval within the extent of the data. In addition, it implicitly sets the "),Li,i(" of the scale to "),Xi,i(".floor, rounding values down to the start of each interval. For example, below we generate a time-series bar chart; when an "),$i,i(" is specified, missing days are visible.")]),s("p",null,[s("label",Qi,[i(" Use interval: "),d(s("input",{type:"checkbox","onUpdate:modelValue":l[7]||(l[7]=n=>q.value=n)},null,512),[[J,q.value]])])]),t(e,{options:{marginBottom:80,x:{tickRotate:-90,interval:q.value?"day":null,label:null},y:{transform:n=>n/1e6,label:"Daily trade volume (millions)"},marks:[is(w.value.slice(-40),{x:"Date",y:"Volume"}),m([0])]}},null,8,["options"]),Ki,t(e,{options:{x:{domain:[new Date("1880-01-01"),new Date("2016-11-01")]}}},null,8,["options"]),Zi,s("p",null,[i("For data at regular intervals, such as integer values or daily samples, the "),sa,i(" can be used to enforce uniformity. The specified "),ia,i(" — such as d3.utcMonth — must expose an "),aa,i(".floor("),ta,i("), "),ea,i(".offset("),na,i("), and "),la,i(".range("),ha,i(", "),pa,i(") functions. The option can also be specified as a number, in which case it will be promoted to a numeric interval with the given step. The option can alternatively be specified as a string ("),oa,i(", "),ra,i(", "),ka,i(", "),da,i(", "),Ea,i(", "),ga,i(", "),ca,i(", "),ua,i(", "),ya,i(", "),ma,i(", "),Fa,i(", "),ba,i(", "),fa,i(", "),_a,i(", "),Ca,i(", "),va,i(") "),t(E,{version:"0.6.2"}),i(" naming the corresponding time interval, or a skip interval consisting of a number followed by the interval name (possibly pluralized), such as "),Ba,i(" or "),qa,i(". This option sets the default "),Ta,i(".transform to the given interval’s "),Aa,i(".floor function. In addition, the default "),xa,i(".domain is an array of uniformly-spaced values spanning the extent of the values associated with the scale.")]),wa,s("ul",null,[Pa,s("li",null,[Sa,i(" - discretizes by computing uniform thresholds; defaults to "),Da,i(),t(E,{version:"0.4.3"})]),Ia]),Ra,t(e,{defer:"",options:{width:322,height:25*27,margin:0,marginRight:70,padding:0,x:{axis:null},y:{axis:"right",tickSize:0},color:{type:"identity"},marks:[o([["Blues",as],["Greens",ts],["Greys",es],["Purples",ns],["Reds",ls],["Oranges",hs],["Turbo",ps],["Viridis",os],["Magma",rs],["Inferno",ks],["Plasma",ds],["Cividis",Es],["Cubehelix",gs],["Warm",cs],["Cool",us],["BuGn",ys],["BuPu",ms],["GnBu",Fs],["OrRd",bs],["PuBuGn",fs],["PuBu",_s],["PuRd",Cs],["RdPu",vs],["YlGnBu",Bs],["YlGn",qs],["YlOrBr",Ts],["YlOrRd",As]].flatMap(([n,g])=>V(0,1,20).map(p=>[p,n,String(g(p))])),{fill:"2",insetTop:.5,insetBottom:.5})]}},null,8,["options"]),Va,t(e,{defer:"",options:{width:322,height:25*11,margin:0,marginRight:70,padding:0,x:{axis:null},y:{axis:"right",tickSize:0},color:{type:"identity"},marks:[o([["BrBG",xs],["PRGn",ws],["PiYG",Ps],["PuOr",Ss],["RdBu",B],["RdGy",Ds],["RdYlBu",U],["RdYlGn",Is],["Spectral",Rs],["BuRd",n=>B(1-n)],["BuYlRd",n=>U(1-n)]].flatMap(([n,g])=>V(0,1,30).map(p=>[p,n,String(g(p))])),{fill:"2",insetTop:.5,insetBottom:.5})]}},null,8,["options"]),ja,t(e,{defer:"",options:{width:322,height:25*2,margin:0,marginRight:70,padding:0,x:{axis:null},y:{axis:"right",tickSize:0},color:{type:"identity"},marks:[o([["rainbow",Vs],["sinebow",js]].flatMap(([n,g])=>V(0,1,30).map(p=>[p,n,String(g(p))])),{fill:"2",insetTop:.5,insetBottom:.5})]}},null,8,["options"]),Oa,t(e,{defer:"",options:{width:322,height:25*10,margin:0,marginRight:70,padding:0,x:{axis:null},y:{axis:"right",tickSize:0},color:{type:"identity"},marks:[o([["Accent",Os],["Category10",Gs],["Dark2",Ys],["Observable10",Ns({color:{type:"categorical"}}).range],["Paired",zs],["Pastel1",Us],["Pastel2",Ms],["Set1",Hs],["Set2",Ws],["Set3",Js],["Tableau10",Ls]].flatMap(([n,g])=>g.map((p,M)=>[M,n,p])),{fill:"2",inset:.5})]}},null,8,["options"]),Ga,s("ul",null,[Ya,s("li",null,[Na,i(" - the label arrow: "),za,i(" (default), "),Ua,i(", "),Ma,i(", "),Ha,i(", "),Wa,i(", "),Ja,i(", or true "),t(E,{version:"0.6.7"})]),La,Xa,$a]),Qa,s("h2",Ka,[i("Sort mark option "),t(E,{version:"0.2.0"}),i(),Za]),st,s("p",null,[i("The sort option is an object whose keys are ordinal scale names, such as "),it,i(" or "),at,i(", and whose values are mark channel names, such as "),tt,i(", "),et,i(", or "),nt,i(". By specifying an existing channel rather than a new value, you avoid repeating the order definition and can refer to channels derived by "),lt,i(" (such as "),ht,i(" or "),pt,i("). When sorting the "),ot,i(" domain, if no "),rt,i(" channel is defined, "),kt,i(" will be used instead if available, and similarly for "),dt,i(" and "),Et,i("; this is useful for marks that implicitly stack such as "),gt,i(", "),ct,i(", and "),ut,i(". A sort value may also be specified as "),yt,i(" or "),mt,i(),t(E,{version:"0.4.2"}),i(", representing derived channels |"),Ft,i(" - "),bt,i("| and |"),ft,i(" - "),_t,i("| respectively.")]),Ct,s("h2",vt,[i("scale("),Bt,i(") "),t(E,{version:"0.4.0"}),i(),qt]),Tt,t(e,{mark:Xs(["apple","apple","orange","pear","orange"]),options:{color:r.color}},null,8,["mark","options"]),At])}}});export{It as __pageData,Rt as default};
