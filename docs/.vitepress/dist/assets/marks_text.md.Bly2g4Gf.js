import{b as c,c as b,x as C,t as i,w as d,m as r,aR as g,r as p,bI as B,G as v,f as x,ay as A}from"./chunks/theme.DAWdUpF4.js";import{a as y}from"./chunks/alphabet.Chdqe_eo.js";import{d as m}from"./chunks/driving.vSvdNEfU.js";import{J as _,p as w,G as u,c as q,L as e,s as o,q as t,a as l,a6 as a,o as P}from"./chunks/framework.Bev6ATEH.js";const N=JSON.parse('[{"station":"Palo Alto","time":"5:01am","line":"101N","type":"N","orientation":"N","hours":"5","minutes":"01"},{"station":"Palo Alto","time":"8:01pm","line":"191N","type":"N","orientation":"N","hours":"20","minutes":"01"},{"station":"Palo Alto","time":"9:01pm","line":"193N","type":"N","orientation":"N","hours":"21","minutes":"01"},{"station":"Palo Alto","time":"10:01pm","line":"195N","type":"N","orientation":"N","hours":"22","minutes":"01"},{"station":"Palo Alto","time":"11:01pm","line":"197N","type":"N","orientation":"N","hours":"23","minutes":"01"},{"station":"Palo Alto","time":"8:01am","line":"216L","type":"L","orientation":"S","hours":"8","minutes":"01"},{"station":"Palo Alto","time":"9:01am","line":"226L","type":"L","orientation":"S","hours":"9","minutes":"01"},{"station":"Palo Alto","time":"5:01pm","line":"264L","type":"L","orientation":"S","hours":"17","minutes":"01"},{"station":"Palo Alto","time":"6:02pm","line":"274L","type":"L","orientation":"S","hours":"18","minutes":"02"},{"station":"Palo Alto","time":"10:03am","line":"134N","type":"N","orientation":"S","hours":"10","minutes":"03"},{"station":"Palo Alto","time":"11:03am","line":"138N","type":"N","orientation":"S","hours":"11","minutes":"03"},{"station":"Palo Alto","time":"12:03pm","line":"142N","type":"N","orientation":"S","hours":"12","minutes":"03"},{"station":"Palo Alto","time":"1:03pm","line":"146N","type":"N","orientation":"S","hours":"13","minutes":"03"},{"station":"Palo Alto","time":"2:03pm","line":"150N","type":"N","orientation":"S","hours":"14","minutes":"03"},{"station":"Palo Alto","time":"3:03pm","line":"154N","type":"N","orientation":"S","hours":"15","minutes":"03"},{"station":"Palo Alto","time":"4:03pm","line":"158N","type":"N","orientation":"S","hours":"16","minutes":"03"},{"station":"Palo Alto","time":"6:05am","line":"305B","type":"B","orientation":"N","hours":"6","minutes":"05"},{"station":"Palo Alto","time":"7:05am","line":"313B","type":"B","orientation":"N","hours":"7","minutes":"05"},{"station":"Palo Alto","time":"8:05am","line":"323B","type":"B","orientation":"N","hours":"8","minutes":"05"},{"station":"Palo Alto","time":"5:06pm","line":"369B","type":"B","orientation":"N","hours":"17","minutes":"06"},{"station":"Palo Alto","time":"6:06pm","line":"379B","type":"B","orientation":"N","hours":"18","minutes":"06"},{"station":"Palo Alto","time":"7:10pm","line":"287L","type":"L","orientation":"N","hours":"19","minutes":"10"},{"station":"Palo Alto","time":"9:11am","line":"233L","type":"L","orientation":"N","hours":"9","minutes":"11"},{"station":"Palo Alto","time":"10:11am","line":"237L","type":"L","orientation":"N","hours":"10","minutes":"11"},{"station":"Palo Alto","time":"3:11pm","line":"257L","type":"L","orientation":"N","hours":"15","minutes":"11"},{"station":"Palo Alto","time":"5:12pm","line":"368B","type":"B","orientation":"S","hours":"17","minutes":"12"},{"station":"Palo Alto","time":"6:12pm","line":"378B","type":"B","orientation":"S","hours":"18","minutes":"12"},{"station":"Palo Alto","time":"7:12pm","line":"386B","type":"B","orientation":"S","hours":"19","minutes":"12"},{"station":"Palo Alto","time":"7:16am","line":"215L","type":"L","orientation":"N","hours":"7","minutes":"16"},{"station":"Palo Alto","time":"8:16am","line":"225L","type":"L","orientation":"N","hours":"8","minutes":"16"},{"station":"Palo Alto","time":"4:16pm","line":"261L","type":"L","orientation":"N","hours":"16","minutes":"16"},{"station":"Palo Alto","time":"5:16pm","line":"267L","type":"L","orientation":"N","hours":"17","minutes":"16"},{"station":"Palo Alto","time":"6:16pm","line":"277L","type":"L","orientation":"N","hours":"18","minutes":"16"},{"station":"Palo Alto","time":"7:18am","line":"208L","type":"L","orientation":"S","hours":"7","minutes":"18"},{"station":"Palo Alto","time":"8:18am","line":"218L","type":"L","orientation":"S","hours":"8","minutes":"18"},{"station":"Palo Alto","time":"9:18am","line":"228L","type":"L","orientation":"S","hours":"9","minutes":"18"},{"station":"Palo Alto","time":"7:21pm","line":"189N","type":"N","orientation":"N","hours":"19","minutes":"21"},{"station":"Palo Alto","time":"6:21am","line":"104N","type":"N","orientation":"S","hours":"6","minutes":"21"},{"station":"Palo Alto","time":"6:23am","line":"309B","type":"B","orientation":"N","hours":"6","minutes":"23"},{"station":"Palo Alto","time":"7:23am","line":"319B","type":"B","orientation":"N","hours":"7","minutes":"23"},{"station":"Palo Alto","time":"8:23am","line":"329B","type":"B","orientation":"N","hours":"8","minutes":"23"},{"station":"Palo Alto","time":"4:24pm","line":"263L","type":"L","orientation":"N","hours":"16","minutes":"24"},{"station":"Palo Alto","time":"5:24pm","line":"271L","type":"L","orientation":"N","hours":"17","minutes":"24"},{"station":"Palo Alto","time":"6:24pm","line":"281L","type":"L","orientation":"N","hours":"18","minutes":"24"},{"station":"Palo Alto","time":"10:25am","line":"236L","type":"L","orientation":"S","hours":"10","minutes":"25"},{"station":"Palo Alto","time":"3:25pm","line":"256L","type":"L","orientation":"S","hours":"15","minutes":"25"},{"station":"Palo Alto","time":"4:25pm","line":"260L","type":"L","orientation":"S","hours":"16","minutes":"25"},{"station":"Palo Alto","time":"7:26am","line":"210L","type":"L","orientation":"S","hours":"7","minutes":"26"},{"station":"Palo Alto","time":"8:26am","line":"220L","type":"L","orientation":"S","hours":"8","minutes":"26"},{"station":"Palo Alto","time":"9:26am","line":"230L","type":"L","orientation":"S","hours":"9","minutes":"26"},{"station":"Palo Alto","time":"8:26pm","line":"190N","type":"N","orientation":"S","hours":"20","minutes":"26"},{"station":"Palo Alto","time":"5:36am","line":"103N","type":"N","orientation":"N","hours":"5","minutes":"36"},{"station":"Palo Alto","time":"6:36am","line":"207L","type":"L","orientation":"N","hours":"6","minutes":"36"},{"station":"Palo Alto","time":"7:36am","line":"217L","type":"L","orientation":"N","hours":"7","minutes":"36"},{"station":"Palo Alto","time":"8:36am","line":"227L","type":"L","orientation":"N","hours":"8","minutes":"36"},{"station":"Palo Alto","time":"9:36pm","line":"192N","type":"N","orientation":"S","hours":"21","minutes":"36"},{"station":"Palo Alto","time":"10:36pm","line":"194N","type":"N","orientation":"S","hours":"22","minutes":"36"},{"station":"Palo Alto","time":"11:36pm","line":"196N","type":"N","orientation":"S","hours":"23","minutes":"36"},{"station":"Palo Alto","time":"3:38pm","line":"159N","type":"N","orientation":"N","hours":"15","minutes":"38"},{"station":"Palo Alto","time":"5:38pm","line":"270L","type":"L","orientation":"S","hours":"17","minutes":"38"},{"station":"Palo Alto","time":"6:38pm","line":"280L","type":"L","orientation":"S","hours":"18","minutes":"38"},{"station":"Palo Alto","time":"7:38pm","line":"288L","type":"L","orientation":"S","hours":"19","minutes":"38"},{"station":"Palo Alto","time":"9:41am","line":"135N","type":"N","orientation":"N","hours":"9","minutes":"41"},{"station":"Palo Alto","time":"10:41am","line":"139N","type":"N","orientation":"N","hours":"10","minutes":"41"},{"station":"Palo Alto","time":"11:41am","line":"143N","type":"N","orientation":"N","hours":"11","minutes":"41"},{"station":"Palo Alto","time":"12:41pm","line":"147N","type":"N","orientation":"N","hours":"12","minutes":"41"},{"station":"Palo Alto","time":"1:41pm","line":"151N","type":"N","orientation":"N","hours":"13","minutes":"41"},{"station":"Palo Alto","time":"2:41pm","line":"155N","type":"N","orientation":"N","hours":"14","minutes":"41"},{"station":"Palo Alto","time":"4:44pm","line":"362B","type":"B","orientation":"S","hours":"16","minutes":"44"},{"station":"Palo Alto","time":"5:49pm","line":"372B","type":"B","orientation":"S","hours":"17","minutes":"49"},{"station":"Palo Alto","time":"6:49pm","line":"382B","type":"B","orientation":"S","hours":"18","minutes":"49"},{"station":"Palo Alto","time":"5:51am","line":"102N","type":"N","orientation":"S","hours":"5","minutes":"51"},{"station":"Palo Alto","time":"7:51am","line":"314B","type":"B","orientation":"S","hours":"7","minutes":"51"},{"station":"Palo Alto","time":"8:51am","line":"324B","type":"B","orientation":"S","hours":"8","minutes":"51"},{"station":"Palo Alto","time":"5:54pm","line":"275L","type":"L","orientation":"N","hours":"17","minutes":"54"},{"station":"Palo Alto","time":"6:54pm","line":"285L","type":"L","orientation":"N","hours":"18","minutes":"54"},{"station":"Palo Alto","time":"6:57am","line":"206L","type":"L","orientation":"S","hours":"6","minutes":"57"},{"station":"Palo Alto","time":"12:57am","line":"198N","type":"N","orientation":"S","hours":"24","minutes":"57"}]'),S=N.map(({...k})=>c(k)),T=t("h1",{id:"text-mark",tabindex:"-1"},[l("Text mark "),t("a",{class:"header-anchor",href:"#text-mark","aria-label":'Permalink to "Text mark"'},"​")],-1),I=t("p",null,[l("The "),t("strong",null,"text mark"),l(" draws text at the given position in "),t("strong",null,"x"),l(" and "),t("strong",null,"y"),l(". It is often used to label other marks, such as to show the value of a "),t("a",{href:"./bar"},"bar"),l(". When space is available, direct labeling can allow faster and more accurate reading of values than an axis alone (or a tooltip).")],-1),L=a(`<a class="plot-fork no-icon" href="https://observablehq.com/@observablehq/plot-labeled-bars?intent=fork" target="_blank" title="Open on Observable">Fork</a><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  label: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  y: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    grid: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    label: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Frequency (%)&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    percent: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  marks: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">barY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(alphabet, {x: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;letter&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, y: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;frequency&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(alphabet, {x: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;letter&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, y: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;frequency&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">d</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (d.frequency </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toFixed</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), dy: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, lineAnchor: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;bottom&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ruleY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">])</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>For formatting numbers and dates, consider <a href="https://observablehq.com/@mbostock/number-formatting" target="_blank" rel="noreferrer"><em>number</em>.toLocaleString</a>, <a href="https://observablehq.com/@mbostock/date-formatting" target="_blank" rel="noreferrer"><em>date</em>.toLocaleString</a>, <a href="https://d3js.org/d3-format" target="_blank" rel="noreferrer">d3-format</a>, or <a href="https://d3js.org/d3-time-format" target="_blank" rel="noreferrer">d3-time-format</a>.</p></div><p>If there are too many data points, labels may overlap, making them hard to read. Use the <a href="./../transforms/filter">filter transform</a> to choose which points to label. In the connected scatterplot below, recreating Hannah Fairfield’s <a href="http://www.nytimes.com/imagepages/2010/05/02/business/02metrics.html" target="_blank" rel="noreferrer">“Driving Shifts Into Reverse”</a> from 2009, every fifth year is labeled.</p>`,4),D=a(`<a class="plot-fork no-icon" href="https://observablehq.com/@observablehq/plot-connected-scatterplot?intent=fork" target="_blank" title="Open on Observable">Fork</a><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  inset: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  grid: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  x: {label: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Miles driven (per person-year)&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  y: {label: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Cost of gasoline ($ per gallon)&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  marks: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">line</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(driving, {x: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;miles&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, y: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;gas&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, curve: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;catmull-rom&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, marker: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(driving, {</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">filter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">d</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d.year </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">%</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 5</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ===</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, x: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;miles&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, y: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;gas&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">d</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> \`\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">year</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, dy: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, lineAnchor: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;bottom&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>If you’d like automatic labeling, please upvote <a href="https://github.com/observablehq/plot/issues/27" target="_blank" rel="noreferrer">#27</a>.</p></div><p>For line charts with multiple series, you may wish to label only the start or end of each series; this can be done using the <a href="./../transforms/select">select transform</a>, as shown in the chart below comparing the number of daily travelers at airports in the U.S. between 2019 and 2020. The impact of the COVID-19 pandemic is dramatic.</p>`,4),O=a(`<a class="plot-fork no-icon" href="https://observablehq.com/@observablehq/plot-labeled-line-chart?intent=fork" target="_blank" title="Open on Observable">Fork</a><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  y: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    grid: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    label: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Travelers per day (millions)&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    transform</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">d</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1e6</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // convert to millions</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  marks: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ruleY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">line</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(travelers, {x: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;date&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, y: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;previous&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, strokeOpacity: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">line</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(travelers, {x: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;date&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, y: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;current&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(travelers, Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">selectFirst</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({x: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;date&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, y: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;previous&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, text: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2019&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], fillOpacity: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, lineAnchor: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;bottom&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, dy: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(travelers, Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">selectFirst</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({x: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;date&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, y: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;current&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, text: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2020&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], lineAnchor: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;top&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, dy: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><div class="warning custom-block"><p class="custom-block-title">CAUTION</p><p>The select transform uses input order, not natural order by value, to determine the meaning of <em>first</em> and <em>last</em>. Since this dataset is in reverse chronological order, the first element is the most recent.</p></div><p>A text mark can also be used to visualize data directly, similar to a <a href="./dot">dot mark</a> in a scatterplot. Below a “stem and leaf” plot of Caltrain’s Palo Alto station schedule uses <a href="./../transforms/stack">stacked</a> text. The <strong>fill</strong> channel provides a color encoding to distinguish trains that make every stop (<span style="border-bottom:solid currentColor 3px;">N</span>), limited trains that make fewer stops (<span style="border-bottom:solid peru 3px;">L</span>), and “baby bullet” trains that make the fewest stops (<span style="border-bottom:solid brown 3px;">B</span>).</p>`,4),V=a(`<a class="plot-fork no-icon" href="https://observablehq.com/@observablehq/plot-caltrain-schedule?intent=fork" target="_blank" title="Open on Observable">Fork</a><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  width: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">240</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  axis: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  x: {type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;point&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  y: {type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;point&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, domain: d3.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">range</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">25</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  color: {domain: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;NLB&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, range: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;currentColor&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;peru&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;brown&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], legend: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  marks: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]], {text: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Northbound&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], textAnchor: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;start&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, dx: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">16</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([[</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]], {text: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Southbound&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], textAnchor: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;end&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, dx: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">16</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(d3.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">range</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">25</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), {x: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, y: Plot.identity, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">y</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> \`\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">y</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> %</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 12</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ||</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 12</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">y</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> %</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 24</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 12</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ?</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;p&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;a&quot;}\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(caltrain, Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">stackX2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">x</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">d</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d.orientation </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;N&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ?</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> :</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, y: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;hours&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, fill: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, text: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;minutes&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ruleX</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">])</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><div class="info custom-block"><p class="custom-block-title">INFO</p><p>Since the <strong>textAnchor</strong> option is a constant rather than a channel, separate text marks are used for the <em>Northbound</em> and <em>Southbound</em> labels.</p></div><p>The <strong>x</strong> and <strong>y</strong> channels are optional; a one-dimensional text mark can be produced by specifying only one position dimension. If both <strong>x</strong> and <strong>y</strong> are not defined, the text mark assumes that the data is an iterable of points [[<em>x₁</em>, <em>y₁</em>], [<em>x₂</em>, <em>y₂</em>], …], allowing for <a href="./../features/shorthand">shorthand</a>. Furthermore, the default <strong>text</strong> channel is the associated datum’s index. (This is rarely what you want, but at least it gets something on the screen.)</p>`,4),W=a(`<a class="plot-fork no-icon" href="https://observablehq.com/@observablehq/plot-text-spiral?intent=fork" target="_blank" title="Open on Observable">Fork</a><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  aspectRatio: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  inset: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  grid: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  marks: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(d3.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">range</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">151</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">i</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      Math.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sqrt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(i) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Math.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      Math.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sqrt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(i) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Math.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cos</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ]))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><p>The text mark will generate multiple lines if the <strong>text</strong> contains newline characters (<code>\\n</code>). This may be useful for longer annotations.</p>`,3),j=a(`<a class="plot-fork no-icon" href="https://observablehq.com/@observablehq/plot-this-is-just-to-say?intent=fork" target="_blank" title="Open on Observable">Fork</a><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  height: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">200</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  marks: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">frame</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`This Is Just To Say</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">William Carlos Williams, 1934</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">I have eaten</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">the plums</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">that were in</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">the icebox</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">and which</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">you were probably</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">saving</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">for breakfast</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Forgive me</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">they were delicious</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">so sweet</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">and so cold\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], {frameAnchor: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;middle&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><p>Alternatively, the <strong>lineWidth</strong> option enables automatic line wrapping. This option must be specified as a number in <a href="https://developer.mozilla.org/en-US/docs/Learn/CSS/Building_blocks/Values_and_units" target="_blank" rel="noreferrer">ems</a>. When a word contains a <a href="https://en.wikipedia.org/wiki/Soft_hyphen" target="_blank" rel="noreferrer">soft-hyphen</a> (<code>\\xad</code>), it may be replaced by a hyphen when wrapping. The <strong>textOverflow</strong> option can also be used to truncate lines that exceed the specified line width, like in the incipit of Herman Melville’s <em>Moby-Dick</em> (1851).</p>`,3),z=a(`<a class="plot-fork no-icon" href="https://observablehq.com/@observablehq/plot-moby-dick?intent=fork" target="_blank" title="Open on Observable">Fork</a><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  height: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">320</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  x: {type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;point&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, align: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, axis: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;top&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, tickSize: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  marks: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;Call me Ishmael. Some years ago — never mind how long precisely — having little or no money in my purse, and nothing particular to interest me on shore, I thought I would sail about a little and see the watery part of the world. It is a way I have of driving off the spleen and regulating the circulation. Whenever I find myself growing grim about the mouth; whenever it is a damp, drizzly November in my soul; whenever I find myself involuntarily pausing before cof</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\xad</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">fin warehouses, and bringing up the rear of every funeral I meet; and especially whenever my hypos get such an upper hand of me, that it requires a strong moral principle to prevent me from deliberately stepping into the street, and methodically knocking people’s hats off — then, I account it high time to get to sea as soon as I can. This is my substitute for pistol and ball. With a philosophical flourish Cato throws himself upon his sword; I quietly take to the ship. There is nothing surprising in this. If they but knew it, almost all men in their degree, some time or other, cherish very nearly the same feelings towards the ocean with me.&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;There now is your insular city of the Manhattoes, belted round by wharves as Indian isles by coral reefs — commerce surrounds it with her surf. Right and left, the streets take you waterward. Its extreme downtown is the battery, where that noble mole is washed by waves, and cooled by breezes, which a few hours previous were out of sight of land. Look at the crowds of water-gazers there.&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;Circumambulate the city of a dreamy Sabbath afternoon. Go from Corlears Hook to Coenties Slip, and from thence, by Whitehall, northward. What do you see? — Posted like silent sentinels all around the town, stand thousands upon thousands of mortal men fixed in ocean reveries. Some leaning against the spiles; some seated upon the pier-heads; some looking over the bulwarks of ships from China; some high aloft in the rigging, as if striving to get a still better seaward peep. But these are all landsmen; of week days pent up in lath and plaster — tied to counters, nailed to benches, clinched to desks. How then is this? Are the green fields gone? What do they here?&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      ],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        x</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">d</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">i</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> i, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// paragraph number</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        lineWidth: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        frameAnchor: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;top&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        textAnchor: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;start&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    )</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><div class="warning custom-block"><p class="custom-block-title">CAUTION</p><p>For performance and simplicity, Plot does not measure text exactly and instead uses an approximate heuristic. If Plot’s automatic wrapping is not doing what you want, consider hard wrapping with manual newlines (<code>\\n</code>) instead. There is also a <strong>monospace</strong> option suitable for fixed-width fonts.</p></div><h2 id="text-options" tabindex="-1">Text options <a class="header-anchor" href="#text-options" aria-label="Permalink to &quot;Text options&quot;">​</a></h2><p>The following channels are required:</p><ul><li><strong>text</strong> - the text contents (a string, possibly with multiple lines)</li></ul><p>If the <strong>text</strong> contains <code>\\n</code>, <code>\\r\\n</code>, or <code>\\r</code>, it will be rendered as multiple lines. If the <strong>text</strong> is specified as numbers or dates, a default formatter will automatically be applied, and the <strong>fontVariant</strong> will default to <em>tabular-nums</em> instead of <em>normal</em>. If <strong>text</strong> is not specified, it defaults to <a href="./../features/transforms#identity">identity</a> for primitive data (such as numbers, dates, and strings), and to the zero-based index [0, 1, 2, …] for objects (so that something identifying is visible by default).</p><p>In addition to the <a href="./../features/marks#mark-options">standard mark options</a>, the following optional channels are supported:</p><ul><li><strong>x</strong> - the horizontal position; bound to the <em>x</em> scale</li><li><strong>y</strong> - the vertical position; bound to the <em>y</em> scale</li><li><strong>fontSize</strong> - the font size in pixels</li><li><strong>rotate</strong> - the rotation angle in degrees clockwise</li></ul><p>If either of the <strong>x</strong> or <strong>y</strong> channels are not specified, the corresponding position is controlled by the <strong>frameAnchor</strong> option.</p><p>The following text-specific constant options are also supported:</p>`,11),R=a('<li><strong>textAnchor</strong> - the <a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/text-anchor" target="_blank" rel="noreferrer">text anchor</a> for horizontal position; <em>start</em>, <em>end</em>, or <em>middle</em></li><li><strong>lineAnchor</strong> - the line anchor for vertical position; <em>top</em>, <em>bottom</em>, or <em>middle</em></li><li><strong>lineHeight</strong> - the line height in ems; defaults to 1</li><li><strong>lineWidth</strong> - the line width in ems, for wrapping; defaults to Infinity</li>',4),M=t("strong",null,"textOverflow",-1),U=a('<li><strong>monospace</strong> - if true, changes the default <strong>fontFamily</strong> and metrics to monospace</li><li><strong>fontFamily</strong> - the font name; defaults to <a href="https://drafts.csswg.org/css-fonts-4/#valdef-font-family-system-ui" target="_blank" rel="noreferrer"><em>system-ui</em></a></li><li><strong>fontSize</strong> - the font size in pixels; defaults to 10</li><li><strong>fontStyle</strong> - the <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/font-style" target="_blank" rel="noreferrer">font style</a>; defaults to <em>normal</em></li><li><strong>fontVariant</strong> - the <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/font-variant" target="_blank" rel="noreferrer">font variant</a>; defaults to <em>normal</em></li><li><strong>fontWeight</strong> - the <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/font-weight" target="_blank" rel="noreferrer">font weight</a>; defaults to <em>normal</em></li><li><strong>frameAnchor</strong> - how to position the text within the frame; defaults to <em>middle</em></li><li><strong>rotate</strong> - the rotation angle in degrees clockwise; defaults to 0</li>',8),Y=a('<p>If a <strong>lineWidth</strong> is specified, input text values will be wrapped as needed to fit while preserving existing newlines. The line wrapping implementation is rudimentary: it replaces the space before the word that overflows with a line feed (<code>\\n</code>). Lines might also be split on words that contain a soft-hyphen (<code>\\xad</code>), replacing it with a hyphen (-). For non-ASCII, non-U.S. English text, or for when a different font is used, you may get better results by hard-wrapping the text yourself (by supplying line feeds in the input). If the <strong>monospace</strong> option is truthy, the default <strong>fontFamily</strong> changes to monospace and the <strong>lineWidth</strong> option is interpreted as characters (ch) rather than ems.</p><p>The <strong>textOverflow</strong> option can be used to truncate lines of text longer than the given <strong>lineWidth</strong>. If the mark does not have a <strong>title</strong> channel, a title with the non-truncated text is also added. The following <strong>textOverflow</strong> values are supported:</p><ul><li>null (default) - preserve overflowing characters</li><li><em>clip</em> or <em>clip-end</em> - remove characters from the end</li><li><em>clip-start</em> - remove characters from the start</li><li><em>ellipsis</em> or <em>ellipsis-end</em> - replace characters from the end with an ellipsis (…)</li><li><em>ellipsis-start</em> - replace characters from the start with an ellipsis (…)</li><li><em>ellipsis-middle</em> - replace characters from the middle with an ellipsis (…)</li></ul><p>The <strong>fontSize</strong> and <strong>rotate</strong> options can be specified as either channels or constants. When fontSize or rotate is specified as a number, it is interpreted as a constant; otherwise it is interpreted as a channel.</p><p>If the <strong>frameAnchor</strong> option is not specified, then <strong>textAnchor</strong> and <strong>lineAnchor</strong> default to middle. Otherwise, <strong>textAnchor</strong> defaults to start if <strong>frameAnchor</strong> is on the left, end if <strong>frameAnchor</strong> is on the right, and otherwise middle. Similarly, <strong>lineAnchor</strong> defaults to top if <strong>frameAnchor</strong> is on the top, bottom if <strong>frameAnchor</strong> is on the bottom, and otherwise middle.</p><p>The <strong>paintOrder</strong> option defaults to <em>stroke</em> and the <strong>strokeWidth</strong> option defaults to 3. By setting <strong>fill</strong> to the foreground color and <strong>stroke</strong> to the background color (such as <em>black</em> and <em>white</em>, respectively), you can surround text with a “halo” which may improve legibility against a busy background.</p><h2 id="text" tabindex="-1">text(<em>data</em>, <em>options</em>) <a class="header-anchor" href="#text" aria-label="Permalink to &quot;text(*data*, *options*) {#text}&quot;">​</a></h2><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(driving, {x: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;miles&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, y: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;gas&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, text: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;year&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><p>Returns a new text mark with the given <em>data</em> and <em>options</em>. If neither the <strong>x</strong> nor <strong>y</strong> nor <strong>frameAnchor</strong> options are specified, <em>data</em> is assumed to be an array of pairs [[<em>x₀</em>, <em>y₀</em>], [<em>x₁</em>, <em>y₁</em>], [<em>x₂</em>, <em>y₂</em>], …] such that <strong>x</strong> = [<em>x₀</em>, <em>x₁</em>, <em>x₂</em>, …] and <strong>y</strong> = [<em>y₀</em>, <em>y₁</em>, <em>y₂</em>, …].</p><h2 id="textX" tabindex="-1">textX(<em>data</em>, <em>options</em>) <a class="header-anchor" href="#textX" aria-label="Permalink to &quot;textX(*data*, *options*) {#textX}&quot;">​</a></h2><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">textX</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(alphabet.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">d</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d.frequency))</span></span></code></pre></div><p>Equivalent to <a href="#text">text</a>, except <strong>x</strong> defaults to <a href="./../features/transforms#identity">identity</a> and assumes that <em>data</em> = [<em>x₀</em>, <em>x₁</em>, <em>x₂</em>, …].</p><p>If an <strong>interval</strong> is specified, such as d3.utcDay, <strong>y</strong> is transformed to (<em>interval</em>.floor(<em>y</em>) + <em>interval</em>.offset(<em>interval</em>.floor(<em>y</em>))) / 2. If the interval is specified as a number <em>n</em>, <em>y</em> will be the midpoint of two consecutive multiples of <em>n</em> that bracket <em>y</em>. Named UTC intervals such as <em>day</em> are also supported; see <a href="./../features/scales#scale-options">scale options</a>.</p><h2 id="textY" tabindex="-1">textY(<em>data</em>, <em>options</em>) <a class="header-anchor" href="#textY" aria-label="Permalink to &quot;textY(*data*, *options*) {#textY}&quot;">​</a></h2><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Plot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">textY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(alphabet.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">d</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d.frequency))</span></span></code></pre></div><p>Equivalent to <a href="#text">text</a>, except <strong>y</strong> defaults to <a href="./../features/transforms#identity">identity</a> and assumes that <em>data</em> = [<em>y₀</em>, <em>y₁</em>, <em>y₂</em>, …].</p><p>If an <strong>interval</strong> is specified, such as d3.utcDay, <strong>x</strong> is transformed to (<em>interval</em>.floor(<em>x</em>) + <em>interval</em>.offset(<em>interval</em>.floor(<em>x</em>))) / 2. If the interval is specified as a number <em>n</em>, <em>x</em> will be the midpoint of two consecutive multiples of <em>n</em> that bracket <em>x</em>. Named UTC intervals such as <em>day</em> are also supported; see <a href="./../features/scales#scale-options">scale options</a>.</p>',17),Q=JSON.parse('{"title":"Text mark","description":"","frontmatter":{},"headers":[],"relativePath":"marks/text.md","filePath":"marks/text.md"}'),X={name:"marks/text.md"},Z=Object.assign(X,{setup(k){const h=_([]);return w(()=>{b("../data/travelers.csv",c).then(E=>h.value=E)}),(E,$)=>{const n=u("PlotRender"),F=u("VersionBadge");return P(),q("div",null,[T,I,e(n,{options:{label:null,y:{grid:!0,label:"Frequency (%)",percent:!0},marks:[C(o(y),{x:"letter",y:"frequency"}),i(o(y),{x:"letter",y:"frequency",text:s=>(s.frequency*100).toFixed(1),dy:-6,lineAnchor:"bottom"}),d([0])]}},null,8,["options"]),L,e(n,{options:{inset:10,grid:!0,x:{label:"Miles driven (per person-year)"},y:{label:"Cost of gasoline ($ per gallon)"},marks:[r(o(m),{x:"miles",y:"gas",curve:"catmull-rom",marker:!0}),i(o(m),{filter:s=>s.year%5===0,x:"miles",y:"gas",text:s=>`${s.year}`,dy:-6,lineAnchor:"bottom"})]}},null,8,["options"]),D,e(n,{defer:"",options:{y:{grid:!0,label:"Travelers per day (millions)",transform:s=>s/1e6},marks:[d([0]),r(h.value,{x:"date",y:"previous",strokeOpacity:.5}),r(h.value,{x:"date",y:"current"}),i(h.value,g({x:"date",y:"previous",text:["2019"],fillOpacity:.5,lineAnchor:"bottom",dy:-6})),i(h.value,g({x:"date",y:"current",text:["2020"],lineAnchor:"top",dy:6}))]}},null,8,["options"]),O,e(n,{options:{width:240,axis:null,x:{type:"point"},y:{type:"point",domain:p(4,25)},color:{domain:"NLB",range:["currentColor","peru","brown"],legend:!0},marks:[i([[.5,4]],{text:["Northbound"],textAnchor:"start",dx:16}),i([[-.5,4]],{text:["Southbound"],textAnchor:"end",dx:-16}),i(p(5,25),{x:0,y:A,text:s=>`${s%12||12}${s%24>=12?"p":"a"}`}),i(o(S),B({x:s=>s.orientation==="N"?1:-1,y:"hours",fill:"type",text:"minutes"})),v([-.5,.5])]}},null,8,["options"]),V,e(n,{options:{aspectRatio:1,inset:10,grid:!0,marks:[i(p(151).map(s=>[Math.sqrt(s)*Math.sin(s/10),Math.sqrt(s)*Math.cos(s/10)]))]}},null,8,["options"]),W,e(n,{options:{height:200,marks:[x(),i([`This Is Just To Say
William Carlos Williams, 1934

I have eaten
the plums
that were in
the icebox

and which
you were probably
saving
for breakfast

Forgive me
they were delicious
so sweet
and so cold`],{frameAnchor:"middle"})]}},null,8,["options"]),j,e(n,{options:{height:320,x:{type:"point",align:0,axis:"top",tickSize:0},marks:[i(["Call me Ishmael. Some years ago — never mind how long precisely — having little or no money in my purse, and nothing particular to interest me on shore, I thought I would sail about a little and see the watery part of the world. It is a way I have of driving off the spleen and regulating the circulation. Whenever I find myself growing grim about the mouth; whenever it is a damp, drizzly November in my soul; whenever I find myself involuntarily pausing before cof­fin warehouses, and bringing up the rear of every funeral I meet; and especially whenever my hypos get such an upper hand of me, that it requires a strong moral principle to prevent me from deliberately stepping into the street, and methodically knocking people’s hats off — then, I account it high time to get to sea as soon as I can. This is my substitute for pistol and ball. With a philosophical flourish Cato throws himself upon his sword; I quietly take to the ship. There is nothing surprising in this. If they but knew it, almost all men in their degree, some time or other, cherish very nearly the same feelings towards the ocean with me.","There now is your insular city of the Manhattoes, belted round by wharves as Indian isles by coral reefs — commerce surrounds it with her surf. Right and left, the streets take you waterward. Its extreme downtown is the battery, where that noble mole is washed by waves, and cooled by breezes, which a few hours previous were out of sight of land. Look at the crowds of water-gazers there.","Circumambulate the city of a dreamy Sabbath afternoon. Go from Corlears Hook to Coenties Slip, and from thence, by Whitehall, northward. What do you see? — Posted like silent sentinels all around the town, stand thousands upon thousands of mortal men fixed in ocean reveries. Some leaning against the spiles; some seated upon the pier-heads; some looking over the bulwarks of ships from China; some high aloft in the rigging, as if striving to get a still better seaward peep. But these are all landsmen; of week days pent up in lath and plaster — tied to counters, nailed to benches, clinched to desks. How then is this? Are the green fields gone? What do they here?"],{x:(s,f)=>1+f,lineWidth:20,frameAnchor:"top",textAnchor:"start"})]}},null,8,["options"]),z,t("ul",null,[R,t("li",null,[M,l(" - how to wrap or clip lines longer than the specified line width "),e(F,{version:"0.6.4"})]),U]),Y])}}});export{Q as __pageData,Z as default};
