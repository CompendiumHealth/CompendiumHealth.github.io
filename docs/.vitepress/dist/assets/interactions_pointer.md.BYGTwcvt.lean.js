import{k as F,J as g,p as A,G as q,c as _,q as s,a as i,L as o,t as C,w as r,a8 as w,aa as d,a6 as e,o as f}from"./chunks/framework.Bev6ATEH.js";import{c as y,b as c,e as u,aJ as D,a as v,w as V,y as S,M as x,aK as I,G as j,aL as b,t as X,aM as Y}from"./chunks/theme.DAWdUpF4.js";const R={id:"pointer-transform",tabindex:"-1"},N=s("a",{class:"header-anchor",href:"#pointer-transform","aria-label":'Permalink to "Pointer transform <VersionBadge version="0.6.7" />"'},"​",-1),O=s("p",null,[i("The "),s("strong",null,"pointer transform"),i(" filters a mark interactively such that only the point closest to the pointer is rendered. It is typically used to show details on hover, often with a "),s("a",{href:"./../marks/tip"},"tip"),i(" or "),s("a",{href:"./crosshair"},"crosshair"),i(" mark, but it can be paired with any mark.")],-1),M=s("span",{style:{"border-bottom":"solid 2px var(--vp-c-red)"}},"red",-1),z={style:{"border-bottom":"solid 2px currentColor"}},U={class:"label-input"},L=e("",1),$={key:0},J=e("",1),W=[J],G={key:1},H=e("",1),K=[H],Q=e("",3),Z={class:"label-input"},ss={style:{"margin-left":"0.5em"}},is={style:{"margin-left":"0.5em"}},ts={style:{"margin-left":"0.5em"}},as=s("a",{class:"plot-fork no-icon",href:"https://observablehq.com/@observablehq/plot-pointer-modes-x-y-and-xy?intent=fork",target:"_blank",title:"Open on Observable"},"Fork",-1),es={class:"language-js vp-adaptive-theme"},ns=s("button",{title:"Copy Code",class:"copy"},null,-1),ls=s("span",{class:"lang"},"js",-1),hs={class:"shiki shiki-themes github-light github-dark vp-code"},ps={class:"line"},os=e("",7),rs={style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},ks=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}).",-1),ds=s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"plot",-1),Es=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"()",-1),gs=s("p",null,[i("“One-dimensional” is a slight misnomer: the pointerX and pointerY transforms consider distance in both dimensions, but the distance along the non-dominant dimension is divided by 100. Below, the pointerX transform is applied to a multi-series line chart; the closest point in "),s("em",null,"x"),i(" is chosen, while "),s("em",null,"y"),i(" is used to “break ties” such that you can focus different series by moving the mouse vertically.")],-1),ys=e("",3),cs={class:"label-input"},us={style:{"margin-left":"0.5em"}},ms={style:{"margin-left":"0.5em"}},Fs=s("a",{class:"plot-fork no-icon",href:"https://observablehq.com/@observablehq/plot-one-dimensional-pointing?intent=fork",target:"_blank",title:"Open on Observable"},"Fork",-1),_s={class:"language-js vp-adaptive-theme"},Cs=s("button",{title:"Copy Code",class:"copy"},null,-1),fs=s("span",{class:"lang"},"js",-1),vs={class:"shiki shiki-themes github-light github-dark vp-code"},bs=s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"Plot."),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"plot"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"({")],-1),Bs=s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  x: {label: "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"Daily volume (log₁₀)"'),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"},")],-1),qs=s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  marks: [")],-1),xs={class:"line"},Ts=e("",17),Ps={style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},As=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"})),",-1),ws=e("",1),Ds=s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  ]")],-1),Vs=s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"})")],-1),Ss=e("",4),Is=e("",21),Ns=JSON.parse('{"title":"Pointer transform","description":"","frontmatter":{},"headers":[],"relativePath":"interactions/pointer.md","filePath":"interactions/pointer.md"}'),js={name:"interactions/pointer.md"},Os=Object.assign(js,{setup(Xs){const E=F(!0),l=g([]),B=g([]),T=g([]),m=g([]),h=F("x"),p=F("x");return A(()=>{y("../data/aapl.csv",c).then(n=>l.value=n),y("../data/athletes.csv",c).then(n=>T.value=n),y("../data/bls-industry-unemployment.csv",c).then(n=>B.value=n),y("../data/penguins.csv",c).then(n=>m.value=n)}),(n,a)=>{const P=q("VersionBadge"),k=q("PlotRender");return f(),_("div",null,[s("h1",R,[i("Pointer transform "),o(P,{version:"0.6.7"}),i(),N]),O,s("p",null,[i("To demonstrate, below the pointer transform filters a filled "),M,i(" dot behind a stroked "),s("span",z,C(n.$dark?"white":"black"),1),i(" dot. As you hover the chart, only the closest red dot to the pointer is rendered. If you remove the pointer transform by toggling the checkbox, all the red dots will be visible.")]),s("p",null,[s("label",U,[i(" Use pointer: "),r(s("input",{type:"checkbox","onUpdate:modelValue":a[0]||(a[0]=t=>E.value=t)},null,512),[[w,E.value]])])]),o(k,{defer:"",options:{marks:[u(m.value,(E.value?D:t=>t)({x:"culmen_length_mm",y:"culmen_depth_mm",fill:"var(--vp-c-red)",r:8})),u(m.value,{x:"culmen_length_mm",y:"culmen_depth_mm"})]}},null,8,["options"]),L,E.value?(f(),_("div",$,W)):(f(),_("div",G,K)),Q,s("p",null,[s("span",Z,[i(" Pointing mode: "),s("label",ss,[r(s("input",{type:"radio",name:"linetip",value:"xy","onUpdate:modelValue":a[1]||(a[1]=t=>h.value=t)},null,512),[[d,h.value]]),i(" pointer")]),s("label",is,[r(s("input",{type:"radio",name:"linetip",value:"x","onUpdate:modelValue":a[2]||(a[2]=t=>h.value=t)},null,512),[[d,h.value]]),i(" pointerX")]),s("label",ts,[r(s("input",{type:"radio",name:"linetip",value:"y","onUpdate:modelValue":a[3]||(a[3]=t=>h.value=t)},null,512),[[d,h.value]]),i(" pointerY")])])]),o(k,{defer:"",mark:v(l.value,{x:"Date",y:"Close",tip:h.value}),options:{}},null,8,["mark"]),as,s("div",es,[ns,ls,s("pre",hs,[s("code",null,[s("span",ps,[os,s("span",rs,'"'+C(h.value)+'"',1),ks,ds,Es])])])]),gs,o(k,{defer:"",options:{marks:[V([0]),v(B.value,{x:"date",y:"unemployed",stroke:"industry",tip:"x"})]}},null,8,["options"]),ys,s("p",null,[s("span",cs,[i(" Pointing mode: "),s("label",us,[r(s("input",{type:"radio",name:"recttip",value:"xy","onUpdate:modelValue":a[4]||(a[4]=t=>p.value=t)},null,512),[[d,p.value]]),i(" pointer")]),s("label",ms,[r(s("input",{type:"radio",name:"recttip",value:"x","onUpdate:modelValue":a[5]||(a[5]=t=>p.value=t)},null,512),[[d,p.value]]),i(" pointerX")])])]),o(k,{defer:"",options:{x:{label:"Daily volume (log₁₀)"},marks:[S(l.value,x({y:"count"},{x:t=>Math.log10(t.Volume),thresholds:40,tip:p.value})),u(l.value,I(x({y:"count"},{x:t=>Math.log10(t.Volume),thresholds:40,stroke:"var(--vp-c-red)"})))]}},null,8,["options"]),Fs,s("div",_s,[Cs,fs,s("pre",vs,[s("code",null,[bs,i(`
`),Bs,i(`
`),qs,i(`
`),s("span",xs,[Ts,s("span",Ps,'"'+C(p.value)+'"',1),As]),i(`
`),ws,i(`
`),Ds,i(`
`),Vs])])]),Ss,o(k,{defer:"",options:{height:160,y:{axis:"right",grid:!0,nice:!0},marks:[v(l.value,{x:"Date",y:"Close"}),j(l.value,b({x:"Date",py:"Close",stroke:"var(--vp-c-red)"})),u(l.value,b({x:"Date",y:"Close",stroke:"var(--vp-c-red)"})),X(l.value,b({px:"Date",py:"Close",dy:-17,frameAnchor:"top-left",fontVariant:"tabular-nums",text:t=>[`Date ${Y(t.Date)}`,`Close ${t.Close.toFixed(2)}`].join("   ")}))]}},null,8,["options"]),Is])}}});export{Ns as __pageData,Os as default};
